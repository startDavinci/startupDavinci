(function(e){function d(){var a=navigator.userAgent,b=navigator.platform,c=["iOS","Android","Other"],f=[];f[0]=a.match(/(?:i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS )([^\\s;]+)/);f[1]=a.match(/(?:(Android ))([^\\s;]+)/);for(var g=0;g<f.length;g++)if(f[g])break;if(g<f.length){if(e.davinci.osName=c[g],f[g])c=f[g],c=c[c.length-1],c=c.toLowerCase().replace(/_/g,".").replace(/[\-+]/g,""),f=c.search(/([^\d\.])/),e.davinci.osVersion=f!==-1?c.substr(0,f):c}else e.davinci.osName=c[g],e.davinci.osVersion=
"";e.davinci.deviceType=e.davinci.osName!="iOS"&&e.davinci.osName!="Android"&&b!="iPad"?"Desktop":b=="iPad"||e.davinci.osName=="Android"&&parseInt(e.davinci.osVersion)==3||e.davinci.osName=="Android"&&parseInt(e.davinci.osVersion)==4&&a.search(/mobile/i)==-1?"Tablet":"Phone"}e(document).bind("mobileinit",function(){console.log("mobileinit - in");e.mobile.loadingMessageTextVisible=true;if(typeof device!=="undefined")e.mobile.autoInitializePage=false;document.addEventListener("deviceready",function(){console.log("called deviceready");
e.mobile.initializePage();e.davinci.deviceReady=true});document.addEventListener("back",function(){if(e.davinci.deviceReady){var a=e("body>.ui-page-active"),b=a.data("page");a.trigger("ev_back",[b])}});e.davinci={};d();e.davinci.deviceType=="Desktop"?e(window).bind("resize",function(){var a=e.event.special.orientationchange.orientation(),b=e("body>.ui-page-active");e._fnFindActivePagesInPagebox(b).each(function(){e._fnSubpageEventGenerate(this,"ev_orientationchange")});var c=b.data("page");b._pageTrigger("ev_orientationchange",
[c,a])}):e(window).bind("orientationchange",function(a){var a=a.orientation,b=e("body>.ui-page-active");e._fnFindActivePagesInPagebox(b).each(function(){e._fnSubpageEventGenerate(this,"ev_orientationchange")});var c=b.data("page");b._pageTrigger("ev_orientationchange",[c,a])});document.addEventListener("notification",function(){if(e.davinci.deviceReady){var a=e(".ui-page:first"),b=device.system.event.getParameter("notification"),c=a.data("page");a.trigger("ev_onnotification",[c,b])}});document.addEventListener("push",
function(){if(e.davinci.deviceReady){var a=e(".ui-page:first"),b=device.system.event.getParameter("push"),c=a.data("page");a.trigger("ev_onpush",[c,b])}});console.log("mobileinit - out")})})(jQuery);
(function(e,d,a){typeof define==="function"&&define.amd?define(["jquery"],function(b){a(b,e,d);return b.mobile}):a(e.jQuery,e,d)})(this,document,function(e,d,a){(function(b,a,f,g){function h(b){for(;b&&typeof b.originalEvent!=="undefined";)b=b.originalEvent;return b}function j(a){for(var c={},f,g;a;){f=b.data(a,v);for(g in f)if(f[g])c[g]=c.hasVirtualBinding=true;a=a.parentNode}return c}function d(){z&&(clearTimeout(z),z=0);z=setTimeout(function(){D=z=0;F.length=0;J=false;E=true},b.vmouse.resetTimerDuration)}
function e(a,c,f){var j,d;if(!(d=f&&f[a])){if(f=!f)a:{for(f=c.target;f;){if((d=b.data(f,v))&&(!a||d[a]))break a;f=f.parentNode}f=null}d=f}if(d){j=c;var f=j.type,k,l;j=b.Event(j);j.type=a;d=j.originalEvent;k=b.event.props;f.search(/^(mouse|click)/)>-1&&(k=x);if(d)for(l=k.length;l;)a=k[--l],j[a]=d[a];if(f.search(/mouse(down|up)|click/)>-1&&!j.which)j.which=1;if(f.search(/^touch/)!==-1&&(a=h(d),f=a.touches,a=a.changedTouches,f=f&&f.length?f[0]:a&&a.length?a[0]:g))for(d=0,len=u.length;d<len;d++)a=u[d],
j[a]=f[a];b(c.target).trigger(j)}return j}function m(a){var c=b.data(a.target,w);if(!J&&(!D||D!==c))if(c=e("v"+a.type,a))c.isDefaultPrevented()&&a.preventDefault(),c.isPropagationStopped()&&a.stopPropagation(),c.isImmediatePropagationStopped()&&a.stopImmediatePropagation()}function o(a){var c=h(a).touches,f;if(c&&c.length===1&&(f=a.target,c=j(f),c.hasVirtualBinding))D=M++,b.data(f,w,D),z&&(clearTimeout(z),z=0),C=E=false,f=h(a).touches[0],A=f.pageX,B=f.pageY,e("vmouseover",a,c),e("vmousedown",a,c)}
function n(b){E||(C||e("vmousecancel",b,j(b.target)),C=true,d())}function q(a){if(!E){var c=h(a).touches[0],f=C,g=b.vmouse.moveDistanceThreshold;C=C||Math.abs(c.pageX-A)>g||Math.abs(c.pageY-B)>g;flags=j(a.target);C&&!f&&e("vmousecancel",a,flags);e("vmousemove",a,flags);d()}}function p(b){if(!E){E=true;var a=j(b.target),c;e("vmouseup",b,a);if(!C&&(c=e("vclick",b,a))&&c.isDefaultPrevented())c=h(b).changedTouches[0],F.push({touchID:D,x:c.clientX,y:c.clientY}),J=true;e("vmouseout",b,a);C=false;d()}}function s(a){var a=
b.data(a,v),c;if(a)for(c in a)if(a[c])return true;return false}function r(){}function t(a){var c=a.substr(1);return{setup:function(){s(this)||b.data(this,v,{});b.data(this,v)[a]=true;y[a]=(y[a]||0)+1;y[a]===1&&G.bind(c,m);b(this).bind(c,r);if(K)y.touchstart=(y.touchstart||0)+1,y.touchstart===1&&G.bind("touchstart",o).bind("touchend",p).bind("touchmove",q).bind("scroll",n)},teardown:function(){--y[a];y[a]||G.unbind(c,m);K&&(--y.touchstart,y.touchstart||G.unbind("touchstart",o).unbind("touchmove",q).unbind("touchend",
p).unbind("scroll",n));var f=b(this),g=b.data(this,v);g&&(g[a]=false);f.unbind(c,r);s(this)||f.removeData(v)}}}var v="virtualMouseBindings",w="virtualTouchID",a="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),x=b.event.props.concat(b.event.mouseHooks?b.event.mouseHooks.props:[]),y={},z=0,A=0,B=0,C=false,F=[],J=false,E=false,K="addEventListener"in f,G=b(f),M=1,D=0;b.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,
resetTimerDuration:1500};for(var H=0;H<a.length;H++)b.event.special[a[H]]=t(a[H]);K&&f.addEventListener("click",function(a){var c=F.length,f=a.target,g,j,h,d,e;if(c){g=a.clientX;j=a.clientY;threshold=b.vmouse.clickDistanceThreshold;for(h=f;h;){for(d=0;d<c;d++)if(e=F[d],h===f&&Math.abs(e.x-g)<threshold&&Math.abs(e.y-j)<threshold||b.data(h,w)===e.touchID){a.preventDefault();a.stopPropagation();return}h=h.parentNode}}},true)})(jQuery,d,a);(function(b,c,f){function g(b){b=b||location.href;return"#"+b.replace(/^[^#]*#?(.*)$/,
"$1")}var h="hashchange",j=a,d,e=b.event.special,m=j.documentMode,o="on"+h in c&&(m===f||m>7);b.fn[h]=function(b){return b?this.bind(h,b):this.trigger(h)};b.fn[h].delay=50;e[h]=b.extend(e[h],{setup:function(){if(o)return false;b(d.start)},teardown:function(){if(o)return false;b(d.stop)}});d=function(){function a(){var f=g(),j=v(k);if(f!==k)m(k=f,j),b(c).trigger(h);else if(j!==k)location.href=location.href.replace(/#.*/,"")+j;e=setTimeout(a,b.fn[h].delay)}var d={},e,k=g(),l=function(b){return b},m=
l,v=l;d.start=function(){e||a()};d.stop=function(){e&&clearTimeout(e);e=f};b.browser.msie&&!o&&function(){var c,f;d.start=function(){if(!c)f=(f=b.fn[h].src)&&f+g(),c=b('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){f||m(g());a()}).attr("src",f||"javascript:0").insertAfter("body")[0].contentWindow,j.onpropertychange=function(){try{if(event.propertyName==="title")c.document.title=j.title}catch(b){}}};d.stop=l;v=function(){return g(c.location.href)};m=function(a,f){var g=c.document,
d=b.fn[h].domain;if(a!==f)g.title=j.title,g.open(),d&&g.write('<script>document.domain="'+d+'"<\/script>'),g.close(),c.location.hash=a}}();return d}()})(jQuery,this);(function(b,a){if(b.cleanData){var f=b.cleanData;b.cleanData=function(a){for(var c=0,g;(g=a[c])!=null;c++)b(g).triggerHandler("remove");f(a)}}else{var g=b.fn.remove;b.fn.remove=function(a,c){return this.each(function(){c||(!a||b.filter(a,[this]).length)&&b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")});return g.call(b(this),
a,c)})}}b.widget=function(a,c,f){var g=a.split(".")[0],d,a=a.split(".")[1];d=g+"-"+a;if(!f)f=c,c=b.Widget;b.expr[":"][d]=function(c){return!!b.data(c,a)};b[g]=b[g]||{};b[g][a]=function(b,a){arguments.length&&this._createWidget(b,a)};c=new c;c.options=b.extend(true,{},c.options);c.classes=b.extend(true,{},c.classes);b[g][a].prototype=b.extend(true,c,{namespace:g,widgetName:a,widgetEventPrefix:b[g][a].prototype.widgetEventPrefix||a,widgetBaseClass:d},f);b.widget.bridge(a,b[g][a])};b.widget.bridge=function(f,
g){b.fn[f]=function(d){var e=typeof d==="string",m=Array.prototype.slice.call(arguments,1),o=this,d=!e&&m.length?b.extend.apply(null,[true,d].concat(m)):d;if(e&&d.charAt(0)==="_")return o;e?this.each(function(){var g=b.data(this,f);if(!g)throw"cannot call methods on "+f+" prior to initialization; attempted to call method '"+d+"'";if(!b.isFunction(g[d]))throw"no such method '"+d+"' for "+f+" widget instance";var j=g[d].apply(g,m);if(j!==g&&j!==a)return o=j,false}):this.each(function(){var a=b.data(this,
f);a?a.option(d||{})._init():b.data(this,f,new g(d,this))});return o}};b.Widget=function(b,a){arguments.length&&this._createWidget(b,a)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(a,c){b.data(c,this.widgetName,this);this.element=b(c);this.options=b.extend(true,{},this.options,this._getCreateOptions(),a);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},
_getCreateOptions:function(){var a={};b.metadata&&(a=b.metadata.get(element)[this.widgetName]);return a},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(f,g){var d=f;if(arguments.length===0)return b.extend({},this.options);if(typeof f===
"string"){if(g===a)return this.options[f];d={};d[f]=g}this._setOptions(d);return this},_setOptions:function(a){var c=this;b.each(a,function(b,a){c._setOption(b,a)});return this},_setOption:function(b,a){this.options[b]=a;b==="disabled"&&this.widget()[a?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",a);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(a,
c,f){var g=this.options[a],c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();f=f||{};if(c.originalEvent)for(var a=b.event.props.length,d;a;)d=b.event.props[--a],c[d]=c.originalEvent[d];this.element.trigger(c,f);return!(b.isFunction(g)&&g.call(this.element[0],c,f)===false||c.isDefaultPrevented())}}})(jQuery);(function(b,a){b.widget("mobile.widget",{_createWidget:function(){b.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var f=
this.element,g={};b.each(this.options,function(b){var d=f.jqmData(b.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()}));d!==a&&(g[b]=d)});return g},enhanceWithin:function(a,c){this.enhance(b(this.options.initSelector,b(a)),c)},enhance:function(a,c){var d,j=b(a),j=b.mobile.enhanceable(j);c&&j.length&&(d=(d=b.mobile.closestPageData(j))&&d.keepNativeSelector()||"",j=j.not(d));j[this.widgetName]()},raise:function(b){throw"Widget ["+this.widgetName+"]: "+b;}})})(jQuery);(function(b,c){var f={};b.mobile=
b.extend({},{version:"1.1.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"fade",maxTransitionWidth:false,minScrollBack:250,touchOverflowEnabled:false,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",loadingMessageTextVisible:false,loadingMessageTheme:"a",pageLoadErrorMessageTheme:"e",autoInitializePage:true,
pushStateEnabled:true,ignoreContentEnabled:false,orientationChangeEnabled:true,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(f){if(b.type(f)!==
"number")f=b.mobile.defaultHomeScroll;b.event.special.scrollstart.enabled=false;setTimeout(function(){c.scrollTo(0,f);b(a).trigger("silentscroll",{x:0,y:f})},20);setTimeout(function(){b.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:f,nsNormalize:function(a){return!a?void 0:f[a]||(f[a]=b.camelCase(b.mobile.ns+a))},getInheritedTheme:function(b,a){for(var c=b[0],f="",g=/ui-(bar|body|overlay)-([a-z])\b/,d,h;c;){d=c.className||"";if((h=g.exec(d))&&(f=h[2]))break;c=c.parentNode}return f||
a||"a"},closestPageData:function(b){return b.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(b){return this.haveParents(b,"enhance")},hijackable:function(b){return this.haveParents(b,"ajax")},haveParents:function(a,c){if(!b.mobile.ignoreContentEnabled)return a;for(var f=a.length,g=b(),d,h,e,p=0;p<f;p++){h=a.eq(p);e=false;for(d=a[p];d;){if((d.getAttribute?d.getAttribute("data-"+b.mobile.ns+c):"")==="false"){e=true;break}d=d.parentNode}e||(g=g.add(h))}return g}},
b.mobile);b.fn.jqmData=function(a,c){var f;typeof a!="undefined"&&(a&&(a=b.mobile.nsNormalize(a)),f=this.data.apply(this,arguments.length<2?[a]:[a,c]));return f};b.jqmData=function(a,c,f){var g;typeof c!="undefined"&&(g=b.data(a,c?b.mobile.nsNormalize(c):c,f));return g};b.fn.jqmRemoveData=function(a){return this.removeData(b.mobile.nsNormalize(a))};b.jqmRemoveData=function(a,c){return b.removeData(a,b.mobile.nsNormalize(c))};b.fn.removeWithDependents=function(){b.removeWithDependents(this)};b.removeWithDependents=
function(a){a=b(a);(a.jqmData("dependents")||b()).remove();a.remove()};b.fn.addDependents=function(a){b.addDependents(b(this),a)};b.addDependents=function(a,c){var f=b(a).jqmData("dependents")||b();b(a).jqmData("dependents",b.merge(f,c))};b.fn.getEncodedText=function(){return b("<div/>").text(b(this).text()).html()};b.fn.jqmEnhanceable=function(){return b.mobile.enhanceable(this)};b.fn.jqmHijackable=function(){return b.mobile.hijackable(this)};var g=b.find,d=/:jqmData\(([^)]*)\)/g;b.find=function(a,
c,f,e){a=a.replace(d,"[data-"+(b.mobile.ns||"")+"$1]");return g.call(this,a,c,f,e)};b.extend(b.find,g);b.find.matches=function(a,c){return b.find(a,null,null,c)};b.find.matchesSelector=function(a,c){return b.find(c,null,null,[a]).length>0}})(jQuery,this);(function(b){b(d);var c=b("html");b.mobile.media=function(){var f={},g=b("<div id='jquery-mediatest'>"),d=b("<body>").append(g);return function(b){if(!(b in f)){var e=a.createElement("style"),l="@media "+b+" { #jquery-mediatest { position:absolute; } }";
e.type="text/css";e.styleSheet?e.styleSheet.cssText=l:e.appendChild(a.createTextNode(l));c.prepend(d).prepend(e);f[b]=g.css("position")==="absolute";d.add(e).remove()}return f[b]}}()})(jQuery);(function(b,c){function f(b){var a=b.charAt(0).toUpperCase()+b.substr(1),b=(b+" "+k.join(a+" ")+a).split(" "),f;for(f in b)if(e[b[f]]!==c)return true}function g(b,c,f){var g=a.createElement("div"),f=f?[f]:k,d;for(i=0;i<f.length;i++){var h=f[i],e="-"+h.charAt(0).toLowerCase()+h.substr(1)+"-"+b+": "+c+";",h=h.charAt(0).toUpperCase()+
h.substr(1)+(b.charAt(0).toUpperCase()+b.substr(1));g.setAttribute("style",e);g.style[h]&&(d=true)}return!!d}var h=b("<body>").prependTo("html"),e=h[0].style,k=["Webkit","Moz","O"],l="palmGetResource"in d,m=d.operamini&&{}.toString.call(d.operamini)==="[object OperaMini]",o=d.blackberry;b.extend(b.mobile,{browser:{}});b.mobile.browser.ie=function(){for(var b=3,c=a.createElement("div"),f=c.all||[];c.innerHTML="<\!--[if gt IE "+ ++b+"]><br><![endif]--\>",f[0];);return b>4?b:!b}();b.extend(b.support,
{orientation:false,touch:"ontouchend"in a,cssTransitions:"WebKitTransitionEvent"in d||g("transition","height 100ms linear"),pushState:"pushState"in history&&"replaceState"in history,mediaquery:b.mobile.media("only all"),cssPseudoElement:!!f("content"),touchOverflow:!!f("overflowScrolling"),cssTransform3d:g("perspective","10px","moz")||b.mobile.media("(-"+k.join("-transform-3d),(-")+"-transform-3d),(transform-3d)"),boxShadow:!!f("boxShadow")&&!o,scrollTop:("pageXOffset"in d||"scrollTop"in a.documentElement||
"scrollTop"in h[0])&&!l&&!m,dynamicBaseTag:function(){var a=location.protocol+"//"+location.host+location.pathname+"ui-dir/",c=b("head base"),f=null,g="",d;c.length?g=c.attr("href"):c=f=b("<base>",{href:a}).appendTo("head");d=b("<a href='testurl' />").prependTo(h)[0].href;c[0].href=g||location.pathname;f&&f.remove();return d.indexOf(a)===0}()});h.remove();l=function(){var b=d.navigator.userAgent;return b.indexOf("Nokia")>-1&&(b.indexOf("Symbian/3")>-1||b.indexOf("Series60/5")>-1)&&b.indexOf("AppleWebKit")>
-1&&b.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();b.mobile.gradeA=function(){return b.support.mediaquery||b.mobile.browser.ie&&b.mobile.browser.ie>=7};b.mobile.ajaxBlacklist=d.blackberry&&!d.WebKitPoint||m||l;l&&b(function(){b("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});b.support.boxShadow||b("html").addClass("ui-mobile-nosupport-boxshadow")})(jQuery);(function(b,c,f){function g(a,c,f){var g=f.type;f.type=c;b.event.handle.call(a,f);f.type=g}b.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),
function(a,c){b.fn[c]=function(b){return b?this.bind(c,b):this.trigger(c)};b.attrFn[c]=true});var d=b.support.touch,e=d?"touchstart":"mousedown",k=d?"touchend":"mouseup",l=d?"touchmove":"mousemove";b.event.special.scrollstart={enabled:true,setup:function(){function a(b,d){f=d;g(c,f?"scrollstart":"scrollstop",b)}var c=this,f,d;b(c).bind("touchmove scroll",function(c){b.event.special.scrollstart.enabled&&(f||a(c,true),clearTimeout(d),d=setTimeout(function(){a(c,false)},50))})}};b.event.special.tap=
{setup:function(){var c=this,f=b(c);f.bind("vmousedown",function(d){function h(){clearTimeout(l)}function e(){h();f.unbind("vclick",j).unbind("vmouseup",h);b(a).unbind("vmousecancel",e)}function j(b){e();k==b.target&&g(c,"tap",b)}if(d.which&&d.which!==1)return false;var k=d.target,l;f.bind("vmouseup",h).bind("vclick",j);b(a).bind("vmousecancel",e);l=setTimeout(function(){g(c,"taphold",b.Event("taphold",{target:k}))},750)})}};b.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,
horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var a=b(this);a.bind(e,function(c){function g(a){if(h){var c=a.originalEvent.touches?a.originalEvent.touches[0]:a;e={time:(new Date).getTime(),coords:[c.pageX,c.pageY]};Math.abs(h.coords[0]-e.coords[0])>b.event.special.swipe.scrollSupressionThreshold&&a.preventDefault()}}var d=c.originalEvent.touches?c.originalEvent.touches[0]:c,h={time:(new Date).getTime(),coords:[d.pageX,d.pageY],origin:b(c.target)},e;a.bind(l,g).one(k,
function(){a.unbind(l,g);h&&e&&e.time-h.time<b.event.special.swipe.durationThreshold&&Math.abs(h.coords[0]-e.coords[0])>b.event.special.swipe.horizontalDistanceThreshold&&Math.abs(h.coords[1]-e.coords[1])<b.event.special.swipe.verticalDistanceThreshold&&h.origin.trigger("swipe").trigger(h.coords[0]>e.coords[0]?"swipeleft":"swiperight");h=e=f})})}};(function(b,c){function f(){var b=d();b!==h&&(h=b,g.trigger("orientationchange"))}var g=b(c),d,h,e,j,k={0:true,180:true};if(b.support.orientation&&(e=c.innerWidth||
b(c).width(),j=c.innerHeight||b(c).height(),e=e>j&&e-j>50,j=k[c.orientation],e&&j||!e&&!j))k={"-90":true,90:true};b.event.special.orientationchange={setup:function(){if(b.support.orientation&&b.mobile.orientationChangeEnabled)return false;h=d();g.bind("throttledresize",f)},teardown:function(){if(b.support.orientation&&b.mobile.orientationChangeEnabled)return false;g.unbind("throttledresize",f)},add:function(b){var a=b.handler;b.handler=function(b){b.orientation=d();return a.apply(this,arguments)}}};
b.event.special.orientationchange.orientation=d=function(){var f=true,f=a.documentElement;return(f=b.support.orientation?k[c.orientation]:f&&f.clientWidth/f.clientHeight<1.1)?"portrait":"landscape"}})(jQuery,c);(function(){b.event.special.throttledresize={setup:function(){b(this).bind("resize",a)},teardown:function(){b(this).unbind("resize",a)}};var a=function(){g=(new Date).getTime();d=g-c;d>=250?(c=g,b(this).trigger("throttledresize")):(f&&clearTimeout(f),f=setTimeout(a,250-d))},c=0,f,g,d})();b.each({scrollstop:"scrollstart",
taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(a,c){b.event.special[a]={setup:function(){b(this).bind(c,b.noop)}}})})(jQuery,this);(function(b){b.widget("mobile.page",b.mobile.widget,{options:{theme:"a",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs'), :jqmData(role^='dvc')"},getId:function(){return this.element[0].id},_create:function(){var b=this;if(b._trigger("beforecreate")===false)return false;b.element.attr("tabindex","0").addClass("ui-page ui-body-"+
b.options.theme).bind("pagebeforehide",function(){b.removeContainerBackground()}).bind("pagebeforeshow",function(){b.setContainerBackground()})},removeContainerBackground:function(){b.mobile.pageContainer.removeClass("ui-overlay-"+b.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(a){this.options.theme&&b.mobile.pageContainer.addClass("ui-overlay-"+(a||this.options.theme))},keepNativeSelector:function(){var a=this.options;return a.keepNative&&b.trim(a.keepNative)&&
a.keepNative!==a.keepNativeDefault?[a.keepNative,a.keepNativeDefault].join(", "):a.keepNativeDefault}})})(jQuery);(function(b,a,f){var g=function(g){g===f&&(g=true);return function(f,d,h,e){var n=new b.Deferred,q=d?" reverse":"",p=b.mobile.urlHistory.getActive().lastScroll||b.mobile.defaultHomeScroll,s=b.mobile.getScreenHeight(),r=b.mobile.maxTransitionWidth!==false&&b(a).width()>b.mobile.maxTransitionWidth,t=!b.support.cssTransitions||r||!f||f==="none",v=function(){b.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+
f)},w=function(){b.event.special.scrollstart.enabled=false;a.scrollTo(0,p);setTimeout(function(){b.event.special.scrollstart.enabled=true},150)},u=function(){e.removeClass(b.mobile.activePageClass+" out in reverse "+f).height("")},r=function(){e&&g&&u();h.addClass(b.mobile.activePageClass);b.mobile.focusPage(h);h.height(s+p);w();t||h.animationComplete(x);h.addClass(f+" in"+q);t&&x()},x=function(){g||e&&u();h.removeClass("out in reverse "+f).height("");v();b(a).scrollTop()!==p&&w();n.resolve(f,d,h,
e,true)};v();e&&!t?(g?e.animationComplete(r):r(),e.height(s+b(a).scrollTop()).addClass(f+" out"+q)):r();return n.promise()}},d=g(),g=g(false);b.mobile.defaultTransitionHandler=d;b.mobile.transitionHandlers={"default":b.mobile.defaultTransitionHandler,sequential:d,simultaneous:g};b.mobile.transitionFallbacks={}})(jQuery,this);(function(b,c){function f(a){q&&(!q.closest(".ui-page-active").length||a)&&q.removeClass(b.mobile.activeBtnClass);q=null}function g(){r=false;s.length>0&&b.mobile.changePage.apply(null,
s.pop())}function h(a,c,f,g){c&&c.data("page")._trigger("beforehide",null,{nextPage:a});a.data("page")._trigger("beforeshow",null,{prevPage:c||b("")});b.mobile.hidePageLoadingMsg();f&&!b.support.cssTransform3d&&b.mobile.transitionFallbacks[f]&&(f=b.mobile.transitionFallbacks[f]);f=(b.mobile.transitionHandlers[f||"default"]||b.mobile.defaultTransitionHandler)(f,g,a,c);f.done(function(){c&&c.data("page")._trigger("hide",null,{nextPage:a});a.data("page")._trigger("show",null,{prevPage:c||b("")})});return f}
function e(a,c){c&&a.attr("data-"+b.mobile.ns+"role",c);a.page()}function k(b){for(;b;){if(typeof b.nodeName==="string"&&b.nodeName.toLowerCase()=="a")break;b=b.parentNode}return b}function l(a){var a=b(a).closest(".ui-page").jqmData("url"),c=u.hrefNoHash;if(!a||!n.isPath(a))a=c;return n.makeUrlAbsolute(a,c)}var m=b(d);b("html");var o=b("head"),n={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,
parseUrl:function(a){if(b.type(a)==="object")return a;a=n.urlParseRE.exec(a||"")||[];return{href:a[0]||"",hrefNoHash:a[1]||"",hrefNoSearch:a[2]||"",domain:a[3]||"",protocol:a[4]||"",doubleSlash:a[5]||"",authority:a[6]||"",username:a[8]||"",password:a[9]||"",host:a[10]||"",hostname:a[11]||"",port:a[12]||"",pathname:a[13]||"",directory:a[14]||"",filename:a[15]||"",search:a[16]||"",hash:a[17]||""}},makePathAbsolute:function(b,a){if(b&&b.charAt(0)==="/")return b;for(var b=b||"",c=(a=a?a.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,
""):"")?a.split("/"):[],f=b.split("/"),g=0;g<f.length;g++){var d=f[g];switch(d){case ".":break;case "..":c.length&&c.pop();break;default:c.push(d)}}return"/"+c.join("/")},isSameDomain:function(b,a){return n.parseUrl(b).domain===n.parseUrl(a).domain},isRelativeUrl:function(b){return n.parseUrl(b).protocol===""},isAbsoluteUrl:function(b){return n.parseUrl(b).protocol!==""},makeUrlAbsolute:function(b,a){if(!n.isRelativeUrl(b))return b;var c=n.parseUrl(b),f=n.parseUrl(a),g=c.protocol||f.protocol,d=c.protocol?
c.doubleSlash:c.doubleSlash||f.doubleSlash,h=c.authority||f.authority,e=c.pathname!=="",j=n.makePathAbsolute(c.pathname||f.filename,f.pathname);return g+d+h+j+(c.search||!e&&f.search||"")+c.hash},addSearchParams:function(a,c){var f=n.parseUrl(a),g=typeof c==="object"?b.param(c):c,d=f.search||"?";return f.hrefNoSearch+d+(d.charAt(d.length-1)!=="?"?"&":"")+g+(f.hash||"")},convertUrlToDataUrl:function(b){var a=n.parseUrl(b);if(n.isEmbeddedPage(a))return a.hash.split(t)[0].replace(/^#/,"");else if(n.isSameDomain(a,
u))return a.hrefNoHash.replace(u.domain,"");return b},get:function(b){if(b===c)b=location.hash;return n.stripHash(b).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(a){var c="&"+b.mobile.subPageUrlKey;return a&&a.split(c)[0].split(t)[0]},set:function(b){location.hash=b},isPath:function(b){return/\//.test(b)},clean:function(b){return b.replace(u.domain,"")},stripHash:function(b){return b.replace(/^#/,"")},cleanHash:function(b){return n.stripHash(b.replace(/\?.*$/,"").replace(t,""))},isExternal:function(b){b=
n.parseUrl(b);return b.protocol&&b.domain!==w.domain?true:false},hasProtocol:function(b){return/^(:?\w+:)/.test(b)},isFirstPageUrl:function(a){var a=n.parseUrl(n.makeUrlAbsolute(a,u)),f=b.mobile.firstPage,f=f&&f[0]?f[0].id:c;return(a.hrefNoHash===w.hrefNoHash||x&&a.hrefNoHash===u.hrefNoHash)&&(!a.hash||a.hash==="#"||f&&a.hash.replace(/^#/,"")===f)},isEmbeddedPage:function(b){b=n.parseUrl(b);return b.protocol!==""?b.hash&&(b.hrefNoHash===w.hrefNoHash||x&&b.hrefNoHash===u.hrefNoHash):/^#/.test(b.href)}},
q=null,p={stack:[],activeIndex:0,getActive:function(){return p.stack[p.activeIndex]},getPrev:function(){return p.stack[p.activeIndex-1]},getNext:function(){return p.stack[p.activeIndex+1]},addNew:function(b,a,c,f,g){p.getNext()&&p.clearForward();p.stack.push({url:b,transition:a,title:c,pageUrl:f,role:g});p.activeIndex=p.stack.length-1},clearForward:function(){p.stack=p.stack.slice(0,p.activeIndex+1)},directHashChange:function(a){var f,g,d;this.getActive();b.each(p.stack,function(b,c){a.currentUrl===
c.url&&(f=b<p.activeIndex,g=!f,d=b)});this.activeIndex=d!==c?d:this.activeIndex;f?(a.either||a.isBack)(true):g&&(a.either||a.isForward)(false)},ignoreNextHashChange:false},s=[],r=false,t="&ui-state=dialog",v=o.children("base"),w=n.parseUrl(location.href),u=v.length?n.parseUrl(n.makeUrlAbsolute(v.attr("href"),w.href)):w,x=w.hrefNoHash!==u.hrefNoHash,y=b.support.dynamicBaseTag?{element:v.length?v:b("<base>",{href:u.hrefNoHash}).prependTo(o),set:function(b){y.element.attr("href",n.makeUrlAbsolute(b,
u))},reset:function(){y.element.attr("href",u.hrefNoHash)}}:c;b.mobile.focusPage=function(b){var a=b.find("[autofocus]"),c=b.find(".ui-title:eq(0)");a.length?a.focus():c.length?c.focus():b.focus()};var z=true,A,B;A=function(){if(z){var a=b.mobile.urlHistory.getActive();if(a){var c=m.scrollTop();a.lastScroll=c<b.mobile.minScrollBack?b.mobile.defaultHomeScroll:c}}};B=function(){setTimeout(A,100)};m.bind(b.support.pushState?"popstate":"hashchange",function(){z=false});m.one(b.support.pushState?"popstate":
"hashchange",function(){z=true});m.one("pagecontainercreate",function(){b.mobile.pageContainer.bind("pagechange",function(){z=true;m.unbind("scrollstop",B);m.bind("scrollstop",B)})});m.bind("scrollstop",B);b.mobile.getScreenHeight=function(){return d.innerHeight||b(d).height()};b.fn.animationComplete=function(a){return b.support.cssTransitions?b(this).one("webkitAnimationEnd animationend",a):(setTimeout(a,0),b(this))};b.mobile.path=n;b.mobile.base=y;b.mobile.urlHistory=p;b.mobile.dialogHashKey=t;
b.mobile.allowCrossDomainPages=false;b.mobile.getDocumentUrl=function(a){return a?b.extend({},w):w.href};b.mobile.getDocumentBase=function(a){return a?b.extend({},u):u.href};b.mobile._bindPageRemove=function(){var a=b(this);!a.data("page").options.domCache&&a.is(":jqmData(external-page='true')")&&a.bind("pagehide.remove",function(){var a=b(this),c=new b.Event("pageremove");a.trigger(c);c.isDefaultPrevented()||a.removeWithDependents()})};b.mobile.loadPage=function(a,f){var g=b.Deferred(),d=b.extend({},
b.mobile.loadPage.defaults,f),h=null,k=null,m=n.makeUrlAbsolute(a,b.mobile.activePage&&l(b.mobile.activePage)||u.hrefNoHash);if(d.data&&d.type==="get")m=n.addSearchParams(m,d.data),d.data=c;if(d.data&&d.type==="post")d.reloadPage=true;var o=n.getFilePath(m),q=n.convertUrlToDataUrl(m);d.pageContainer=d.pageContainer||b.mobile.pageContainer;h=d.pageContainer.children(":jqmData(url='"+q+"')");h.length===0&&q&&!n.isPath(q)&&(h=d.pageContainer.children("#"+q).attr("data-"+b.mobile.ns+"url",q));if(h.length===
0)if(b.mobile.firstPage&&n.isFirstPageUrl(o))b.mobile.firstPage.parent().length&&(h=b(b.mobile.firstPage));else if(n.isEmbeddedPage(o))return g.reject(m,f),g.promise();y&&y.reset();if(h.length){if(!d.reloadPage)return e(h,d.role),g.resolve(m,f,h),g.promise();k=h}var p=d.pageContainer,s=new b.Event("pagebeforeload"),r={url:a,absUrl:m,dataUrl:q,deferred:g,options:d};p.trigger(s,r);if(s.isDefaultPrevented())return g.promise();if(d.showLoadMsg)var t=setTimeout(function(){b.mobile.showPageLoadingMsg()},
d.loadMsgDelay);!b.mobile.allowCrossDomainPages&&!n.isSameDomain(w,m)?g.reject(m,f):b.ajax({url:o,type:d.type,data:d.data,dataType:"html",success:function(c,l,p){var u=b("<div></div>"),s=c.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,w=RegExp("\\bdata-"+b.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");RegExp("(<[^>]+\\bdata-"+b.mobile.ns+"role=[\"']?page[\"']?[^>]*>)").test(c)&&RegExp.$1&&w.test(RegExp.$1)&&RegExp.$1&&(a=o=n.getFilePath(RegExp.$1));y&&y.set(o);u.get(0).innerHTML=c;h=u.find(":jqmData(role='page'), :jqmData(role='dialog')").first();
h.length||(h=b("<div data-"+b.mobile.ns+"role='page'>"+c.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));s&&!h.jqmData("title")&&(~s.indexOf("&")&&(s=b("<div>"+s+"</div>").text()),h.jqmData("title",s));if(!b.support.dynamicBaseTag){var v=n.get(o);h.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var a=b(this).is("[href]")?"href":b(this).is("[src]")?"src":"action",c=b(this).attr(a),c=c.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(c)||
b(this).attr(a,v+c)})}h.attr("data-"+b.mobile.ns+"url",n.convertUrlToDataUrl(o)).attr("data-"+b.mobile.ns+"external-page",true).appendTo(d.pageContainer);h.one("pagecreate",b.mobile._bindPageRemove);e(h,d.role);m.indexOf("&"+b.mobile.subPageUrlKey)>-1&&(h=d.pageContainer.children(":jqmData(url='"+q+"')"));d.showLoadMsg&&(clearTimeout(t),b.mobile.hidePageLoadingMsg());r.xhr=p;r.textStatus=l;r.page=h;d.pageContainer.trigger("pageload",r);g.resolve(m,f,h,k)},error:function(a,c,h){y&&y.set(n.get());r.xhr=
a;r.textStatus=c;r.errorThrown=h;a=new b.Event("pageloadfailed");d.pageContainer.trigger(a,r);a.isDefaultPrevented()||(d.showLoadMsg&&(clearTimeout(t),b.mobile.hidePageLoadingMsg(),b.mobile.showPageLoadingMsg(b.mobile.pageLoadErrorMessageTheme,b.mobile.pageLoadErrorMessage,true),setTimeout(b.mobile.hidePageLoadingMsg,1500)),g.reject(m,f))}});return g.promise()};b.mobile.loadPage.defaults={type:"get",data:c,reloadPage:false,role:c,showLoadMsg:false,pageContainer:c,loadMsgDelay:50};b.mobile.changePage=
function(d,k){if(r)s.unshift(arguments);else{var l=b.extend({},b.mobile.changePage.defaults,k);l.pageContainer=l.pageContainer||b.mobile.pageContainer;l.fromPage=l.fromPage||b.mobile.activePage;var m=l.pageContainer,o=new b.Event("pagebeforechange"),q={toPage:d,options:l};m.trigger(o,q);if(!o.isDefaultPrevented())if(d=q.toPage,r=true,typeof d=="string")b.mobile.loadPage(d,l).done(function(a,c,f,g){r=false;c.duplicateCachedPage=g;b.mobile.changePage(f,c)}).fail(function(){r=false;f(true);g();l.pageContainer.trigger("pagechangefailed",
q)});else{if(d[0]===b.mobile.firstPage[0]&&!l.dataUrl)l.dataUrl=w.hrefNoHash;var o=l.fromPage,u=l.dataUrl&&n.convertUrlToDataUrl(l.dataUrl)||d.jqmData("url"),y=u;n.getFilePath(u);var v=p.getActive(),z=p.activeIndex===0,x=0,A=a.title,B=l.role==="dialog"||d.jqmData("role")==="dialog";if(o&&o[0]===d[0]&&!l.allowSamePageTransition)r=false,m.trigger("pagechange",q);else{e(d,l.role);l.fromHashChange&&p.directHashChange({currentUrl:u,isBack:function(){x=-1},isForward:function(){x=1}});try{a.activeElement&&
a.activeElement.nodeName.toLowerCase()!="body"?b(a.activeElement).blur():b("input:focus, textarea:focus, select:focus").blur()}catch(N){}B&&v&&(u=(v.url||"")+t);if(l.changeHash!==false&&u)p.ignoreNextHashChange=true,n.set(u);var L=!v?A:d.jqmData("title")||d.children(":jqmData(role='header')").find(".ui-title").getEncodedText();L&&A==a.title&&(A=L);d.jqmData("title")||d.jqmData("title",A);l.transition=l.transition||(x&&!z?v.transition:c)||(B?b.mobile.defaultDialogTransition:b.mobile.defaultPageTransition);
x||p.addNew(u,l.transition,A,y,l.role);a.title=p.getActive().title;b.mobile.activePage=d;l.reverse=l.reverse||x<0;h(d,o,l.transition,l.reverse).done(function(a,c,h,e,j){f();l.duplicateCachedPage&&l.duplicateCachedPage.remove();j||b.mobile.focusPage(d);g();m.trigger("pagechange",q)})}}}};b.mobile.changePage.defaults={transition:c,reverse:false,changeHash:true,fromHashChange:false,role:c,duplicateCachedPage:c,pageContainer:c,showLoadMsg:true,dataUrl:c,fromPage:c,allowSamePageTransition:false};b.mobile._registerInternalEvents=
function(){b(a).delegate("form","submit",function(a){var c=b(this);if(b.mobile.ajaxEnabled&&!c.is(":jqmData(ajax='false')")&&c.jqmHijackable().length){var f=c.attr("method"),g=c.attr("target"),d=c.attr("action");if(!d&&(d=l(c),d===u.hrefNoHash))d=w.hrefNoSearch;d=n.makeUrlAbsolute(d,l(c));!n.isExternal(d)&&!g&&(b.mobile.changePage(d,{type:f&&f.length&&f.toLowerCase()||"get",data:c.serialize(),transition:c.jqmData("transition"),direction:c.jqmData("direction"),reloadPage:true}),a.preventDefault())}});
b(a).bind("vclick",function(a){if(!(a.which>1)&&b.mobile.linkBindingEnabled&&(a=k(a.target),b(a).jqmHijackable().length&&a&&n.parseUrl(a.getAttribute("href")||"#").hash!=="#"))f(true),q=b(a).closest(".ui-btn").not(".ui-disabled"),q.addClass(b.mobile.activeBtnClass),b("."+b.mobile.activePageClass+" .ui-btn").not(a).blur(),b(a).jqmData("href",b(a).attr("href")).attr("href","#")});b(a).bind("click",function(a){if(b.mobile.linkBindingEnabled){var g=k(a.target),h=b(g),e;if(g&&!(a.which>1)&&h.jqmHijackable().length){e=
function(){d.setTimeout(function(){f(true)},200)};h.jqmData("href")&&h.attr("href",h.jqmData("href"));if(h.is(":jqmData(rel='back')"))return d.history.back(),false;var j=l(h),g=n.makeUrlAbsolute(h.attr("href")||"#",j);if(!b.mobile.ajaxEnabled&&!n.isEmbeddedPage(g))e();else{if(g.search("#")!=-1)if(g=g.replace(/[^#]*#/,""))g=n.isPath(g)?n.makeUrlAbsolute(g,j):n.makeUrlAbsolute("#"+g,w.hrefNoHash);else{a.preventDefault();return}var j=h.is("[rel='external']")||h.is(":jqmData(ajax='false')")||h.is("[target]"),
m=b.mobile.allowCrossDomainPages&&w.protocol==="file:"&&g.search(/^https?:/)!=-1;j||n.isExternal(g)&&!m?e():(e=h.jqmData("transition"),j=(j=h.jqmData("direction"))&&j==="reverse"||h.jqmData("back"),h=h.attr("data-"+b.mobile.ns+"rel")||c,b.mobile.changePage(g,{transition:e,reverse:j,role:h}),a.preventDefault())}}}});b(a).delegate(".ui-page","pageshow.prefetch",function(){var a=[];b(this).find("a:jqmData(prefetch)").each(function(){var c=b(this),f=c.attr("href");f&&b.inArray(f,a)===-1&&(a.push(f),b.mobile.loadPage(f,
{role:c.attr("data-"+b.mobile.ns+"rel")}))})});b.mobile._handleHashChange=function(a){var f=n.stripHash(a),g={transition:b.mobile.urlHistory.stack.length===0?"none":c,changeHash:false,fromHashChange:true};if(!b.mobile.hashListeningEnabled||p.ignoreNextHashChange)p.ignoreNextHashChange=false;else{if(p.stack.length>1&&f.indexOf(t)>-1)if(b.mobile.activePage.is(".ui-dialog"))p.directHashChange({currentUrl:f,either:function(a){var c=b.mobile.urlHistory.getActive();f=c.pageUrl;b.extend(g,{role:c.role,transition:c.transition,
reverse:a})}});else{p.directHashChange({currentUrl:f,isBack:function(){d.history.back()},isForward:function(){d.history.forward()}});return}f?(f=typeof f==="string"&&!n.isPath(f)?n.makeUrlAbsolute("#"+f,u):f,b.mobile.changePage(f,g)):b.mobile.changePage(b.mobile.firstPage,g)}};m.bind("hashchange",function(){b.mobile._handleHashChange(location.hash)})}})(jQuery);(function(b,c){var f={},g=b(c),d=b.mobile.path.parseUrl(location.href);b.extend(f,{initialFilePath:d.pathname+d.search,initialHref:d.hrefNoHash,
state:function(){return{hash:location.hash||"#"+f.initialFilePath,title:a.title,initialHref:f.initialHref}},resetUIKeys:function(a){var c="&"+b.mobile.subPageUrlKey,f=a.indexOf(b.mobile.dialogHashKey);f>-1?a=a.slice(0,f)+"#"+a.slice(f):a.indexOf(c)>-1&&(a=a.split(c).join("#"+c));return a},hashValueAfterReset:function(a){a=f.resetUIKeys(a);return b.mobile.path.parseUrl(a).hash},nextHashChangePrevented:function(a){b.mobile.urlHistory.ignoreNextHashChange=a;f.onHashChangeDisabled=a},onHashChange:function(){if(!f.onHashChangeDisabled){var c,
g;c=location.hash;var d=b.mobile.path.isPath(c),h=d?location.href:b.mobile.getDocumentUrl();c=d?c.replace("#",""):c;g=f.state();c=b.mobile.path.makeUrlAbsolute(c,h);d&&(c=f.resetUIKeys(c));history.replaceState(g,a.title,c)}},onPopState:function(a){var a=a.originalEvent.state,c,d;if(a){c=f.hashValueAfterReset(b.mobile.urlHistory.getActive().url);d=f.hashValueAfterReset(a.hash.replace("#",""));if(c=c!==d)g.one("hashchange.pushstate",function(){f.nextHashChangePrevented(false)});f.nextHashChangePrevented(false);
b.mobile._handleHashChange(a.hash);c&&f.nextHashChangePrevented(true)}},init:function(){g.bind("hashchange",f.onHashChange);g.bind("popstate",f.onPopState);location.hash===""&&history.replaceState(f.state(),a.title,location.href)}});b(function(){b.mobile.pushStateEnabled&&b.support.pushState&&f.init()})})(jQuery,this);jQuery.mobile.transitionFallbacks.pop="fade";(function(b){b.mobile.transitionHandlers.slide=b.mobile.transitionHandlers.simultaneous;b.mobile.transitionFallbacks.slide="fade"})(jQuery,
this);jQuery.mobile.transitionFallbacks.slidedown="fade";jQuery.mobile.transitionFallbacks.slideup="fade";jQuery.mobile.transitionFallbacks.flip="fade";jQuery.mobile.transitionFallbacks.flow="fade";jQuery.mobile.transitionFallbacks.turn="fade";(function(b){b.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};b(a).bind("pagecreate create",
function(a){var f=b.mobile.closestPageData(b(a.target)),g;if(f)g=f.options,b(a.target).find("input").not(f.keepNativeSelector()).each(function(){var a=b(this),c=this.getAttribute("type"),f=g.degradeInputs[c]||"text";if(g.degradeInputs[c]){var d=b("<div>").html(a.clone()).html(),e=d.indexOf(" type=")>-1;a.replaceWith(d.replace(e?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+f+'" data-'+b.mobile.ns+'type="'+c+'"'+(e?"":">")))}})})})(jQuery);(function(b,c){b.widget("mobile.dialog",b.mobile.widget,{options:{closeBtnText:"Close",
overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var a=this,c=this.element,d=b("<a href='#' data-"+b.mobile.ns+"icon='delete' data-"+b.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),e=b("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});c.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);c.wrapInner(e).children().find(":jqmData(role='header')").prepend(d).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom");
d.bind("click",function(){a.close()});c.bind("vclick submit",function(a){var a=b(a.target).closest(a.type==="vclick"?"a":"form"),c;a.length&&!a.jqmData("transition")&&(c=b.mobile.urlHistory.getActive()||{},a.attr("data-"+b.mobile.ns+"transition",c.transition||b.mobile.defaultDialogTransition).attr("data-"+b.mobile.ns+"direction","reverse"))}).bind("pagehide",function(){b(this).find("."+b.mobile.activeBtnClass).removeClass(b.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){a.options.overlayTheme&&
a.element.page("removeContainerBackground").page("setContainerBackground",a.options.overlayTheme)})},close:function(){c.history.back()}});b(a).delegate(b.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){b.mobile.dialog.prototype.enhance(this)})})(jQuery,this);(function(b){b.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")};b(a).bind("pagecreate create",function(a){b(":jqmData(role='fieldcontain')",a.target).jqmEnhanceable().fieldcontain()})})(jQuery);
(function(b){b.fn.grid=function(a){return this.each(function(){var f=b(this),d=b.extend({grid:null},a),h=f.children(),e={solo:1,a:2,b:3,c:4,d:5},d=d.grid;if(!d)if(h.length<=5)for(var k in e)e[k]===h.length&&(d=k);else d="a";e=e[d];f.addClass("ui-grid-"+d);h.filter(":nth-child("+e+"n+1)").addClass("ui-block-a");e>1&&h.filter(":nth-child("+e+"n+2)").addClass("ui-block-b");e>2&&h.filter(":nth-child(3n+3)").addClass("ui-block-c");e>3&&h.filter(":nth-child(4n+4)").addClass("ui-block-d");e>4&&h.filter(":nth-child(5n+5)").addClass("ui-block-e")})}})(jQuery);
(function(b){b(a).bind("pagecreate create",function(a){b(":jqmData(role='nojs')",a.target).addClass("ui-nojs")})})(jQuery);(function(b,c){function f(b){for(var a;b;){if((a=typeof b.className==="string"&&b.className+" ")&&a.indexOf("ui-btn ")>-1&&a.indexOf("ui-disabled ")<0)break;b=b.parentNode}return b}b.fn.buttonMarkup=function(f){for(var f=f&&b.type(f)=="object"?f:{},e=0;e<this.length;e++){var k=this.eq(e),l=k[0],m=b.extend({},b.fn.buttonMarkup.defaults,{icon:f.icon!==c?f.icon:k.jqmData("icon"),
iconpos:f.iconpos!==c?f.iconpos:k.jqmData("iconpos"),theme:f.theme!==c?f.theme:k.jqmData("theme")||b.mobile.getInheritedTheme(k,"c"),inline:f.inline!==c?f.inline:k.jqmData("inline"),shadow:f.shadow!==c?f.shadow:k.jqmData("shadow"),corners:f.corners!==c?f.corners:k.jqmData("corners"),iconshadow:f.iconshadow!==c?f.iconshadow:k.jqmData("iconshadow"),mini:f.mini!==c?f.mini:k.jqmData("mini")},f),o="ui-btn-inner",n,q,p,s,r,t;b.each(m,function(a,c){l.setAttribute("data-"+b.mobile.ns+a,c);k.jqmData(a,c)});
(t=b.data(l.tagName==="INPUT"||l.tagName==="BUTTON"?l.parentNode:l,"buttonElements"))?(l=t.outer,k=b(l),p=t.inner,s=t.text,b(t.icon).remove(),t.icon=null):(p=a.createElement(m.wrapperEls),s=a.createElement(m.wrapperEls));r=m.icon?a.createElement("span"):null;d&&!t&&d();if(!m.theme)m.theme=b.mobile.getInheritedTheme(k,"c");n="ui-btn ui-btn-up-"+m.theme;n+=m.inline?" ui-btn-inline":"";n+=m.shadow?" ui-shadow":"";n+=m.corners?" ui-btn-corner-all":"";m.mini!==c&&(n+=m.mini?" ui-mini":" ui-fullsize");
m.inline!==c&&(n+=m.inline===false?" ui-btn-block":" ui-btn-inline");if(m.icon)m.icon="ui-icon-"+m.icon,m.iconpos=m.iconpos||"left",q="ui-icon "+m.icon,m.iconshadow&&(q+=" ui-icon-shadow");m.iconpos&&(n+=" ui-btn-icon-"+m.iconpos,m.iconpos=="notext"&&!k.attr("title")&&k.attr("title",k.getEncodedText()));o+=m.corners?" ui-btn-corner-all":"";m.iconpos&&m.iconpos==="notext"&&!k.attr("title")&&k.attr("title",k.getEncodedText());t&&k.removeClass(t.bcls||"");k.removeClass("ui-link").addClass(n);p.className=
o;s.className="ui-btn-text";t||p.appendChild(s);if(r&&(r.className=q,!t||!t.icon))r.appendChild(a.createTextNode("\u00a0")),p.appendChild(r);for(;l.firstChild&&!t;)s.appendChild(l.firstChild);t||l.appendChild(p);t={bcls:n,outer:l,inner:p,text:s,icon:r};b.data(l,"buttonElements",t);b.data(p,"buttonElements",t);b.data(s,"buttonElements",t);r&&b.data(r,"buttonElements",t)}return this};b.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,wrapperEls:"span"};var d=function(){var c=b.mobile.buttonMarkup.hoverDelay,
e,k;b(a).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(a){var d,g=b(f(a.target)),a=a.type;if(g.length)if(d=g.attr("data-"+b.mobile.ns+"theme"),a==="vmousedown")b.support.touch?e=setTimeout(function(){g.removeClass("ui-btn-up-"+d).addClass("ui-btn-down-"+d)},c):g.removeClass("ui-btn-up-"+d).addClass("ui-btn-down-"+d);else if(a==="vmousecancel"||a==="vmouseup")g.removeClass("ui-btn-down-"+d).addClass("ui-btn-up-"+d);else if(a==="vmouseover"||a==="focus")b.support.touch?
k=setTimeout(function(){g.removeClass("ui-btn-up-"+d).addClass("ui-btn-hover-"+d)},c):g.removeClass("ui-btn-up-"+d).addClass("ui-btn-hover-"+d);else if(a==="vmouseout"||a==="blur"||a==="scrollstart")g.removeClass("ui-btn-hover-"+d+" ui-btn-down-"+d).addClass("ui-btn-up-"+d),e&&clearTimeout(e),k&&clearTimeout(k)},"focusin focus":function(a){b(f(a.target)).addClass(b.mobile.focusClass)},"focusout blur":function(a){b(f(a.target)).removeClass(b.mobile.focusClass)}});d=null};b(a).bind("pagecreate create",
function(a){b(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",a.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(jQuery);(function(b){b.mobile.page.prototype.options.backBtnText="Back";b.mobile.page.prototype.options.addBackBtn=false;b.mobile.page.prototype.options.backBtnTheme=null;b.mobile.page.prototype.options.headerTheme="a";b.mobile.page.prototype.options.footerTheme="a";b.mobile.page.prototype.options.contentTheme=
null;b(a).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(){var a=b(this),f=a.data("page").options,d=a.jqmData("role"),e=f.theme;b(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",this).jqmEnhanceable().each(function(){var j=b(this),k=j.jqmData("role"),l=j.jqmData("theme"),m=l||f.contentTheme||d==="dialog"&&e,o;j.addClass("ui-"+k);if(k==="header"||k==="footer"){var n=l||(k==="header"?f.headerTheme:f.footerTheme)||e;j.addClass("ui-bar-"+n).attr("role",
k==="header"?"banner":"contentinfo");k==="header"&&(l=j.children("a"),o=l.hasClass("ui-btn-left"),m=l.hasClass("ui-btn-right"),o=o||l.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,m||l.eq(1).addClass("ui-btn-right"));f.addBackBtn&&k==="header"&&b(".ui-page").length>1&&a.jqmData("url")!==b.mobile.path.stripHash(location.hash)&&!o&&b("<a href='#' class='ui-btn-left' data-"+b.mobile.ns+"rel='back' data-"+b.mobile.ns+"icon='arrow-l'>"+f.backBtnText+"</a>").attr("data-"+b.mobile.ns+"theme",
f.backBtnTheme||n).prependTo(j);j.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else k==="content"&&(m&&j.addClass("ui-body-"+m),j.attr("role","main"))})})})(jQuery);(function(b){b.widget("mobile.collapsible",b.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,iconTheme:"d",mini:false,initSelector:":jqmData(role='collapsible')"},
_create:function(){var a=this.element,f=this.options,d=a.addClass("ui-collapsible"),e=a.children(f.heading).first(),j=d.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),k=a.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");e.is("legend")&&(e=b("<div role='heading'>"+e.html()+"</div>").insertBefore(e),e.next().remove());if(k.length){if(!f.theme)f.theme=k.jqmData("theme")||b.mobile.getInheritedTheme(k,"c");if(!f.contentTheme)f.contentTheme=
k.jqmData("content-theme");if(!f.iconPos)f.iconPos=k.jqmData("iconpos");if(!f.mini)f.mini=k.jqmData("mini")}j.addClass(f.contentTheme?"ui-body-"+f.contentTheme:"");e.insertBefore(j).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,corners:false,iconpos:a.jqmData("iconpos")||f.iconPos||"left",icon:"plus",mini:f.mini,theme:f.theme}).add(".ui-btn-inner",
a).addClass("ui-corner-top ui-corner-bottom");d.bind("expand collapse",function(a){if(!a.isDefaultPrevented()){a.preventDefault();var c=b(this),a=a.type==="collapse",o=f.contentTheme;e.toggleClass("ui-collapsible-heading-collapsed",a).find(".ui-collapsible-heading-status").text(a?f.expandCueText:f.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!a).toggleClass("ui-icon-plus",a);c.toggleClass("ui-collapsible-collapsed",a);j.toggleClass("ui-collapsible-content-collapsed",a).attr("aria-hidden",
a);if(o&&(!k.length||d.jqmData("collapsible-last")))e.find("a").first().add(e.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",a),j.toggleClass("ui-corner-bottom",!a);j.trigger("updatelayout")}}).trigger(f.collapsed?"collapse":"expand");e.bind("click",function(b){var a=e.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";d.trigger(a);b.preventDefault()})}});b(a).bind("pagecreate create",function(a){b.mobile.collapsible.prototype.enhanceWithin(a.target)})})(jQuery);(function(b,c){b.widget("mobile.collapsibleset",
b.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var a=this.element.addClass("ui-collapsible-set"),d=this.options;if(!d.theme)d.theme=b.mobile.getInheritedTheme(a,"c");if(!d.contentTheme)d.contentTheme=a.jqmData("content-theme");if(!d.corners)d.corners=a.jqmData("corners")===c?true:false;a.jqmData("collapsiblebound")||a.jqmData("collapsiblebound",true).bind("expand collapse",function(a){var c=a.type==="collapse",a=b(a.target).closest(".ui-collapsible"),
f=a.data("collapsible");f.options.contentTheme&&a.jqmData("collapsible-last")&&(a.find(f.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",c),a.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!c))}).bind("expand",function(a){b(a.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")})},_init:function(){this.refresh()},refresh:function(){var a=this.options,c=this.element.children(":jqmData(role='collapsible')");
b.mobile.collapsible.prototype.enhance(c.not(".ui-collapsible"));c.each(function(){b(this).find(b.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")});c.first().find("a").first().addClass(a.corners?"ui-corner-top":"").find(".ui-btn-inner").addClass("ui-corner-top");c.last().jqmData("collapsible-last",true).find("a").first().addClass(a.corners?"ui-corner-bottom":"").find(".ui-btn-inner").addClass("ui-corner-bottom")}});
b(a).bind("pagecreate create",function(a){b.mobile.collapsibleset.prototype.enhanceWithin(a.target)})})(jQuery);(function(b,c){b.widget("mobile.navbar",b.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var a=this.element,d=a.find("a"),e=d.filter(":jqmData(icon)").length?this.options.iconpos:c;a.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});e||a.addClass("ui-navbar-noicons");d.buttonMarkup({corners:false,
shadow:false,inline:true,iconpos:e});a.delegate("a","vclick",function(a){b(a.target).hasClass("ui-disabled")||(d.removeClass(b.mobile.activeBtnClass),b(this).addClass(b.mobile.activeBtnClass))});a.closest(".ui-page").bind("pagebeforeshow",function(){d.filter(".ui-state-persist").addClass(b.mobile.activeBtnClass)})}});b(a).bind("pagecreate create",function(a){b.mobile.navbar.prototype.enhanceWithin(a.target)})})(jQuery);(function(b){var c={};b.widget("mobile.listview",b.mobile.widget,{options:{theme:null,
countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",mini:false,inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var b="";b+=this.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"";b+=this.element.jqmData("mini")||this.options.mini===true?" ui-mini":"";this.element.addClass(function(a,c){return c+" ui-listview "+b});this.refresh(true)},_removeCorners:function(b,a){b=b.add(b.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));a===
"top"?b.removeClass("ui-corner-top ui-corner-tr ui-corner-tl"):a==="bottom"?b.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):b.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(b){var a,c;this.options.inset&&(a=this.element.children("li"),c=b?a.not(".ui-screen-hidden"):a.filter(":visible"),this._removeCorners(a),a=c.first().addClass("ui-corner-top"),a.add(a.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl"),
c=c.last().addClass("ui-corner-bottom"),c.add(c.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl"));b||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(b,a,c,d){var e={};for(e[c]=e[d]=true;b;){if(e[b.nodeName])return b;b=b[a]}return null},_getChildrenByTagName:function(a,c,d){var e=[],k={};k[c]=k[d]=true;for(a=a.firstChild;a;)k[a.nodeName]&&e.push(a),a=a.nextSibling;return b(e)},_addThumbClasses:function(a){var c,
d,e=a.length;for(c=0;c<e;c++)d=b(this._findFirstElementByTagName(a[c].firstChild,"nextSibling","img","IMG")),d.length&&(d.addClass("ui-li-thumb"),b(this._findFirstElementByTagName(d[0].parentNode,"parentNode","li","LI")).addClass(d.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(c){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var d=this.options,e=this.element,j=e.jqmData("dividertheme")||d.dividerTheme,k=e.jqmData("splittheme"),l=e.jqmData("spliticon"),
m=this._getChildrenByTagName(e[0],"li","LI"),o=b.support.cssPseudoElement||!b.nodeName(e[0],"ol")?0:1,n={},q,p,s,r,t,v,w;o&&e.find(".ui-li-dec").remove();if(!d.theme)d.theme=b.mobile.getInheritedTheme(this.element,"c");for(var u=0,x=m.length;u<x;u++){q=m.eq(u);p="ui-li";if(c||!q.hasClass("ui-li"))s=q.jqmData("theme")||d.theme,r=this._getChildrenByTagName(q[0],"a","A"),r.length?(v=q.jqmData("icon"),q.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:r.length>1||v===false?
false:v||"arrow-r",theme:s}),v!=false&&r.length==1&&q.addClass("ui-li-has-arrow"),r.first().removeClass("ui-link").addClass("ui-link-inherit"),r.length>1&&(p+=" ui-li-has-alt",r=r.last(),t=k||r.jqmData("theme")||d.splitTheme,w=r.jqmData("icon"),r.appendTo(q).attr("title",r.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:s,icon:false,iconpos:false}).find(".ui-btn-inner").append(b(a.createElement("span")).buttonMarkup({shadow:true,corners:true,theme:t,
iconpos:"notext",icon:w||v||l||d.splitIcon})))):q.jqmData("role")==="list-divider"?(p+=" ui-li-divider ui-bar-"+j,q.attr("role","heading"),o&&(o=1)):p+=" ui-li-static ui-body-"+s;o&&p.indexOf("ui-li-divider")<0&&(s=q.is(".ui-li-static:first")?q:q.find(".ui-link-inherit"),s.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+o++ +". </span>"));n[p]||(n[p]=[]);n[p].push(q[0])}for(p in n)b(n[p]).addClass(p).children(".ui-btn-inner").addClass(p);e.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var a=
b(this);a.prependTo(a.parent())}).end().find(".ui-li-count").each(function(){b(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(e.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(m);this._addThumbClasses(e.find(".ui-link-inherit"));this._refreshCorners(c)},_idStringEscape:function(b){return b.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var a=this.element,d=a.closest(".ui-page"),e=d.jqmData("url"),j=e||d[0][b.expando],
k=a.attr("id"),l=this.options,m="data-"+b.mobile.ns,o=this,n=d.find(":jqmData(role='footer')").jqmData("id"),q;typeof c[j]==="undefined"&&(c[j]=-1);k=k||++c[j];b(a.find("li>ul, li>ol").toArray().reverse()).each(function(c){var d=b(this),g=d.attr("id")||k+"-"+c,c=d.parent(),j=b(d.prevAll().toArray().reverse()),j=j.length?j:b("<span>"+b.trim(c.contents()[0].nodeValue)+"</span>"),o=j.first().getEncodedText(),g=(e||"")+"&"+b.mobile.subPageUrlKey+"="+g,w=d.jqmData("theme")||l.theme,u=d.jqmData("counttheme")||
a.jqmData("counttheme")||l.countTheme;q=true;d.detach().wrap("<div "+m+"role='page' "+m+"url='"+g+"' "+m+"theme='"+w+"' "+m+"count-theme='"+u+"'><div "+m+"role='content'></div></div>").parent().before("<div "+m+"role='header' "+m+"theme='"+l.headerTheme+"'><div class='ui-title'>"+o+"</div></div>").after(n?b("<div "+m+"role='footer' "+m+"id='"+n+"'>"):"").parent().appendTo(b.mobile.pageContainer).page();d=c.find("a:first");d.length||(d=b("<a/>").html(j||o).prependTo(c.empty()));d.attr("href","#"+g)}).listview();
q&&d.is(":jqmData(external-page='true')")&&d.data("page").options.domCache===false&&d.unbind("pagehide.remove").bind("pagehide.remove",function(a,c){var f=c.nextPage;c.nextPage&&(f=f.jqmData("url"),f.indexOf(e+"&"+b.mobile.subPageUrlKey)!==0&&(o.childPages().remove(),d.remove()))})},childPages:function(){var a=this.parentPage.jqmData("url");return b(":jqmData(url^='"+a+"&"+b.mobile.subPageUrlKey+"')")}});b(a).bind("pagecreate create",function(a){b.mobile.listview.prototype.enhanceWithin(a.target)})})(jQuery);
(function(b,c){b.widget("mobile.checkboxradio",b.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var f=this,d=this.element,e=b(d).closest("label"),j=e.length?e:b(d).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')").find("label").filter("[for='"+d[0].id+"']"),k=d[0].type,e=d.jqmData("mini")||d.closest("form,fieldset").jqmData("mini"),l=k+"-on",m=k+"-off",o=d.parents(":jqmData(type='horizontal')").length?c:m,n=d.jqmData("iconpos")||
d.closest("form,fieldset").jqmData("iconpos");if(!(k!=="checkbox"&&k!=="radio")){b.extend(this,{label:j,inputtype:k,checkedClass:"ui-"+l+(o?"":" "+b.mobile.activeBtnClass),uncheckedClass:"ui-"+m,checkedicon:"ui-icon-"+l,uncheckedicon:"ui-icon-"+m});if(!this.options.theme)this.options.theme=b.mobile.getInheritedTheme(this.element,"c");j.buttonMarkup({theme:this.options.theme,icon:o,shadow:false,mini:e,iconpos:n});e=a.createElement("div");e.className="ui-"+k;d.add(j).wrapAll(e);j.bind({vmouseover:function(a){b(this).parent().is(".ui-disabled")&&
a.stopPropagation()},vclick:function(b){if(d.is(":disabled"))b.preventDefault();else return f._cacheVals(),d.prop("checked",k==="radio"&&true||!d.prop("checked")),d.triggerHandler("click"),f._getInputSet().not(d).prop("checked",false),f._updateAll(),false}});d.bind({vmousedown:function(){f._cacheVals()},vclick:function(){var a=b(this);a.is(":checked")?(a.prop("checked",true),f._getInputSet().not(a).prop("checked",false)):a.prop("checked",false);f._updateAll()},focus:function(){j.addClass(b.mobile.focusClass)},
blur:function(){j.removeClass(b.mobile.focusClass)}});this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){b(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return this.inputtype==="checkbox"?this.element:this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var a=this;this._getInputSet().each(function(){var c=b(this);(this.checked||a.inputtype==="checkbox")&&
c.trigger("change")}).checkboxradio("refresh")},refresh:function(){var b=this.element[0],a=this.label,c=a.find(".ui-icon");b.checked?(a.addClass(this.checkedClass).removeClass(this.uncheckedClass),c.addClass(this.checkedicon).removeClass(this.uncheckedicon)):(a.removeClass(this.checkedClass).addClass(this.uncheckedClass),c.removeClass(this.checkedicon).addClass(this.uncheckedicon));b.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled")},
enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled")}});b(a).bind("pagecreate create",function(a){b.mobile.checkboxradio.prototype.enhanceWithin(a.target,true)})})(jQuery);(function(b,c){b.widget("mobile.button",b.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:false,corners:true,shadow:true,iconshadow:true,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']",mini:false},_create:function(){var f=this.element,
d,e=this.options,j;j="";var k;if(f[0].tagName==="A")!f.hasClass("ui-btn")&&f.buttonMarkup();else{if(!this.options.theme)this.options.theme=b.mobile.getInheritedTheme(this.element,"c");~f[0].className.indexOf("ui-btn-left")&&(j="ui-btn-left");~f[0].className.indexOf("ui-btn-right")&&(j="ui-btn-right");d=this.button=b("<div></div>").text(f.text()||f.val()).insertBefore(f).buttonMarkup({theme:e.theme,icon:e.icon,iconpos:e.iconpos,inline:e.inline,corners:e.corners,shadow:e.shadow,iconshadow:e.iconshadow,
mini:e.mini}).addClass(j).append(f.addClass("ui-btn-hidden"));e=f.attr("type");j=f.attr("name");e!=="button"&&e!=="reset"&&j&&f.bind("vclick",function(){k===c&&(k=b("<input>",{type:"hidden",name:f.attr("name"),value:f.attr("value")}).insertBefore(f),b(a).one("submit",function(){k.remove();k=c}))});f.bind({focus:function(){d.addClass(b.mobile.focusClass)},blur:function(){d.removeClass(b.mobile.focusClass)}});this.refresh()}},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",
false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)},refresh:function(){var a=this.element;a.prop("disabled")?this.disable():this.enable();b(this.button.data("buttonElements").text).text(a.text()||a.val())}});b(a).bind("pagecreate create",function(a){b.mobile.button.prototype.enhanceWithin(a.target,true)})})(jQuery);(function(b){b.fn.controlgroup=
function(a){function f(b,a){b.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(a[0]).end().last().addClass(a[1]).addClass("ui-controlgroup-last")}return this.each(function(){var d=b(this),e=b.extend({direction:d.jqmData("type")||"vertical",shadow:false,excludeInvisible:true,mini:d.jqmData("mini")},a),j=d.children("legend"),k=e.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];d.find("input").first().attr("type");j.length&&(d.wrapInner("<div class='ui-controlgroup-controls'></div>"),
b("<div role='heading' class='ui-controlgroup-label'>"+j.html()+"</div>").insertBefore(d.children(0)),j.remove());d.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+e.direction);f(d.find(".ui-btn"+(e.excludeInvisible?":visible":"")).not(".ui-slider-handle"),k);f(d.find(".ui-btn-inner"),k);e.shadow&&d.addClass("ui-shadow");e.mini&&d.addClass("ui-mini")})}})(jQuery);(function(b){b(a).bind("pagecreate create",function(a){b(a.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(jQuery);
(function(b){var a=b("meta[name=viewport]"),f=a.attr("content"),d=f+",maximum-scale=1, user-scalable=no",e=f+",maximum-scale=10, user-scalable=yes",j=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(f);b.mobile.zoom=b.extend({},{enabled:!j,locked:false,disable:function(f){if(!j&&!b.mobile.zoom.locked)a.attr("content",d),b.mobile.zoom.enabled=false,b.mobile.zoom.locked=f||false},enable:function(f){if(!j&&(!b.mobile.zoom.locked||f===true))a.attr("content",e),b.mobile.zoom.enabled=
true,b.mobile.zoom.locked=false},restore:function(){if(!j)a.attr("content",f),b.mobile.zoom.enabled=true}})})(jQuery);(function(b){b.widget("mobile.textinput",b.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",
clearSearchButtonText:"clear text"},_create:function(){var c=this.element,f=this.options,e=f.theme||b.mobile.getInheritedTheme(this.element,"c"),h=" ui-body-"+e,j=c.jqmData("mini")==true,k=j?" ui-mini":"",l,m;b("label[for='"+c.attr("id")+"']").addClass("ui-input-text");l=c.addClass("ui-input-text ui-body-"+e);typeof c[0].autocorrect!=="undefined"&&!b.support.touchOverflow&&(c[0].setAttribute("autocorrect","off"),c[0].setAttribute("autocomplete","off"));c.is("[type='search'],:jqmData(type='search')")?
(l=c.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+h+k+"'></div>").parent(),m=b("<a href='#' class='ui-input-clear' title='"+f.clearSearchButtonText+"'>"+f.clearSearchButtonText+"</a>").bind("click",function(b){c.val("").focus().trigger("change");m.addClass("ui-input-clear-hidden");b.preventDefault()}).appendTo(l).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true,mini:j}),e=function(){setTimeout(function(){m.toggleClass("ui-input-clear-hidden",
!c.val())},0)},e(),c.bind("paste cut keyup focus change blur",e)):c.addClass("ui-corner-all ui-shadow-inset"+h+k);c.focus(function(){l.addClass(b.mobile.focusClass)}).blur(function(){l.removeClass(b.mobile.focusClass)}).bind("focus",function(){f.preventFocusZoom&&b.mobile.zoom.disable(true)}).bind("blur",function(){f.preventFocusZoom&&b.mobile.zoom.enable(true)});if(c.is("textarea")){var o=function(){var b=c[0].scrollHeight;c[0].clientHeight<b&&c.height(b+15)},n;c.keyup(function(){clearTimeout(n);
n=setTimeout(o,100)});b(a).one("pagechange",o);b.trim(c.val())&&b(d).load(o)}},disable:function(){(this.element.attr("disabled",true).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",false).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled")}});b(a).bind("pagecreate create",function(a){b.mobile.textinput.prototype.enhanceWithin(a.target,
true)})})(jQuery);(function(b){b.mobile.listview.prototype.options.filter=false;b.mobile.listview.prototype.options.filterPlaceholder="Filter items...";b.mobile.listview.prototype.options.filterTheme="c";b.mobile.listview.prototype.options.filterCallback=function(b,a){return b.toLowerCase().indexOf(a)===-1};b(a).delegate(":jqmData(role='listview')","listviewcreate",function(){var a=b(this),f=a.data("listview");if(f.options.filter){var d=b("<form>",{"class":"ui-listview-filter ui-bar-"+f.options.filterTheme,
role:"search"});b("<input>",{placeholder:f.options.filterPlaceholder}).attr("data-"+b.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var d=b(this),e=this.value.toLowerCase(),g=null,g=d.jqmData("lastval")+"",l=false,m="";d.jqmData("lastval",e);g=e.length<g.length||e.indexOf(g)!==0?a.children():a.children(":not(.ui-screen-hidden)");if(e){for(var o=g.length-1;o>=0;o--)d=b(g[o]),m=d.jqmData("filtertext")||d.text(),d.is("li:jqmData(role=list-divider)")?(d.toggleClass("ui-filter-hidequeue",
!l),l=false):f.options.filterCallback(m,e)?d.toggleClass("ui-filter-hidequeue",true):l=true;g.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);g.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else g.toggleClass("ui-screen-hidden",false);f._refreshCorners()}).appendTo(d).textinput();f.options.inset&&d.addClass("ui-listview-filter-inset");d.bind("submit",function(){return false}).insertBefore(a)}})})(jQuery);(function(b,
c){b.widget("mobile.slider",b.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:false},_create:function(){var f=this,e=this.element,h=b.mobile.getInheritedTheme(e,"c"),j=this.options.theme||h,h=this.options.trackTheme||h,k=e[0].nodeName.toLowerCase(),l=k=="select"?"ui-slider-switch":"",m=e.attr("id"),o=m+"-label",m=b("[for='"+m+"']").attr("id",o),n=function(){return k=="input"?parseFloat(e.val()):
e[0].selectedIndex},q=k=="input"?parseFloat(e.attr("min")):0,p=k=="input"?parseFloat(e.attr("max")):e.find("option").length-1,s=d.parseFloat(e.attr("step")||1),r=this.options.inline||e.jqmData("inline")==true?" ui-slider-inline":"",t=this.options.mini||e.jqmData("mini")?" ui-slider-mini":"",v=a.createElement("a"),w=b(v),u=a.createElement("div"),x=b(u),y=e.jqmData("highlight")&&k!="select"?function(){var c=a.createElement("div");c.className="ui-slider-bg ui-btn-active ui-btn-corner-all";return b(c).prependTo(x)}():
false;v.setAttribute("href","#");u.setAttribute("role","application");u.className=["ui-slider ",l," ui-btn-down-",h," ui-btn-corner-all",r,t].join("");v.className="ui-slider-handle";u.appendChild(v);w.buttonMarkup({corners:true,theme:j,shadow:true}).attr({role:"slider","aria-valuemin":q,"aria-valuemax":p,"aria-valuenow":n(),"aria-valuetext":n(),title:n(),"aria-labelledby":o});b.extend(this,{slider:x,handle:w,valuebg:y,dragging:false,beforeStart:null,userModified:false,mouseMoved:false});if(k=="select"){j=
a.createElement("div");j.className="ui-slider-inneroffset";l=0;for(o=u.childNodes.length;l<o;l++)j.appendChild(u.childNodes[l]);u.appendChild(j);w.addClass("ui-slider-handle-snapping");u=e.find("option");j=0;for(l=u.length;j<l;j++)o=!j?"b":"a",r=!j?" ui-btn-down-"+h:" "+b.mobile.activeBtnClass,a.createElement("div"),t=a.createElement("span"),t.className=["ui-slider-label ui-slider-label-",o,r," ui-btn-corner-all"].join(""),t.setAttribute("role","img"),t.appendChild(a.createTextNode(u[j].innerHTML)),
b(t).prependTo(x);f._labels=b(".ui-slider-label",x)}m.addClass("ui-slider");e.addClass(k==="input"?"ui-slider-input":"ui-slider-switch").change(function(){f.mouseMoved||f.refresh(n(),true)}).keyup(function(){f.refresh(n(),true,true)}).blur(function(){f.refresh(n(),true)});b(a).bind("vmousemove",function(b){if(f.dragging)return f.mouseMoved=true,k==="select"&&w.removeClass("ui-slider-handle-snapping"),f.refresh(b),f.userModified=f.beforeStart!==e[0].selectedIndex,false});x.bind("vmousedown",function(b){f.dragging=
true;f.userModified=false;f.mouseMoved=false;if(k==="select")f.beforeStart=e[0].selectedIndex;f.refresh(b);return false}).bind("vclick",false);x.add(a).bind("vmouseup",function(){if(f.dragging)return f.dragging=false,k==="select"&&(w.addClass("ui-slider-handle-snapping"),f.mouseMoved?f.userModified?f.refresh(f.beforeStart==0?1:0):f.refresh(f.beforeStart):f.refresh(f.beforeStart==0?1:0)),f.mouseMoved=false});x.insertAfter(e);k=="select"&&this.handle.bind({focus:function(){x.addClass(b.mobile.focusClass)},
blur:function(){x.removeClass(b.mobile.focusClass)}});this.handle.bind({vmousedown:function(){b(this).focus()},vclick:false,keydown:function(a){var c=n();if(!f.options.disabled){switch(a.keyCode){case b.mobile.keyCode.HOME:case b.mobile.keyCode.END:case b.mobile.keyCode.PAGE_UP:case b.mobile.keyCode.PAGE_DOWN:case b.mobile.keyCode.UP:case b.mobile.keyCode.RIGHT:case b.mobile.keyCode.DOWN:case b.mobile.keyCode.LEFT:if(a.preventDefault(),!f._keySliding)f._keySliding=true,b(this).addClass("ui-state-active")}switch(a.keyCode){case b.mobile.keyCode.HOME:f.refresh(q);
break;case b.mobile.keyCode.END:f.refresh(p);break;case b.mobile.keyCode.PAGE_UP:case b.mobile.keyCode.UP:case b.mobile.keyCode.RIGHT:f.refresh(c+s);break;case b.mobile.keyCode.PAGE_DOWN:case b.mobile.keyCode.DOWN:case b.mobile.keyCode.LEFT:f.refresh(c-s)}}},keyup:function(){if(f._keySliding)f._keySliding=false,b(this).removeClass("ui-state-active")}});this.refresh(c,c,true)},refresh:function(a,c,d){(this.options.disabled||this.element.attr("disabled"))&&this.disable();var e=this.element,k=e[0].nodeName.toLowerCase(),
l=k==="input"?parseFloat(e.attr("min")):0,m=k==="input"?parseFloat(e.attr("max")):e.find("option").length-1,o=k==="input"&&parseFloat(e.attr("step"))>0?parseFloat(e.attr("step")):1;if(typeof a==="object"){if(!this.dragging||a.pageX<this.slider.offset().left-8||a.pageX>this.slider.offset().left+this.slider.width()+8)return;a=Math.round((a.pageX-this.slider.offset().left)/this.slider.width()*100)}else a==null&&(a=k==="input"?parseFloat(e.val()||0):e[0].selectedIndex),a=(parseFloat(a)-l)/(m-l)*100;if(!isNaN(a)){a<
0&&(a=0);a>100&&(a=100);var n=a/100*(m-l)+l,q=(n-l)%o;n-=q;Math.abs(q)*2>=o&&(n+=q>0?o:-o);n=parseFloat(n.toFixed(5));n<l&&(n=l);n>m&&(n=m);this.handle.css("left",a+"%");this.handle.attr({"aria-valuenow":k==="input"?n:e.find("option").eq(n).attr("value"),"aria-valuetext":k==="input"?n:e.find("option").eq(n).getEncodedText(),title:k==="input"?n:e.find("option").eq(n).getEncodedText()});this.valuebg&&this.valuebg.css("width",a+"%");if(this._labels){var l=this.handle.width()/this.slider.width()*100,
p=a&&l+(100-l)*a/100,s=a===100?0:Math.min(l+100-p,100);this._labels.each(function(){var a=b(this).is(".ui-slider-label-a");b(this).width((a?p:s)+"%")})}if(!d)d=false,k==="input"?(d=e.val()!==n,e.val(n)):(d=e[0].selectedIndex!==n,e[0].selectedIndex=n),!c&&d&&e.trigger("change")}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.slider.addClass("ui-disabled").attr("aria-disabled",
true);return this._setOption("disabled",true)}});b(a).bind("pagecreate create",function(a){b.mobile.slider.prototype.enhanceWithin(a.target,true)})})(jQuery);(function(b){b.widget("mobile.selectmenu",b.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:false,corners:true,shadow:true,iconshadow:true,overlayTheme:"a",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>
-1,initSelector:"select:not(:jqmData(role='slider'))",mini:false},_button:function(){return b("<div/>")},_setDisabled:function(b){this.element.attr("disabled",b);this.button.attr("aria-disabled",b);return this._setOption("disabled",b)},_focusButton:function(){var b=this;setTimeout(function(){b.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var a="";~this.element[0].className.indexOf("ui-btn-left")&&(a=" ui-btn-left");~this.element[0].className.indexOf("ui-btn-right")&&
(a=" ui-btn-right");this.select=this.element.wrap("<div class='ui-select"+a+"'>");this.selectID=this.select.attr("id");this.label=b("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme)this.options.theme=b.mobile.getInheritedTheme(this.select,"c")},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=this._button();var a=this,f=this.options,e=this.button.text(b(this.select[0].options.item(this.select[0].selectedIndex==
-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:f.theme,icon:f.icon,iconpos:f.iconpos,inline:f.inline,corners:f.corners,shadow:f.shadow,iconshadow:f.iconshadow,mini:f.mini});f.nativeMenu&&d.opera&&d.opera.version&&this.select.addClass("ui-select-nativeonly");if(this.isMultiple)this.buttonCount=b("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(e.addClass("ui-li-has-count"));(f.disabled||this.element.attr("disabled"))&&this.disable();
this.select.change(function(){a.refresh()});this.build()},build:function(){var a=this;this.select.appendTo(a.button).bind("vmousedown",function(){a.button.addClass(b.mobile.activeBtnClass)}).bind("focus",function(){a.button.addClass(b.mobile.focusClass)}).bind("blur",function(){a.button.removeClass(b.mobile.focusClass)}).bind("focus vmouseover",function(){a.button.trigger("vmouseover")}).bind("vmousemove",function(){a.button.removeClass(b.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){a.button.trigger("vmouseout").removeClass(b.mobile.activeBtnClass)}).bind("change blur",
function(){a.button.removeClass("ui-btn-down-"+a.options.theme)});a.button.bind("vmousedown",function(){a.options.preventFocusZoom&&b.mobile.zoom.disable(true)}).bind("mouseup",function(){a.options.preventFocusZoom&&b.mobile.zoom.enable(true)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var b=this;return this.selected().map(function(){return b._selectOptions().index(this)}).get()},setButtonText:function(){var a=this,f=this.selected();this.button.find(".ui-btn-text").text(function(){return!a.isMultiple?
f.text():f.length?f.map(function(){return b(this).text()}).get().join(", "):a.placeholder})},setButtonCount:function(){var b=this.selected();this.isMultiple&&this.buttonCount[b.length>1?"show":"hide"]().text(b.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:b.noop,close:b.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled")}});b(a).bind("pagecreate create",
function(a){b.mobile.selectmenu.prototype.enhanceWithin(a.target,true)})})(jQuery);(function(b){var c=function(c){var e=c.selectID,h=c.label,j=c.select.closest(".ui-page"),k=b("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(j),l=c._selectOptions(),m=c.isMultiple=c.select[0].multiple,o=e+"-button",n=e+"-menu",q=b("<div data-"+b.mobile.ns+"role='dialog' data-"+b.mobile.ns+"theme='"+c.options.theme+"' data-"+b.mobile.ns+"overlay-theme='"+c.options.overlayTheme+"'><div data-"+b.mobile.ns+
"role='header'><div class='ui-title'>"+h.getEncodedText()+"</div></div><div data-"+b.mobile.ns+"role='content'></div></div>"),p=b("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+c.options.overlayTheme+" "+b.mobile.defaultDialogTransition}).insertAfter(k),s=b("<ul>",{"class":"ui-selectmenu-list",id:n,role:"listbox","aria-labelledby":o}).attr("data-"+b.mobile.ns+"theme",c.options.theme).appendTo(p),r=b("<div>",{"class":"ui-header ui-bar-"+c.options.theme}).prependTo(p),
t=b("<h1>",{"class":"ui-title"}).appendTo(r),v;c.isMultiple&&(v=b("<a>",{text:c.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+b.mobile.ns+"iconpos","notext").attr("data-"+b.mobile.ns+"icon","delete").appendTo(r).buttonMarkup());b.extend(c,{select:c.select,selectID:e,buttonId:o,menuId:n,thisPage:j,menuPage:q,label:h,screen:k,selectOptions:l,isMultiple:m,theme:c.options.theme,listbox:p,list:s,header:r,headerTitle:t,headerClose:v,menuPageContent:void 0,menuPageClose:void 0,placeholder:"",
build:function(){var a=this;a.refresh();a.select.attr("tabindex","-1").focus(function(){b(this).blur();a.button.focus()});a.button.bind("vclick keydown",function(c){if(c.type=="vclick"||c.keyCode&&(c.keyCode===b.mobile.keyCode.ENTER||c.keyCode===b.mobile.keyCode.SPACE))a.open(),c.preventDefault()});a.list.attr("role","listbox").bind("focusin",function(a){b(a.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(a){b(a.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)",
"click",function(c){var f=a.select[0].selectedIndex,d=a.list.find("li:not(.ui-li-divider)").index(this),e=a._selectOptions().eq(d)[0];e.selected=a.isMultiple?!e.selected:true;a.isMultiple&&b(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",e.selected).toggleClass("ui-icon-checkbox-off",!e.selected);(a.isMultiple||f!==d)&&a.select.trigger("change");a.isMultiple||a.close();c.preventDefault()}).keydown(function(a){var d=b(a.target),e=d.closest("li");switch(a.keyCode){case 38:return a=e.prev().not(".ui-selectmenu-placeholder"),
a.is(".ui-li-divider")&&(a=a.prev()),a.length&&(d.blur().attr("tabindex","-1"),a.addClass("ui-btn-down-"+c.options.theme).find("a").first().focus()),false;case 40:return a=e.next(),a.is(".ui-li-divider")&&(a=a.next()),a.length&&(d.blur().attr("tabindex","-1"),a.addClass("ui-btn-down-"+c.options.theme).find("a").first().focus()),false;case 13:case 32:return d.trigger("click"),false}});a.menuPage.bind("pagehide",function(){a.list.appendTo(a.listbox);a._focusButton();b.mobile._bindPageRemove.call(a.thisPage)});
a.screen.bind("vclick",function(){a.close()});a.isMultiple&&a.headerClose.click(function(){if(a.menuType=="overlay")return a.close(),false});a.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var b=this.list.find("li");return this._selectOptions().text()!==b.text()},refresh:function(a){var c=this;this._selectOptions();this.selected();var d=this.selectedIndices();(a||this._isRebuildRequired())&&c._buildList();c.setButtonText();c.setButtonCount();c.list.find("li:not(.ui-li-divider)").removeClass(b.mobile.activeBtnClass).attr("aria-selected",
false).each(function(a){b.inArray(a,d)>-1&&(a=b(this),a.attr("aria-selected",true),c.isMultiple?a.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):a.is(".ui-selectmenu-placeholder")?a.next().addClass(b.mobile.activeBtnClass):a.addClass(b.mobile.activeBtnClass))})},close:function(){if(!this.options.disabled&&this.isOpen)this.menuType=="page"?d.history.back():(this.screen.addClass("ui-screen-hidden"),this.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in"),
this.list.appendTo(this.listbox),this._focusButton()),this.isOpen=false},open:function(){function c(){f.list.find("."+b.mobile.activeBtnClass+" a").focus()}if(!this.options.disabled){var f=this,e=b(d),g=f.list.parent(),h=g.outerHeight(),g=g.outerWidth();b(".ui-page-active");var j=e.scrollTop(),k=f.button.offset().top,l=e.height(),e=e.width();f.button.addClass(b.mobile.activeBtnClass);setTimeout(function(){f.button.removeClass(b.mobile.activeBtnClass)},300);if(h>l-80||!b.support.scrollTop){f.menuPage.appendTo(b.mobile.pageContainer).page();
f.menuPageContent=q.find(".ui-content");f.menuPageClose=q.find(".ui-header a");f.thisPage.unbind("pagehide.remove");if(j==0&&k>l)f.thisPage.one("pagehide",function(){b(this).jqmData("lastScroll",k)});f.menuPage.one("pageshow",function(){c();f.isOpen=true});f.menuType="page";f.menuPageContent.append(f.list);f.menuPage.find("div .ui-title").text(f.label.text());b.mobile.changePage(f.menuPage,{transition:b.mobile.defaultDialogTransition})}else{f.menuType="overlay";f.screen.height(b(a).height()).removeClass("ui-screen-hidden");
var m=k-j,n=j+l-k,o=h/2,p=parseFloat(f.list.parent().css("max-width")),h=m>h/2&&n>h/2?k+f.button.outerHeight()/2-o:m>n?j+l-h-30:j+30;g<p?j=(e-g)/2:(j=f.button.offset().left+f.button.outerWidth()/2-g/2,j<30?j=30:j+g>e&&(j=e-g-30));f.listbox.append(f.list).removeClass("ui-selectmenu-hidden").css({top:h,left:j}).addClass("in");c();f.isOpen=true}}},_buildList:function(){var c=this.options,f=this.placeholder,d=true,e=this.isMultiple?"checkbox-off":"false";this.list.empty().filter(".ui-listview").listview("destroy");
var g=this.select.find("option"),h=g.length,j=this.select[0],k="data-"+b.mobile.ns,l=k+"option-index",m=k+"icon";k+="role";for(var n=a.createDocumentFragment(),o,q=0;q<h;q++){var p=g[q],s=b(p),r=p.parentNode,t=s.text(),v=a.createElement("a"),I=[];v.setAttribute("href","#");v.appendChild(a.createTextNode(t));r!==j&&r.nodeName.toLowerCase()==="optgroup"&&(r=r.getAttribute("label"),r!=o&&(o=a.createElement("li"),o.setAttribute(k,"list-divider"),o.setAttribute("role","option"),o.setAttribute("tabindex",
"-1"),o.appendChild(a.createTextNode(r)),n.appendChild(o),o=r));if(d&&(!p.getAttribute("value")||t.length==0||s.jqmData("placeholder")))if(d=false,c.hidePlaceholderMenuItems&&I.push("ui-selectmenu-placeholder"),!f)f=this.placeholder=t;s=a.createElement("li");p.disabled&&(I.push("ui-disabled"),s.setAttribute("aria-disabled",true));s.setAttribute(l,q);s.setAttribute(m,e);s.className=I.join(" ");s.setAttribute("role","option");v.setAttribute("tabindex","-1");s.appendChild(v);n.appendChild(s)}this.list[0].appendChild(n);
!this.isMultiple&&!f.length?this.header.hide():this.headerTitle.text(this.placeholder);this.list.listview()},_button:function(){return b("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};b(a).bind("selectmenubeforecreate",function(a){a=b(a.target).data("selectmenu");a.options.nativeMenu||c(a)})})(jQuery);(function(b){b.widget("mobile.fixedtoolbar",b.mobile.widget,{options:{visibleOnPageShow:true,disablePageZoom:true,transition:"slide",fullscreen:false,
tapToggle:true,tapToggleBlacklist:"a, input, select, textarea, .ui-header-fixed, .ui-footer-fixed",hideDuringFocus:"input, textarea, select",updatePagePadding:true,trackPersistentToolbars:true,supportBlacklist:function(){var b=navigator.userAgent,a=navigator.platform,e=b.match(/AppleWebKit\/([0-9]+)/),e=!!e&&e[1],h=b.match(/Fennec\/([0-9]+)/),h=!!h&&h[1],j=b.match(/Opera Mobi\/([0-9]+)/),k=!!j&&j[1];return(a.indexOf("iPhone")>-1||a.indexOf("iPad")>-1||a.indexOf("iPod")>-1)&&e&&e<534||d.operamini&&
{}.toString.call(d.operamini)==="[object OperaMini]"||j&&k<7458||b.indexOf("Android")>-1&&e&&e<533||h&&h<6||"palmGetResource"in d&&e&&e<534||b.indexOf("MeeGo")>-1&&b.indexOf("NokiaBrowser/8.5.0")>-1?true:false},initSelector:":jqmData(position='fixed')"},_create:function(){var b=this.options,a=this.element,d=a.is(":jqmData(role='header')")?"header":"footer",e=a.closest(".ui-page");b.supportBlacklist()?this.destroy():(a.addClass("ui-"+d+"-fixed"),b.fullscreen?(a.addClass("ui-"+d+"-fullscreen"),e.addClass("ui-page-"+
d+"-fullscreen")):e.addClass("ui-page-"+d+"-fixed"),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers())},_addTransitionClass:function(){var b=this.options.transition;b&&b!=="none"&&(b==="slide"&&(b=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(b))},_bindPageEvents:function(){var a=this,f=a.options;a.element.closest(".ui-page").bind("pagebeforeshow",function(){f.disablePageZoom&&b.mobile.zoom.disable(true);f.visibleOnPageShow||a.hide(true)}).bind("webkitAnimationStart animationstart updatelayout",
function(){f.updatePagePadding&&a.updatePagePadding()}).bind("pageshow",function(){a.updatePagePadding();f.updatePagePadding&&b(d).bind("throttledresize."+a.widgetName,function(){a.updatePagePadding()})}).bind("pagebeforehide",function(e,h){f.disablePageZoom&&b.mobile.zoom.enable(true);f.updatePagePadding&&b(d).unbind("throttledresize."+a.widgetName);if(f.trackPersistentToolbars){var j=b(".ui-footer-fixed:jqmData(id)",this),k=b(".ui-header-fixed:jqmData(id)",this),l=j.length&&h.nextPage&&b(".ui-footer-fixed:jqmData(id='"+
j.jqmData("id")+"')",h.nextPage),m=k.length&&h.nextPage&&b(".ui-header-fixed:jqmData(id='"+k.jqmData("id")+"')",h.nextPage),l=l||b();if(l.length||m.length)l.add(m).appendTo(b.mobile.pageContainer),h.nextPage.one("pageshow",function(){l.add(m).appendTo(this)})}})},_visible:true,updatePagePadding:function(){var b=this.element,a=b.is(".ui-header");this.options.fullscreen||b.closest(".ui-page").css("padding-"+(a?"top":"bottom"),b.outerHeight())},_useTransition:function(a){var f=this.element,e=b(d).scrollTop(),
h=f.height(),j=f.closest(".ui-page").height(),k=b.mobile.getScreenHeight(),f=f.is(":jqmData(role='header')")?"header":"footer";return!a&&(this.options.transition&&this.options.transition!=="none"&&(f==="header"&&!this.options.fullscreen&&e>h||f==="footer"&&!this.options.fullscreen&&e+k<j-h)||this.options.fullscreen)},show:function(b){var a=this.element;this._useTransition(b)?a.removeClass("out ui-fixed-hidden").addClass("in"):a.removeClass("ui-fixed-hidden");this._visible=true},hide:function(b){var a=
this.element,d="out"+(this.options.transition==="slide"?" reverse":"");this._useTransition(b)?a.addClass(d).removeClass("in").animationComplete(function(){a.addClass("ui-fixed-hidden").removeClass(d)}):a.addClass("ui-fixed-hidden").removeClass(d);this._visible=false},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var a=this,d=a.options;a.element.closest(".ui-page").bind("vclick",function(e){d.tapToggle&&!b(e.target).closest(d.tapToggleBlacklist).length&&a.toggle()}).bind("focusin focusout",
function(e){if(screen.width<500&&b(e.target).is(d.hideDuringFocus)&&!b(e.target).closest(".ui-header-fixed, .ui-footer-fixed").length)a[e.type==="focusin"&&a._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}});b(a).bind("pagecreate create",
function(a){b(a.target).jqmData("fullscreen")&&b(b.mobile.fixedtoolbar.prototype.options.initSelector,a.target).not(":jqmData(fullscreen)").jqmData("fullscreen",true);b.mobile.fixedtoolbar.prototype.enhanceWithin(a.target)})})(jQuery);(function(a,c){if(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1){var d=a.mobile.zoom,e,h,j,k,l;a(c).bind("orientationchange.iosorientationfix",d.enable).bind("devicemotion.iosorientationfix",function(a){e=a.originalEvent;
l=e.accelerationIncludingGravity;h=Math.abs(l.x);j=Math.abs(l.y);k=Math.abs(l.z);!c.orientation&&(h>7||(k>6&&j<8||k<8&&j>6)&&h>5)?d.enabled&&d.disable():d.enabled||d.enable()})}})(jQuery,this);(function(b,c){function d(){var a=b("."+b.mobile.activeBtnClass).first();l.css({top:b.support.scrollTop&&k.scrollTop()+k.height()/2||a.length&&a.offset().top||100})}function e(){var a=l.offset(),c=k.scrollTop(),h=b.mobile.getScreenHeight();if(a.top<c||a.top-c>h)l.addClass("ui-loader-fakefix"),d(),k.unbind("scroll",
e).bind("scroll",d)}function h(){j.removeClass("ui-mobile-rendering")}var j=b("html");b("head");var k=b(c);b(c.document).trigger("mobileinit");if(b.mobile.gradeA()){if(b.mobile.ajaxBlacklist)b.mobile.ajaxEnabled=false;j.addClass("ui-mobile ui-mobile-rendering");setTimeout(h,5E3);var l=b("<div class='ui-loader'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>");b.extend(b.mobile,{showPageLoadingMsg:function(a,c,d){j.addClass("ui-loading");if(b.mobile.loadingMessage){var f=d||b.mobile.loadingMessageTextVisible;
a=a||b.mobile.loadingMessageTheme;l.attr("class","ui-loader ui-corner-all ui-body-"+(a||"a")+" ui-loader-"+(f?"verbose":"default")+(d?" ui-loader-textonly":"")).find("h1").text(c||b.mobile.loadingMessage).end().appendTo(b.mobile.pageContainer);e();k.bind("scroll",e)}},hidePageLoadingMsg:function(){j.removeClass("ui-loading");b.mobile.loadingMessage&&l.removeClass("ui-loader-fakefix");b(c).unbind("scroll",d);b(c).unbind("scroll",e)},initializePage:function(){var a=b(":jqmData(role='page'), :jqmData(role='dialog')");
a.length||(a=b("body").wrapInner("<div data-"+b.mobile.ns+"role='page'></div>").children(0));a.each(function(){var a=b(this);a.jqmData("url")||a.attr("data-"+b.mobile.ns+"url",a.attr("id")||location.pathname+location.search)});b.mobile.firstPage=a.first();b.mobile.pageContainer=a.first().parent().addClass("ui-mobile-viewport");k.trigger("pagecontainercreate");b.mobile.showPageLoadingMsg();h();!b.mobile.hashListeningEnabled||!b.mobile.path.stripHash(location.hash)?b.mobile.changePage(b.mobile.firstPage,
{transition:"none",reverse:true,changeHash:false,fromHashChange:true}):k.trigger("hashchange",[true])}});b.mobile._registerInternalEvents();b(function(){c.scrollTo(0,1);b.mobile.defaultHomeScroll=!b.support.scrollTop||b(c).scrollTop()===1?0:1;b.fn.controlgroup&&b(a).bind("pagecreate create",function(a){b(":jqmData(role='controlgroup')",a.target).jqmEnhanceable().controlgroup({excludeInvisible:false})});b.mobile.autoInitializePage&&b.mobile.initializePage();k.load(b.mobile.silentScroll)})}})(jQuery,
this)});jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,d,a,b,c){return jQuery.easing[jQuery.easing.def](e,d,a,b,c)},easeInQuad:function(e,d,a,b,c){return b*(d/=c)*d+a},easeOutQuad:function(e,d,a,b,c){return-b*(d/=c)*(d-2)+a},easeInOutQuad:function(e,d,a,b,c){return(d/=c/2)<1?b/2*d*d+a:-b/2*(--d*(d-2)-1)+a},easeInCubic:function(e,d,a,b,c){return b*(d/=c)*d*d+a},easeOutCubic:function(e,d,a,b,c){return b*((d=d/c-1)*d*d+1)+a},easeInOutCubic:function(e,d,a,b,c){return(d/=c/2)<1?b/2*d*d*d+a:b/
2*((d-=2)*d*d+2)+a},easeInQuart:function(e,d,a,b,c){return b*(d/=c)*d*d*d+a},easeOutQuart:function(e,d,a,b,c){return-b*((d=d/c-1)*d*d*d-1)+a},easeInOutQuart:function(e,d,a,b,c){return(d/=c/2)<1?b/2*d*d*d*d+a:-b/2*((d-=2)*d*d*d-2)+a},easeInQuint:function(e,d,a,b,c){return b*(d/=c)*d*d*d*d+a},easeOutQuint:function(e,d,a,b,c){return b*((d=d/c-1)*d*d*d*d+1)+a},easeInOutQuint:function(e,d,a,b,c){return(d/=c/2)<1?b/2*d*d*d*d*d+a:b/2*((d-=2)*d*d*d*d+2)+a},easeInSine:function(e,d,a,b,c){return-b*Math.cos(d/
c*(Math.PI/2))+b+a},easeOutSine:function(e,d,a,b,c){return b*Math.sin(d/c*(Math.PI/2))+a},easeInOutSine:function(e,d,a,b,c){return-b/2*(Math.cos(Math.PI*d/c)-1)+a},easeInExpo:function(e,d,a,b,c){return d==0?a:b*Math.pow(2,10*(d/c-1))+a},easeOutExpo:function(e,d,a,b,c){return d==c?a+b:b*(-Math.pow(2,-10*d/c)+1)+a},easeInOutExpo:function(e,d,a,b,c){return d==0?a:d==c?a+b:(d/=c/2)<1?b/2*Math.pow(2,10*(d-1))+a:b/2*(-Math.pow(2,-10*--d)+2)+a},easeInCirc:function(e,d,a,b,c){return-b*(Math.sqrt(1-(d/=c)*
d)-1)+a},easeOutCirc:function(e,d,a,b,c){return b*Math.sqrt(1-(d=d/c-1)*d)+a},easeInOutCirc:function(e,d,a,b,c){return(d/=c/2)<1?-b/2*(Math.sqrt(1-d*d)-1)+a:b/2*(Math.sqrt(1-(d-=2)*d)+1)+a},easeInElastic:function(e,d,a,b,c){var e=1.70158,f=0,g=b;if(d==0)return a;if((d/=c)==1)return a+b;f||(f=c*0.3);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return-(g*Math.pow(2,10*(d-=1))*Math.sin((d*c-e)*2*Math.PI/f))+a},easeOutElastic:function(e,d,a,b,c){var e=1.70158,f=0,g=b;if(d==0)return a;if((d/=
c)==1)return a+b;f||(f=c*0.3);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return g*Math.pow(2,-10*d)*Math.sin((d*c-e)*2*Math.PI/f)+b+a},easeInOutElastic:function(e,d,a,b,c){var e=1.70158,f=0,g=b;if(d==0)return a;if((d/=c/2)==2)return a+b;f||(f=c*0.3*1.5);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return d<1?-0.5*g*Math.pow(2,10*(d-=1))*Math.sin((d*c-e)*2*Math.PI/f)+a:g*Math.pow(2,-10*(d-=1))*Math.sin((d*c-e)*2*Math.PI/f)*0.5+b+a},easeInBack:function(e,d,a,b,c,f){f==void 0&&
(f=1.70158);return b*(d/=c)*d*((f+1)*d-f)+a},easeOutBack:function(e,d,a,b,c,f){f==void 0&&(f=1.70158);return b*((d=d/c-1)*d*((f+1)*d+f)+1)+a},easeInOutBack:function(e,d,a,b,c,f){f==void 0&&(f=1.70158);return(d/=c/2)<1?b/2*d*d*(((f*=1.525)+1)*d-f)+a:b/2*((d-=2)*d*(((f*=1.525)+1)*d+f)+2)+a},easeInBounce:function(e,d,a,b,c){return b-jQuery.easing.easeOutBounce(e,c-d,0,b,c)+a},easeOutBounce:function(e,d,a,b,c){return(d/=c)<1/2.75?b*7.5625*d*d+a:d<2/2.75?b*(7.5625*(d-=1.5/2.75)*d+0.75)+a:d<2.5/2.75?b*
(7.5625*(d-=2.25/2.75)*d+0.9375)+a:b*(7.5625*(d-=2.625/2.75)*d+0.984375)+a},easeInOutBounce:function(e,d,a,b,c){return d<c/2?jQuery.easing.easeInBounce(e,d*2,0,b,c)*0.5+a:jQuery.easing.easeOutBounce(e,d*2-c,0,b,c)*0.5+b*0.5+a}});
window.jQuery&&function(e){e.extend({xml2json:function(d,a){function b(d,g){if(!d)return null;var h="",m=null;c(d.localName||d.nodeName);d.childNodes&&d.childNodes.length>0&&e.each(d.childNodes,function(a,d){var e=d.nodeType,g=c(d.localName||d.nodeName),j=d.text||d.nodeValue||"";if(e!=8)e==3||e==4||!g?j.match(/^\s+$/)||(h+=j.replace(/^\s+/,"").replace(/\s+$/,"")):(m=m||{},m[g]?(m[g].length||(m[g]=f(m[g])),m[g]=f(m[g]),m[g][m[g].length]=b(d,true),m[g].length=m[g].length):m[g]=b(d))});d.attributes&&
d.attributes.length>0&&(m=m||{},e.each(d.attributes,function(a,b){var d=c(b.name),e=b.value;m[d]?(m[cnn]=f(m[cnn]),m[d][m[d].length]=e,m[d].length=m[d].length):m[d]=e}));if(m){m=e.extend(h!=""?new String(h):{},m||{});if(h=m.text?(typeof m.text=="object"?m.text:[m.text||""]).concat([h]):h)m.text=h;h=""}var o=m||h;if(a){h&&(o={});if(h=o.text||h||"")o.text=h;g||(o=f(o))}return o}if(!d)return{};var c=function(a){return String(a||"").replace(/-/g,"_")},f=function(a){e.isArray(a)||(a=[a]);a.length=a.length;
return a};typeof d=="string"&&(d=e.text2xml(d));if(d.nodeType){if(d.nodeType==3||d.nodeType==4)return d.nodeValue;var g=d.nodeType==9?d.documentElement:d,h=b(g,true),g=d=null;return h}},text2xml:function(d){var a;try{var b=e.browser.msie?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser;b.async=false}catch(c){throw Error("XML Parser could not be instantiated");}try{a=e.browser.msie?b.loadXML(d)?b:false:b.parseFromString(d,"text/xml")}catch(f){throw Error("Error parsing XML string");}return a}})}(jQuery);
(function(e){e.widget("mobile.page",e.mobile.widget,{options:{theme:null,domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs'), :jqmData(role^='dvc')"},getId:function(){return this.element[0].id},_create:function(){var d=this,a=this.element,b=this.options;if(d._trigger("beforecreate")===false)return false;if(!a.attr("data-theme"))b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);d.element.attr("tabindex","0").addClass("ui-page ui-body-"+d.options.theme).bind("pagebeforehide",
function(){d.removeContainerBackground()}).bind("pagebeforeshow",function(){d.setContainerBackground()});d.element.bind("DOMAttrModified",function(a){if("attrChange"in a){if(a.attrChange==MutationEvent.MODIFICATION){var b=e(a.target).data("page");b&&setTimeout(function(){b._designRefresh()},100)}return false}})},_designRefresh:function(){var d=this.element.attr("data-theme")||"a";this.element.removeClass("ui-page-"+this.options.theme).removeClass("ui-body-"+this.options.theme);this.options.theme=
e.davinci._changeThemeName(d);this.element.addClass("ui-page-"+this.options.theme).addClass("ui-body-"+this.options.theme);this.element.find("div:jqmData(role^='dvc')").each(function(){var a=e(this),b=a.jqmData("role");(a=a.data(b))&&a._changeTheme()})},removeContainerBackground:function(){e.mobile.pageContainer.removeClass("ui-overlay-"+e.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(d){this.options.theme&&e.mobile.pageContainer.addClass("ui-overlay-"+(d||this.options.theme))},
keepNativeSelector:function(){var d=this.options;return d.keepNative&&e.trim(d.keepNative)&&d.keepNative!==d.keepNativeDefault?[d.keepNative,d.keepNativeDefault].join(", "):d.keepNativeDefault}})})(jQuery);
(function(e,d){e.davinci=e.extend(e.davinci,{deviceReady:false,changePage:function(a,b){typeof a==="string"&&a.length>0&&a[0]!="#"&&(a="#"+a);var c=e(a),b=b||{};if(c.length&&(c=c.jqmData("transition"))&&!b.transition)b.transition=c;if(e.davinci.getOSName()=="Android")b.transition="none";e.mobile.changePage(a,b)},getInheritedTheme:function(a,b){for(var c=a[0],f="";c;){if(c.getAttribute==d)break;if(f=c.getAttribute("data-theme"))break;c=c.parentNode}return f||b||"a"},_changeThemeName:function(a){var b=
a;switch(a){case "Uranus":b="a";break;case "POPblue":b="b";break;case "Serengeti":b="c"}return b},getInstance:function(a,b,c){var f,g,h;typeof a==="string"&&a.length>0&&a[0]!="#"&&(a="#"+a);if(b===d)if(typeof a==="string")f=e(a);else if(a instanceof e)f=a;else{if(a instanceof e.mobile.widget)return a}else c===d?(g="[id='"+b+"']",h="[subid='"+b+"']"):(g=".dvc-listitem-item-indexable:eq("+c+") [id='"+b+"']",h=".dvc-listitem-item-indexable:eq("+c+") [subid='"+b+"']"),typeof a==="string"?(f=e(a+" "+g),
f.length==0&&(f=e(a+" "+h))):a instanceof e?(f=a.find(g),f.length==0&&(f=a.find(h))):a instanceof e.mobile.widget&&(f=a.element.find(g),f.length==0&&(f=a.element.find(h)));if(f.length==0)return console.log("!!!ERROR!!! $.davinci.getInstance("+a+", "+b+", "+c+") : Instance not found!"),false;a=f.jqmData("role");return f.data(a)},getAudio:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcAudio"?a:null},getButton:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcButton"?
a:null},getCarousel:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcCarousel"?a:null},getCheckbox:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcCheckbox"?a:null},getCollapseview:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcCollapseview"?a:null},getContent:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcContent"?a:null},getDivision:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcDivision"?a:null},
getFooter:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcFooter"?a:null},getGrid:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcGrid"?a:null},getHeader:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcHeader"?a:null},getImage:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcImage"?a:null},getImageButton:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcImageButton"?a:null},getLabel:function(a,b,c){a=
this.getInstance(a,b,c);return a.widgetName==="dvcLabel"?a:null},getLayoutview:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcLayoutview"?a:null},getListitem:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcListitem"?a:null},getPagebox:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcPagebox"?a:null},getPicker:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcPicker"?a:null},getPopup:function(a,b,c){a=this.getInstance(a,
b,c);return a.widgetName==="dvcPopup"?a:null},getProgress:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcProgress"?a:null},getRadio:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcRadio"?a:null},getScrollview:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcScrollview"?a:null},getSlider:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcSlider"?a:null},getSwitch:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName===
"dvcSwitch"?a:null},getTextarea:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcTextarea"?a:null},getTextfield:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcTextfield"?a:null},getTreeview:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcTreeview"?a:null},getVideo:function(a,b,c){a=this.getInstance(a,b,c);return a.widgetName==="dvcVideo"?a:null},getActivePage:function(){var a=e("body>.ui-page-active");return a&&a.length?a.data("page"):null},
getOSName:function(){return e.davinci.osName},getOSVersion:function(){return e.davinci.osVersion},getDeviceType:function(){return e.davinci.deviceType},showPageLoadingMsg:function(a,b){var c=e.davinci.getActivePage(),c=a?a:c.options.theme;e(".ui-icon-loading").addClass("spin");return e.mobile.showPageLoadingMsg(c,b)},hidePageLoadingMsg:function(){e(".ui-icon-loading").removeClass("spin");return e.mobile.hidePageLoadingMsg()}})})(jQuery);Element.prototype._setAttribute=Element.prototype.setAttribute;
Element.prototype.setAttribute=function(e,d,a){this._setAttribute(e,d);if(a){var a=document.createEvent("MutationEvents"),b=this.getAttribute(e);a.initMutationEvent("DOMAttrModified",true,true,null,b,d,e,MutationEvent.MODIFICATION);this.dispatchEvent(a)}};
(function(e,d){e.widget("davinci.dvcBase",e.mobile.widget,{options:{visible:true,enable:true,customStyle:false,backgroundLayout:"none",theme:null,eventNames:[]},classes:{CLS_DESIGN_DEFAULT:"dvc-design-default",CLS_BASE_HIDDEN:"dvc-base-hidden",CLS_BASE_DISABLED:"dvc-base-disabled",CLS_BASE_CHECKED:"dvc-base-checked",CLS_BASE_ABSOLUTE:"dvc-base-absolute",CLS_BASE_LAYOUT_TILE:"dvc-base-layout-tile",CLS_BASE_LAYOUT_STRETCH:"dvc-base-layout-stretch",CLS_BASE_LAYOUT_ZOOM:"dvc-base-layout-zoom",CLS_BASE_LAYOUT_CENTER:"dvc-base-layout-center",
CLS_WIDGET:"",CLS_THEME:null},_init:function(){var a=this.element,b=this.options.eventNames;b.length&&a._eventRegs(b)},_create:function(){var a=this.element,b=this;b._initWidget();b._appendChildElements();var c=function(){var c=a.closest(".ui-page");if(c.hasClass(e.mobile.activePageClass))b._initVars(),b._addDOMAttrModifiedEventListener(),b.refresh();else c.one("ev_pageshow",function(){b._initVars();b._addDOMAttrModifiedEventListener();b.refresh()})};if(b._isElementInDocument(a))c();else a.one("DOMNodeInsertedIntoDocument",
function(){setTimeout(function(){c()},100)})},_addDOMAttrModifiedEventListener:function(){this.element.bind("DOMAttrModified",function(a){if("attrChange"in a){if(a.attrChange==MutationEvent.MODIFICATION){var a=e(a.target),b=a.jqmData("role"),c=a.data(b);c&&setTimeout(function(){c._designRefresh()},100)}return false}})},_designRefresh:function(){for(var a in e.davinci[this.widgetName].prototype.options)this.options[a]=e.davinci[this.widgetName].prototype.options[a];for(a in this.element[0].dataset)this.options[a]=
this.element[0].dataset[a],this.options[a].toLowerCase()=="true"?this.options[a]=true:this.options[a].toLowerCase()=="false"&&(this.options[a]=false);this._removeClasses();this._removeDesignDefault();this._empty();this._initWidget();this._appendChildElements();this._initVars();this.refresh()},_designDefault:function(a){var b=this.element,a=e("<div class='"+this.classes.CLS_DESIGN_DEFAULT+"' waper_focus='false' waper_dontsave='true' style='font-family:Tahoma; font-size:12px;' >"+a+"</div>");b.append(a)},
_addAttrDontSaveNDontFocus:function(a){return a.attr("waper_focus","false").attr("waper_dontsave","true")},_removeClasses:function(){var a=this.element,b=this.classes,c=[],d;for(d in b)c.push(b[d]);a.removeClass(c.join(" "))},_removeDesignDefault:function(){this.element.children(".dvc-design-default").remove()},_empty:function(){this.element.empty()},_changeTheme:function(){var a=this.element,b=this.options,c=this.classes;if(!a.attr("data-theme"))b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);
a.removeClass(c.CLS_WIDGET+"-a "+c.CLS_WIDGET+"-b "+c.CLS_WIDGET+"-c");c.CLS_THEME=c.CLS_WIDGET+"-"+b.theme;a.addClass(c.CLS_THEME)},_initWidget:function(){},_appendChildElements:function(){},_initVars:function(){},enable:function(a){var b=this.options,c=this.classes;if(a!=d)b.enable=a,a==true?this.element.removeClass(c.CLS_BASE_DISABLED):this.element.addClass(c.CLS_BASE_DISABLED);else return b.enable},visible:function(a){var b=this.options,c=this.classes;if(a!=d)b.visible=a,a==true?this.element.removeClass(c.CLS_BASE_HIDDEN):
this.element.addClass(c.CLS_BASE_HIDDEN);else return b.visible},backgroundLayout:function(a){var b=this.element,c=this.options,d=this.classes;if(arguments.length)switch(b.removeClass(d.CLS_BASE_LAYOUT_TILE+" "+d.CLS_BASE_LAYOUT_STRETCH+" "+d.CLS_BASE_LAYOUT_ZOOM+" "+d.CLS_BASE_LAYOUT_CENTER),c.backgroundLayout=a,a){case "tile":b.addClass(d.CLS_BASE_LAYOUT_TILE);break;case "stretch":b.addClass(d.CLS_BASE_LAYOUT_STRETCH);break;case "zoom":b.addClass(d.CLS_BASE_LAYOUT_ZOOM);break;case "center":b.addClass(d.CLS_BASE_LAYOUT_CENTER)}else return a=
c.backgroundLayout},refresh:function(){this.backgroundLayout(this.backgroundLayout());this.enable(this.enable());this.visible(this.visible())},scrollviewDragged:function(){if(this.scrollview===d&&!this._findScrollview())this.scrollview=0;return this.scrollview&&this.scrollview._didDrag?true:false},_isElementInDocument:function(a){a=this.element;for(a=a[0];a!=document&&a.parentNode;)a=a.parentNode;return a==document},_getAncestorEnable:function(){var a=this.classes,b=true;this.element.parents(":jqmData(role^='dvc'), .dvc-listitem-item").each(function(){if(e(this).hasClass(a.CLS_BASE_DISABLED))return b=
false});return b},_findScrollview:function(){var a=this.element.closest(":jqmData(role='dvcScrollview')");if(a.length>0)return this.scrollview=a.data("dvcScrollview"),true},_getNativeEvent:function(a){for(;a&&typeof a.originalEvent!=="undefined";)a=a.originalEvent;return a},getId:function(){var a=this.element,b=a.attr("subid");if(!b)b=a[0].id;return b},_prevmousedown:function(){this._vmouseStatus=1},_prevmouseup:function(a){if(a.type=="vmousecancel")return false;if(this._vmouseStatus!=1)return true;
this._vmouseStatus=2;return false},_prevclick:function(){if(this._vmouseStatus!=2)return true;this._vmouseStatus=3;return false}})})(jQuery);
(function(e,d){e.widget("davinci.dvcButton",e.davinci.dvcBase,{options:{text:"",textAlign:"center",type:"default",iconPos:"left",eventNames:["ev_click"],initSelector:":jqmData(role='dvcButton')"},classes:{CLS_WIDGET:"dvc-button",CLS_BUTTON_UP:"dvc-button-up",CLS_BUTTON_DOWN:"dvc-button-down",CLS_BUTTON_BACK:"dvc-button-back",CLS_BUTTON_CANCEL:"dvc-button-cancel",CLS_BUTTON_OK:"dvc-button-ok",CLS_BUTTON_TEXT:"dvc-button-text",CLS_BUTTON_ICON:"dvc-button-icon",CLS_BUTTON_ICON_LEFT:"dvc-button-icon-left",
CLS_BUTTON_ICON_TOP:"dvc-button-icon-top",CLS_BUTTON_ICON_RIGHT:"dvc-button-icon-right",CLS_BUTTON_ICON_BOTTOM:"dvc-button-icon-bottom"},_initType:function(){var a=this.element,b=this.classes;switch(this.options.type){case "back":a.addClass(b.CLS_BUTTON_BACK);break;case "cancel":a.addClass(b.CLS_BUTTON_CANCEL);break;case "ok":a.addClass(b.CLS_BUTTON_OK)}},_initIconPos:function(){var a=this.element,b=this.classes;switch(this.options.iconPos){case "top":a.addClass(b.CLS_BUTTON_ICON_TOP);break;case "right":a.addClass(b.CLS_BUTTON_ICON_RIGHT);
break;case "bottom":a.addClass(b.CLS_BUTTON_ICON_BOTTOM);break;default:a.addClass(b.CLS_BUTTON_ICON_LEFT)}},_initWidget:function(){var a=this.element,b=this.options,c=this.classes;if(!b.theme)b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);c.CLS_THEME=c.CLS_WIDGET+"-"+b.theme;a.addClass(c.CLS_WIDGET+" "+c.CLS_BUTTON_UP+" "+c.CLS_THEME);if((b=a.closest(".dvc-listitem"))&&b.length)if((c=a.closest(".dvc-listitem-item-indexable"))&&c.length)this.$listitem=b,this.$item=
c;b=a.css("display");b=="block"?a.css("display","-webkit-box"):(b=="inline"||b=="inline-block")&&a.css("display","-webkit-inline-box");this._initType();this._initIconPos()},_appendChildElements:function(){var a=this.element,b=this.classes;this.$icon=e("<img class='"+b.CLS_BUTTON_ICON+"'>");this.$text=e("<div class='"+b.CLS_BUTTON_TEXT+"' ></div>");a.append(this.$icon);a.append(this.$text);this._addAttrDontSaveNDontFocus(a.find("*"))},refresh:function(){var a=this.options;e.davinci.dvcBase.prototype.refresh.call(this);
this.textAlign(a.textAlign);this.text(a.text)},textAlign:function(a){var b=this.options,c=this.$text;return a!=d?(b.textAlign=a,c.css({"text-align":a}),this):b.textAlign},text:function(a){var b=this.options;return arguments.length?(b.text=a,this.$text[0].innerHTML=a,this):b.text}})})(jQuery);
(function(e){e.widget("davinci.dvcCheckbox",e.davinci.dvcButton,{options:{checked:false,textAlign:"left",eventNames:["ev_change"],initSelector:":jqmData(role='dvcCheckbox')"},classes:{CLS_WIDGET:"dvc-checkbox",CLS_BUTTON_UP:"dvc-checkbox-up",CLS_BUTTON_DOWN:"dvc-checkbox-down"},refresh:function(){var d=this.element,a=this.options;e.davinci.dvcBase.prototype.refresh.call(this);d.css("background-image")!="none"?this.$icon.css("content",'""'):this.$icon.css("content","");this.textAlign(a.textAlign);
this.text(a.text);this._checked(a.checked)},_checked:function(d){var a=this.element,b=this.options,c=this.classes;d?a.addClass(c.CLS_BASE_CHECKED):a.removeClass(c.CLS_BASE_CHECKED);b.checked=d},checked:function(d){var a=this.options;return arguments.length?(this._checked(d),this):a.checked},toggle:function(){this.checked(!this.checked());return this}})})(jQuery);
(function(e){e.widget("davinci.dvcRadio",e.davinci.dvcCheckbox,{options:{groupName:"",radioEvent:"up",allowDepress:false,initSelector:":jqmData(role='dvcRadio')"},classes:{CLS_WIDGET:"dvc-radio",CLS_BUTTON_UP:"dvc-radio-up",CLS_BUTTON_DOWN:"dvc-radio-down"},checked:function(d){var a=this.element,b=this.options;if(arguments.length){var c=b.checked;this._checked(d);if(c==false){var f=null;a.parents().each(function(){if(this.id&&e(this).jqmData("role")!="GridItem")return f=e(this),false});f&&f.find(":jqmData(group-name="+
b.groupName+")").each(function(){if(this!==a[0]){var b=e(this),c=b.jqmData("role");(b=b.data(c))&&b._checked(false)}})}return this}else return b.checked}})})(jQuery);
(function(e){e.widget("davinci.dvcImage",e.davinci.dvcBase,{options:{src:"",type:"normal",initSelector:":jqmData(role='dvcImage')"},classes:{CLS_WIDGET:"dvc-image",CLS_IMAGE_TILE:"dvc-image-tile",CLS_IMAGE_STRETCH:"dvc-image-stretch",CLS_IMAGE_ZOOM:"dvc-image-zoom",CLS_IMAGE_CENTER:"dvc-image-center"},_initWidget:function(){this.element.addClass(this.classes.CLS_WIDGET)},refresh:function(){var d=this.options;e.davinci.dvcBase.prototype.refresh.call(this);this.src(d.src);this.type(d.type)},src:function(d){var a=
this.element,b=this.classes;if(arguments.length)d?(a=a.find("."+b.CLS_DESIGN_DEFAULT),a.length>0&&a.remove(),this.element.css("background-image","url('"+d+"')")):(this.element.css("background-image","none"),this._designDefault(a.jqmData("role").slice(3)));else return a=this.element.css("background-image"),a.length>5&&a.indexOf("url(")===0?a.slice(4,-1):a},type:function(d){var a=this.element,b=this.options,c=this.classes;if(arguments.length)switch(a.removeClass(c.CLS_IMAGE_TILE+" "+c.CLS_IMAGE_STRETCH+
" "+c.CLS_IMAGE_ZOOM+" "+c.CLS_IMAGE_CENTER),b.type=d,d){case "tile":a.addClass(c.CLS_IMAGE_TILE);break;case "stretch":a.addClass(c.CLS_IMAGE_STRETCH);break;case "zoom":a.addClass(c.CLS_IMAGE_ZOOM);break;case "center":a.addClass(c.CLS_IMAGE_CENTER)}else return d=b.type}})})(jQuery);
(function(e){e.widget("davinci.dvcImageButton",e.davinci.dvcBase,{options:{text:"",type:"normal",eventNames:["ev_click"],initSelector:":jqmData(role='dvcImageButton')"},classes:{CLS_WIDGET:"dvc-imagebutton",CLS_IMGBTN_UP:"dvc-imagebutton-up",CLS_IMGBTN_DOWN:"dvc-imagebutton-down",CLS_IMGBTN_TEXT:"dvc-button-text",CLS_IMGBTN_TILE:"dvc-imagebutton-tile",CLS_IMGBTN_STRETCH:"dvc-imagebutton-stretch",CLS_IMGBTN_ZOOM:"dvc-imagebutton-zoom",CLS_IMGBTN_CENTER:"dvc-imagebutton-center"},_initWidget:function(){var d=
this.element,a=this.classes,b=d.closest(".dvc-listitem");if(b&&b.length){var c=d.closest(".dvc-listitem-item-indexable");if(c&&c.length)this.$listitem=b,this.$item=c}d.addClass(a.CLS_WIDGET+" "+a.CLS_IMGBTN_UP)},_appendChildElements:function(){var d=this.element;this.$buttonText=e("<div class='"+this.classes.CLS_IMGBTN_TEXT+"'></div>");this.$buttonText.attr("waper_focus","false").attr("waper_dontsave","true");d.append(this.$buttonText)},refresh:function(){var d=this.options;e.davinci.dvcBase.prototype.refresh.call(this);
this.type(d.type);this.text(d.text)},type:function(d){var a=this.element,b=this.options,c=this.classes;if(arguments.length)switch(b.type=d,a.removeClass(c.CLS_IMGBTN_TILE+" "+c.CLS_IMGBTN_STRETCH+" "+c.CLS_IMGBTN_ZOOM+" "+c.CLS_IMGBTN_CENTER),d){case "tile":a.addClass(c.CLS_IMGBTN_TILE);break;case "stretch":a.addClass(c.CLS_IMGBTN_STRETCH);break;case "zoom":a.addClass(c.CLS_IMGBTN_ZOOM);break;case "center":a.addClass(c.CLS_IMGBTN_CENTER)}else return d=b.type},text:function(d){var a=this.options;if(arguments.length)a.text=
d,this.$buttonText[0].innerHTML=d;else return a.text}})})(jQuery);
(function(e){e.widget("davinci.dvcImageRoller",e.davinci.dvcBase,{options:{src:"",frameWidth:0,frameX:0,directionX:"defalt",infiniteX:false,frameHeight:0,frameY:0,directionY:"defalt",infiniteY:false,eventNames:["ev_change"],initSelector:":jqmData(role='dvcImageRoller')"},classes:{CLS_WIDGET:"dvc-imageroller"},_initWidget:function(){var d=this.element,a=this.options;d.addClass(this.classes.CLS_WIDGET);d.css("background-image","url('"+a.src+"')")},refresh:function(){e.davinci.dvcBase.prototype.refresh.call(this);
return this}})})(jQuery);
(function(e,d){e.widget("davinci.dvcLabel",e.davinci.dvcBase,{options:{text:"",textAlign:"left",multiline:false,enable:false,eventNames:["ev_click"],initSelector:":jqmData(role='dvcLabel')"},classes:{CLS_WIDGET:"dvc-label",CLS_LABEL_UP:"dvc-label-up",CLS_LABEL_DOWN:"dvc-label-down",CLS_LABEL_TEXT:"dvc-label-text",CLS_LABEL_MULTIPLE:"dvc-label-multiple",CLS_LABEL_SINGLE:"dvc-label-single",CLS_LABEL_DEFAULT_DESIGN_TEXT:"dvc-label-default-design-text"},_initWidget:function(){var a=this.element,b=this.options,
c=this.classes;if(!b.theme)b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);c.CLS_THEME=c.CLS_WIDGET+"-"+b.theme;a.addClass(c.CLS_WIDGET+" "+c.CLS_LABEL_UP+" "+c.CLS_THEME);if((b=a.closest(".dvc-listitem"))&&b.length)if((a=a.closest(".dvc-listitem-item-indexable"))&&a.length)this.$listitem=b,this.$item=a},_appendChildElements:function(){var a=this.element;this.$labelText=e("<div class='"+this.classes.CLS_LABEL_TEXT+"'></div>").appendTo(a);this._addAttrDontSaveNDontFocus(a.find("*"))},
refresh:function(){var a=this.element,b=this.options,c=this.classes;e.davinci.dvcBase.prototype.refresh.call(this);b.text?a.removeClass(c.CLS_LABEL_DEFAULT_DESIGN_TEXT):(b.text="Label",a.addClass(c.CLS_LABEL_DEFAULT_DESIGN_TEXT));this.textAlign(b.textAlign);this.text(b.text)},textAlign:function(a){var b=this.options,c=this.$labelText;return a!=d?(b.textAlign=a,c.css({"text-align":a}),this):b.textAlign},text:function(a){var b=this.options,c=this.classes;if(arguments.length){var d=this.$labelText;b.text=
a;d[0].innerHTML=a;b.multiline?d.addClass(c.CLS_LABEL_MULTIPLE):d.addClass(c.CLS_LABEL_SINGLE);return this}else return b.text}})})(jQuery);
(function(e){e.widget("davinci.dvcProgress",e.davinci.dvcBase,{options:{min:0,max:100,value:0,initSelector:":jqmData(role='dvcProgress')"},classes:{CLS_WIDGET:"dvc-progress",CLS_PROGRESS_BODY:"dvc-progress-body",CLS_PROGRESS_BAR:"dvc-progress-bar"},_initWidget:function(){var d=this.element,a=this.options,b=this.classes;if(!a.theme)a.theme=e.davinci.getInheritedTheme(d);a.theme=e.davinci._changeThemeName(a.theme);b.CLS_THEME=b.CLS_WIDGET+"-"+a.theme;d.addClass(b.CLS_WIDGET+" "+b.CLS_THEME)},_appendChildElements:function(){var d=
this.element,a=this.classes,b=e("<div class='"+a.CLS_PROGRESS_BODY+"'></div>"),a=e("<div class='"+a.CLS_PROGRESS_BAR+"'></div>");b.append(a);this.$progressBody=b;this.$progressBar=a;d.append(b);this._addAttrDontSaveNDontFocus(d.find("*"))},_getAverage:function(){var d=this.options;return this.$progressBody.width()/(d.max-d.min)},_draw:function(){var d=this.options,a=this._getAverage(),d=parseInt((d.value-d.min)*a),a=this.$progressBar;a[0].style.width=d+"px";d==0?a.hide():a.show()},refresh:function(){var d=
this.options;e.davinci.dvcBase.prototype.refresh.call(this);this.value(d.value);return this},min:function(d){var a=this.options;return arguments.length?(a.min=parseInt(d,10),this.value(a.value),this):a.min},max:function(d){var a=this.options;return arguments.length?(a.max=parseInt(d,10),this.value(a.value),this):a.max},value:function(d){var a=this.options;return arguments.length?(d=Math.max(d,a.min),d=Math.min(d,a.max),a.value=d,this._draw(),this):a.value}})})(jQuery);
(function(e){e.widget("davinci.dvcSlider",e.davinci.dvcProgress,{options:{eventNames:["ev_change"],initSelector:":jqmData(role='dvcSlider')"},classes:{CLS_WIDGET:"dvc-slider",CLS_SLIDER_BODY:"dvc-slider-body",CLS_SLIDER_BAR:"dvc-slider-bar",CLS_SLIDER_HANDLE:"dvc-slider-handle",CLS_SLIDER_HANDLE_UP:"dvc-slider-handle-up",CLS_SLIDER_HANDLE_DOWN:"dvc-slider-handle-down"},_initWidget:function(){var d=this.element,a=this.options,b=this.classes;if(!a.theme)a.theme=e.davinci.getInheritedTheme(d);a.theme=
e.davinci._changeThemeName(a.theme);b.CLS_THEME=b.CLS_WIDGET+"-"+a.theme;d.addClass(b.CLS_WIDGET+" "+b.CLS_THEME);if((a=d.closest(".dvc-listitem"))&&a.length)if((d=d.closest(".dvc-listitem-item-indexable"))&&d.length)this.$listitem=a,this.$item=d},_appendChildElements:function(){var d=this.element,a=this.classes,b=e("<div class='"+a.CLS_SLIDER_BODY+"'></div>"),c=e("<div class='"+a.CLS_SLIDER_BAR+"'></div>"),a=e("<div class='"+a.CLS_SLIDER_HANDLE+" "+a.CLS_SLIDER_HANDLE_UP+"'></div>");this.$sliderBody=
b;this.$sliderBar=c;this.$sliderHandle=a;b.append(c);d.append(b);d.append(a);this._addAttrDontSaveNDontFocus(d.find("*"))},_getAverage:function(){var d=this.options;return this.$sliderBody.width()/(d.max-d.min)},_draw:function(){var d=this.options,a=this.$sliderBar,b=this.$sliderHandle,c=this._getAverage(),d=parseInt((d.value-d.min)*c);b[0].style.left=d+"px";a[0].style.width=d+"px";d==0?a.hide():a.show()},_pageX2Value:function(d){var a=this.element,b=this.options,c=this._getAverage(),f=a.offset().left;
d-=f;a=a.width();d<0?d=0:d>a&&(d=a);return Math.round(d/c)+b.min}})})(jQuery);
(function(e,d){e.widget("davinci.dvcSwitch",e.davinci.dvcBase,{options:{checkedLabel:"ON",uncheckedLabel:"OFF",checked:false,minWidth:20,eventNames:["ev_change"],initSelector:":jqmData(role='dvcSwitch')"},classes:{CLS_WIDGET:"dvc-switch",CLS_SWITCH_HANDLE:"dvc-switch-handle",CLS_SWITCH_HANDLE_LEFT:"dvc-switch-handle-l",CLS_SWITCH_HANDLE_CENTER:"dvc-switch-handle-c",CLS_SWITCH_HANDLE_RIGHT:"dvc-switch-handle-r",CLS_SWITCH_TEXT:"dvc-switch-text",CLS_SWITCH_ON_TEXT:"dvc-switch-on-text",CLS_SWITCH_OFF_TEXT:"dvc-switch-off-text",
CLS_SWITCH_ON_IMAGE:"dvc-switch-on-image",CLS_SWITCH_OFF_IMAGE:"dvc-switch-off-image"},_initWidget:function(){var a=this.element,b=this.options,c=this.classes;if(!b.theme)b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);c.CLS_THEME=c.CLS_WIDGET+"-"+b.theme;a.addClass(c.CLS_WIDGET+" "+c.CLS_THEME);if((b=a.closest(".dvc-listitem"))&&b.length)if((a=a.closest(".dvc-listitem-item-indexable"))&&a.length)this.$listitem=b,this.$item=a},_appendChildElements:function(){var a=
this.element,b=this.options,c=this.classes,d=e("<div class='"+c.CLS_SWITCH_TEXT+"'></div>"),g=e("<div class='"+c.CLS_SWITCH_ON_TEXT+"'>"+b.checkedLabel+"</div>"),b=e("<div class='"+c.CLS_SWITCH_OFF_TEXT+"'>"+b.uncheckedLabel+"</div>");d.attr("waper_focus","false").attr("waper_dontsave","true");g.attr("waper_focus","false").attr("waper_dontsave","true");b.attr("waper_focus","false").attr("waper_dontsave","true");d.append(g);d.append(b);var h=e("<div class='"+c.CLS_SWITCH_HANDLE+"'><div class='"+c.CLS_SWITCH_HANDLE_LEFT+
"'></div><div class='"+c.CLS_SWITCH_HANDLE_CENTER+"'></div><div class='"+c.CLS_SWITCH_HANDLE_RIGHT+"'></div></div>"),j=e("<div class='"+c.CLS_SWITCH_ON_IMAGE+"'></div>"),c=e("<div class='"+c.CLS_SWITCH_OFF_IMAGE+"'></div>");a.append(d);a.append(h);a.append(j);a.append(c);this.$text=d;this.$onText=g;this.$offText=b;this.$handle=h;this.$onImage=j;this.$offImage=c;this._addAttrDontSaveNDontFocus(a.find("*"))},_animation:function(a){var b=this.element,c=this,d,e=c.checked();d=e?true:false;var h=function(){a=
d?a+10:a-10;a=Math.min(c.maxRange,a);a=Math.max(0,a);c._draw(a);if(d){if(a<c.maxRange){setTimeout(function(){h()},50);return}}else if(a>0){setTimeout(function(){h()},50);return}if(c.oldChecked!=e){var j=-1;c.$listitem&&(j=c.$listitem.find(".dvc-listitem-item-indexable").index(c.$item));b.trigger("ev_change",[c,e,j]);c.oldChecked=e}};setTimeout(function(){h()},50)},refresh:function(){var a=this.options;e.davinci.dvcBase.prototype.refresh.call(this);this.checked(a.checked);var a=this.$onImage.outerWidth(true),
b=this.$offImage.outerWidth(true);this.element.width(a+b)},_setChecked:function(a){this.options.checked=a},checked:function(a){var b=this.options;return a!=d?(this._setChecked(a),this._draw(b.checked==false?0:this.maxRange),this.oldChecked=a,this):b.checked},_initVars:function(){var a=this.options;this.handleLeftWidth=this.$handle.find("."+this.classes.CLS_SWITCH_HANDLE_LEFT).width();this.$text.css({left:this.handleLeftWidth,right:this.handleLeftWidth});var b=this.$onText.outerWidth(true),c=this.$offText.outerWidth(true),
a=Math.max(b,a.minWidth),a=Math.max(c,a);a+=this.handleLeftWidth;this.handleWidth=this.$handle.outerWidth(true);c=Math.round(this.handleWidth/2);a=Math.min(100-c,a);this.$onText.width(a);this.$offText.width(a);this.maxTextWidth=a;this.maxRange=this.maxTextWidth+this.handleLeftWidth},_draw:function(a){var b=this.maxRange,c=this.handleWidth,d=this.maxTextWidth,e=this.handleLeftWidth;Math.max(a,0);Math.min(a,b);var h=b-a,j=Math.round(c/2),k=parseInt(j,10),e=parseInt(d+e+j,10)-k,b=parseInt(a*e/b,10);
e-=b;this.$onImage.width(k+b);this.$offImage.width(k+e);this.$offText.css("left",c+d-h);this.$onText.css("left",-h);this.$handle.css("left",a)}})})(jQuery);
(function(e,d){e.widget("davinci.dvcTextarea",e.davinci.dvcBase,{options:{text:"",eventNames:["ev_click"],initSelector:":jqmData(role='dvcTextarea')"},classes:{CLS_WIDGET:"dvc-textarea"},_initWidget:function(){var a=this.element,b=this.options,c=this.classes;if(!b.theme)b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);c.CLS_THEME=c.CLS_WIDGET+"-"+b.theme;a.addClass(c.CLS_WIDGET+" "+c.CLS_THEME);if((b=a.closest(".dvc-listitem"))&&b.length)if((a=a.closest(".dvc-listitem-item-indexable"))&&
a.length)this.$listitem=b,this.$item=a},_appendChildElements:function(){var a=this.element,b=this.options,c=e("<textarea></textarea>");b.text&&c.val(b.text);a.append(c);this.$input=c;this.enable(b.enable);this.visible(b.visible);this._addAttrDontSaveNDontFocus(a.find("*"))},enable:function(a){var b=this.element.find("textarea");if(a!=d)this.options.enable=a,a==true?(this.element.removeClass("dvc-disabled"),b.removeAttr("disabled")):(this.element.addClass("dvc-disabled"),b.attr("disabled","disabled"));
else return this.options.enable},text:function(a){var b=this.element.find("textarea");return arguments.length?(b.val(a),this):a=b.val()}})})(jQuery);
(function(e,d){e.widget("davinci.dvcTextfield",e.davinci.dvcBase,{options:{type:"text",text:"",placeholder:"",clearButton:true,eventNames:["ev_click","ev_keyup","ev_focus","ev_blur"],initSelector:":jqmData(role='dvcTextfield')"},classes:{CLS_WIDGET:"dvc-textfield",CLS_TEXTFIELD_BTN_CLEAR:"dvc-textfield-btn-clear"},_initWidget:function(){var a=this.element,b=this.options,c=this.classes;if(!b.theme)b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);c.CLS_THEME=c.CLS_WIDGET+
"-"+b.theme;a.addClass(c.CLS_WIDGET+" "+c.CLS_THEME);if((b=a.closest(".dvc-listitem"))&&b.length)if((a=a.closest(".dvc-listitem-item-indexable"))&&a.length)this.$listitem=b,this.$item=a},_appendChildElements:function(){var a=this.element,b=this.options,c=this.classes;if(b.type=="search")a.addClass("dvc-textfield-corner-all dvc-textfield-search"),b.type="text";var d=a.css("color"),g=e("<input data-role='none' style='position:absolute; left:0; right:0' type='"+b.type+"'></input>");g.css("color",d);
this.$input=g;b.text&&g.val(b.text);b.placeholder&&g.attr("placeholder",b.placeholder);a.append(g);a.append(e("<div class='"+c.CLS_TEXTFIELD_BTN_CLEAR+"'></div>"));if(b.clearButton&&(this.$btnClear=c=a.find("."+c.CLS_TEXTFIELD_BTN_CLEAR)))c.dvcButton(),c.hide();this.enable(b.enable);this.visible(b.visible);this._addAttrDontSaveNDontFocus(a.find("*"))},focus:function(){this.element.find("input").focus();return this},text:function(a){var b=this.element.find("input");return arguments.length?(b.val(a),
this):a=b.val()},enable:function(a){var b=this.classes,c=this.element.find("input");if(a!=d)this.options.enable=a,a==true?(this.element.removeClass(b.CLS_BASE_DISABLED),c.removeAttr("disabled")):(this.element.addClass(b.CLS_BASE_DISABLED),c.attr("disabled","disabled"));else return this.options.enable}})})(jQuery);
(function(e){e.widget("davinci.dvcAudio",e.davinci.dvcBase,{options:{loop:false,controls:false,autoplay:false,src:"",initSelector:":jqmData(role='dvcAudio')"},classes:{CLS_WIDGET:"dvc-audio"},_initWidget:function(){this.element.addClass(this.classes.CLS_WIDGET)},_appendChildElements:function(){this._designDefault(this.element.jqmData("role").slice(3))},audio:function(){return this._audio}})})(jQuery);
(function(e){e.widget("davinci.dvcVideo",e.davinci.dvcBase,{options:{loop:false,controls:true,autoplay:false,src:"",poster:"",initSelector:":jqmData(role='dvcVideo')"},classes:{CLS_WIDGET:"dvc-video"},_initWidget:function(){this.element.addClass(this.classes.CLS_WIDGET)},_appendChildElements:function(){this._designDefault(this.element.jqmData("role").slice(3))},video:function(){return this._video},refresh:function(){e.davinci.dvcBase.prototype.refresh.call(this);var d=e(this._video),a=this.element.width(),
b=this.element.height();a&&d.attr("width",a);b&&d.attr("height",b)}})})(jQuery);
(function(e){e.widget("davinci.dvcContent",e.davinci.dvcBase,{options:{initSelector:":jqmData(role='dvcContent')"},classes:{CLS_WIDGET:"dvc-content"},_initWidget:function(){this.element.addClass(this.classes.CLS_WIDGET)},_empty:function(){},_designRefresh:function(){var d=this.element;e.davinci.dvcBase.prototype._designRefresh.call(this);d.find("div:jqmData(role^='dvc')").each(function(){var a=e(this),b=a.jqmData("role");(a=a.data(b))&&a._changeTheme()})},refresh:function(){}})})(jQuery);
(function(e){e.widget("davinci.dvcHeader",e.davinci.dvcBase,{options:{eventNames:"ev_click,ev_change,ev_keyup,ev_swipeleft,ev_swiperight,ev_focus,ev_blur".split(","),initSelector:":jqmData(role='dvcHeader')"},classes:{CLS_WIDGET:"dvc-header",CLS_HEADER_UITITLE:"ui-title"},_initWidget:function(){var d=this.element,a=this.options,b=this.classes;if(!a.theme)a.theme=e.davinci.getInheritedTheme(d);a.theme=e.davinci._changeThemeName(a.theme);b.CLS_THEME=b.CLS_WIDGET+"-"+a.theme;d.addClass(b.CLS_WIDGET+
" "+b.CLS_HEADER_UITITLE+" "+b.CLS_THEME);this.refresh()},_empty:function(){},_designRefresh:function(){var d=this.element;e.davinci.dvcBase.prototype._designRefresh.call(this);d.find("div:jqmData(role^='dvc')").each(function(){var a=e(this),b=a.jqmData("role");(a=a.data(b))&&a._changeTheme()})},_attachEvent:function(){var d=this.element,a=this;d.bind({swipeleft:function(b){a.enable()&&a._getAncestorEnable()&&(d.trigger("ev_swipeleft",[a]),b.stopPropagation())},swiperight:function(b){a.enable()&&
a._getAncestorEnable()&&(d.trigger("ev_swiperight",[a]),b.stopPropagation())}})},refresh:function(){e.davinci.dvcBase.prototype.refresh.call(this);var d=this.element;d.siblings().filter(":jqmData(role='dvcContent')").css("top",d.height()+"px")}})})(jQuery);
(function(e){e.widget("davinci.dvcFooter",e.davinci.dvcBase,{options:{eventNames:"ev_click,ev_change,ev_keyup,ev_swipeleft,ev_swiperight,ev_focus,ev_blur".split(","),initSelector:":jqmData(role='dvcFooter')"},classes:{CLS_WIDGET:"dvc-footer"},_initWidget:function(){var d=this.element,a=this.options,b=this.classes;if(!a.theme)a.theme=e.davinci.getInheritedTheme(d);a.theme=e.davinci._changeThemeName(a.theme);b.CLS_THEME=b.CLS_WIDGET+"-"+a.theme;d.addClass(b.CLS_WIDGET+" "+b.CLS_THEME);this.refresh()},
_empty:function(){},_designRefresh:function(){var d=this.element;e.davinci.dvcBase.prototype._designRefresh.call(this);d.find("div:jqmData(role^='dvc')").each(function(){var a=e(this),b=a.jqmData("role");(a=a.data(b))&&a._changeTheme()})},_attachEvent:function(){var d=this.element,a=this;d.bind({swipeleft:function(b){a.enable()&&a._getAncestorEnable()&&(d.trigger("ev_swipeleft",[a]),b.stopPropagation())},swiperight:function(b){a.enable()&&a._getAncestorEnable()&&(d.trigger("ev_swiperight",[a]),b.stopPropagation())}})},
refresh:function(){e.davinci.dvcBase.prototype.refresh.call(this);var d=this.element;d.siblings().filter(":jqmData(role='dvcContent')").css("bottom",d.height()+"px")}})})(jQuery);
(function(e,d,a,b){function c(a){this.options=e.extend({},a);this.easing="easeOutQuad";this.reset()}function f(){return(new Date).getTime()}e.widget("davinci.dvcScrollview",e.davinci.dvcBase,{options:{fps:60,direction:null,scrollDuration:2E3,overshootDuration:250,snapbackDuration:500,moveThreshold:10,moveIntervalThreshold:300,scrollMethod:"translate",eventType:e.support.touch?"touch":"mouse",showScrollBars:true,pagingEnabled:false,directionLock:true,delayedClickSelector:".dvc-treeview-node-background *, textarea, input, .dvc-listitem-item, .dvc-layoutview, .dvc-label, .dvc-button, .dvc-imagebutton, .dvc-switch, .dvc-radio, .dvc-checkbox, .dvc-slider, .dvc-video-poster, video",
delayedClickEnabled:true,bounceOff:false,scrollBodyWidth:0,nextLoadingBarHeight:0,eventNames:"ev_change,ev_scrollstart,ev_scrollupdate,ev_scrollstop,ev_dragstart,ev_dragmove,ev_dragstop".split(","),initSelector:":jqmData(role='dvcScrollview')"},classes:{CLS_SCROLLVIEW_VIEW:"ui-scrollview-view",CLS_SCROLLVIEW_CLIP:"ui-scrollview-clip",CLS_WIDGET:"dvc-scrollview"},optimizeInit:function(){if(this.isOptimization){var a,b;this.scrollclipHeight=this._$clip[0].offsetHeight+this.options.nextLoadingBarHeight;
this.scrollviewHeight=this._$view.height();this.$listItems=e("");this.parentsOffsetTops=[];var c=this._$view.find(".dvc-listitem"),d=c.length,f=0;for(a=0;a<d;a++)if(b=c.eq(a),b.height()){var m=b.find(".dvc-listitem-item");if(m.length){this.$listItems=this.$listItems.add(m);var o=this._getParentsOffsetTop(m[0]);for(b=0;b<m.length;b++,f++)this.parentsOffsetTops.push(o);f+=m.length}}this.listLen=this.$listItems.length;this.bottomIndex=this.topIndex=0;this._optimizeInitIndex(0,0)}},_getParentsOffsetTop:function(a){if(this.isOptimization){for(var b=
0;a;)if(b+=a.offsetTop,a=a.offsetParent,a.className.match(/dvc-scrollview/))break;return b}},_optimizeInitIndex:function(a,b){if(this.isOptimization){var c,d,f=false,a=this.getScrollPosition().y;d=0;for(c=b;c<this.listLen;c++){var e=this.$listItems[c];d=this.parentsOffsetTops[c];d=this._optimizeCheckRange(a,e.offsetTop+d,e.offsetHeight);if(d==-1)this.topIndex=c,e.style.visibility="hidden";else if(d==1){if(f==false)this.bottomIndex=c,f=true;e.style.visibility="hidden"}else e.style.visibility="visible"}}},
_optimizeCheckRange:function(a,b,c){if(this.isOptimization){if(a>b+c)return-1;else if(a+this.scrollclipHeight<b)return 1;return 0}},_optimizeClearIndex:function(){if(this.isOptimization){var a,b=this.bottomIndex;for(a=this.topIndex;a<=b;a++)this.$listItems[a].style.visibility="hidden"}},_optimizeSetIndex:function(a,b,c){if(this.isOptimization){var d;d=0;if(c)for(;b<this.listLen;b++)if(c=this.$listItems[b],d=this.parentsOffsetTops[b],d=this._optimizeCheckRange(a,c.offsetTop+d,c.offsetHeight),d==-1)this.topIndex=
b,c.style.visibility="hidden";else if(d==1){this.bottomIndex=b;c.style.visibility="hidden";break}else c.style.visibility="visible";else for(;b>=0;b--)if(c=this.$listItems[b],d=this.parentsOffsetTops[b],d=this._optimizeCheckRange(a,c.offsetTop+d,c.offsetHeight),d==1)this.bottomIndex=b,c.style.visibility="hidden";else if(d==-1){this.topIndex=b;c.style.visibility="hidden";break}else c.style.visibility="visible"}},_optimizeChangeVisiblility:function(a){if(this.isOptimization&&this.listLen){var b=this.topIndex,
c,d,f;f=0;if(!(a<0||a>this.scrollviewHeight)){c=b;d=this.$listItems[c];f=this.parentsOffsetTops[c];f=this._optimizeCheckRange(a,d.offsetTop+f,d.offsetHeight);if(f==-1){d.style.visibility="hidden";do{c++;if(c<0||c>=this.listLen)break;d=this.$listItems[c];f=this.parentsOffsetTops[c];f=this._optimizeCheckRange(a,d.offsetTop+f,d.offsetHeight);f==-1?d.style.visibility="hidden":f==1?console.log("topIndex error -1"):(b=c,d.style.visibility="visible")}while(f==-1)}else if(f==1){this._optimizeClearIndex();
this._optimizeSetIndex(a,c,false);return}else{b=c;d.style.visibility="visible";do{c--;if(c<0||c>=this.listLen)break;d=this.$listItems[c];f=this.parentsOffsetTops[c];f=this._optimizeCheckRange(a,d.offsetTop+f,d.offsetHeight);f==-1?d.style.visibility="hidden":f==1?console.log("topIndex error 0"):(b=c,d.style.visibility="visible")}while(f==0)}this.topIndex=b;c=this.bottomIndex;d=this.$listItems[c];f=this.parentsOffsetTops[c];f=this._optimizeCheckRange(a,d.offsetTop+f,d.offsetHeight);if(f==1){d.style.visibility=
"hidden";do{c--;if(c<0||c>=this.listLen)break;d=this.$listItems[c];f=this.parentsOffsetTops[c];f=this._optimizeCheckRange(a,d.offsetTop+f,d.offsetHeight);f==1?d.style.visibility="hidden":f==-1?console.log("bottomIndex error 1"):(this.bottomIndex=c,d.style.visibility="visible")}while(f==1)}else if(f==-1)this._optimizeClearIndex(),this._optimizeSetIndex(a,c,true);else{this.bottomIndex=c;d.style.visibility="visible";do{c++;if(c<0||c>=this.listLen)break;d=this.$listItems[c];f=this.parentsOffsetTops[c];
f=this._optimizeCheckRange(a,d.offsetTop+f,d.offsetHeight);f==1?d.style.visibility="hidden":f==-1?console.log("bottomIndex error 0"):(this.bottomIndex=c,d.style.visibility="visible")}while(f==0)}}}},_getClipHeight:function(){return this._$clip.height()},_getViewHeight:function(){return this._$view.height()},_getClipWidth:function(){return this._$clip.width()},_getViewWidth:function(){return this._$view.width()},_makePositioned:function(a){a.css("position")=="static"&&a.css("position","relative")},
delayedClickSelector:function(a){if(a!=b)this.options.delayedClickSelector=a;else return this.options.delayedClickSelector},_initWidget:function(){var a=this.element,b=this.options,c=this.classes;if(!b.theme)b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);c.CLS_THEME=c.CLS_WIDGET+"-"+b.theme;this._$clip=a.addClass(c.CLS_SCROLLVIEW_CLIP+" "+c.CLS_WIDGET+" "+c.CLS_THEME)},_appendChildElements:function(){var a=this.element;a.children().length==0&&this._designDefault(a.jqmData("role").slice(3))},
_initVars:function(){},_initMomentumTracker:function(){var a=this.options.direction;this._hTracker=a!=="y"?new c(this.options):null;this._vTracker=a!=="x"?new c(this.options):null;this._timerInterval=1E3/this.options.fps;this._timerID=0;var b=this;this._timerCB=function(){b._handleMomentumScroll()};this._setScrollPosition(0,-this.options.nextLoadingBarHeight)},_startMScroll:function(a,b){this._stopMScroll();this._showScrollBars();var c=false,d=this.options.scrollDuration;this._$clip.trigger("ev_scrollstart",
this);var f=this._hTracker;if(f&&this._hTrackerShow){var e=this._getClipWidth(),o=this._getViewWidth();f.start(this._sx,a,d,o>e?-(o-e):0,0);c=!f.done()}if((f=this._vTracker)&&this._vTrackerShow)e=this._getClipHeight(),o=this._getViewHeight(),f.start(this._sy,b,d,o>e+this.options.nextLoadingBarHeight?-(o-e):-this.options.nextLoadingBarHeight,-this.options.nextLoadingBarHeight),c=c||!f.done();c?this._timerID=setTimeout(this._timerCB,this._timerInterval):this._stopMScroll()},_setScrollPosition:function(a,
b){var c=this._hTrackerShow,d=this._vTrackerShow;c||(a=0);d||(b=0);if(this.options.bounceOff)var f=this.getScrollMax(),a=Math.min(a,0),a=Math.max(a,-f.x),b=Math.min(b,0),b=Math.max(b,-f.y);this._sx=a;this._sy=b;var f=this._$view,e=this._$vScrollBar,o=this._$hScrollBar,n=this.options.scrollMethod,q=-b/this._viewHeight*this.vsbtHeight,p=-a/this._viewWidth*this.hsbtWidth;switch(n){case "translate":f[0].style.webkitTransform="translate3d("+a+"px,"+b+"px,0)";break;case "position":f.css({left:a+"px",top:b+
"px"});break;case "scroll":var s=this._$clip[0];s.scrollLeft=-a;s.scrollTop=-b}e&&d&&(n==="translate"?this.$vsbt[0].style.webkitTransform="translate3d(0px,"+q+"px,0)":this.$vsbt.css("top",-b/f.height()*100+"%"));o&&c&&(n==="translate"?this.$hsbt[0].style.webkitTransform="translate3d("+p+"px, 0, 0)":this.$hsbt.css("left",-a/f.width()*100+"%"))},_stopMScroll:function(a){this._timerID&&(this._$clip.trigger("ev_scrollstop",this),clearTimeout(this._timerID));this._timerID=0;this._vTracker&&this._vTrackerShow&&
this._vTracker.reset();this._hTracker&&this._hTrackerShow&&this._hTracker.reset();a||this._hideScrollBars()},_getScrollHierarchy:function(){var a=[];this._$clip.parents("."+this.classes.CLS_SCROLLVIEW_CLIP).each(function(){var b=e(this).jqmData("role");(b=e(this).jqmData(b))&&a.unshift(b)});return a},_getAncestorByDirection:function(a){for(var b=this._getScrollHierarchy(),c=b.length;0<c--;){var d=b[c],f=d.options.direction;if(!f||f==a)return d}return null},_empty:function(){},_designRefresh:function(){var a=
this.element;e.davinci.dvcBase.prototype._designRefresh.call(this);a.find("div:jqmData(role^='dvc')").each(function(){var a=e(this),b=a.jqmData("role");(a=a.data(b))&&a._changeTheme()})},_handleDragStart:function(a,b,c){if(this.enable()!=false){e.each(this._getScrollHierarchy(),function(a,b){b._stopMScroll();b._didDrag=false});this._stopMScroll();var d=this._$clip,f=this._$view;this._viewHeight=f.height();this._viewWidth=f.width();this.sendVMoustdown=false;this._hTrackerShow=this.getScrollMax().x>
0?true:false;if(this.options.delayedClickEnabled&&(this._$clickEle=e(a.target).closest(this.options.delayedClickSelector),this._$clickEle.length>0))if(this._$clickEle[0].nodeName!="INPUT"&&this._$clickEle[0].nodeName!="TEXTAREA"){var m=this,o=new e.Event("vmousedown");o.originalEvent=a.originalEvent;o.pageX=b;o.pageY=c;this._$clickEle.hasClass("dvc-switch")||this._$clickEle.hasClass("dvc-slider")?this._$clickEle.trigger(o):this.timerID=setTimeout(function(a){m._$clickEle.trigger(a);m.timerID=0;m.sendVMoustdown=
true},50,o)}else return;this._lastX=b;this._lastY=c;this._doSnapBackY=this._doSnapBackX=false;this._speedY=this._speedX=0;this._directionLock="";this._didDrag=false;if(this._hTracker&&this._hTrackerShow){var n=parseInt(d.css("width"),10),b=parseInt(f.css("width"),10);this._maxX=n-b;if(this._maxX>0)this._maxX=0;if(this._$hScrollBar)this.$hsbt.css("width",n>=b?"100%":Math.floor(n/b*100)+"%"),this.$hsbt.width()<5&&this.$hsbt.width(5),this.hsbtWidth=this.$hsbt.parent().width()}if(this._vTracker&&this._vTrackerShow){var q=
parseInt(d.css("height"),10),d=parseInt(f.css("height"),10);this._maxY=q-d;if(this._maxY>0)this._maxY=0;if(this._$vScrollBar)this.$vsbt.css("height",q>=d?"100%":Math.floor(q/d*100)+"%"),this.$vsbt.height()<5&&this.$vsbt.height(5),this.vsbtHeight=this.$vsbt.parent().height()}d=this.options.direction;this._pagePos=this._pageSize=this._pageDelta=0;if(this.options.pagingEnabled&&(d==="x"||d==="y"))this._pageSize=d==="x"?n:q,this._initPagePos=d==="x"?this._sx:this._sy,this._pagePos=this._initPagePos-this._initPagePos%
this._pageSize;this._lastMove=0;this._enableTracking();(this.options.eventType=="mouse"||this.options.delayedClickEnabled)&&a.preventDefault();a.stopPropagation()}},_propagateDragMove:function(a,b,c,d,f){this._hideScrollBars();this._disableTracking();a._handleDragStart(b,c,d);a._directionLock=f;a._didDrag=this._didDrag},_handleDragMove:function(a,b,c){if(this.enable()!=false){this._lastMove=f();var d=this._$view,d=b-this._lastX,l=c-this._lastY,m=this.options.direction;if(this._didDrag==false&&this.options.delayedClickEnabled&&
this._$clickEle.length>0&&(this._$clickEle.hasClass("dvc-switch")||this._$clickEle.hasClass("dvc-slider")))return d=new e.Event("vmousemove"),d.originalEvent=a.originalEvent,d.pageX=b,d.pageY=c,this._$clickEle.trigger(d),false;if(!this._directionLock){var o=Math.abs(d),n=Math.abs(l),q=this.options.moveThreshold;if(o<q&&n<q)return false;var p=null;o<n&&o/n<0.5?p="y":o>n&&n/o<0.5&&(p="x");if(m&&p&&m!=p){var s=this._getAncestorByDirection(p);if(s)return this._propagateDragMove(s,a,b,c,p),false}this._directionLock=
m?m:p?p:"none"}var q=this._sx,r=this._sy;if(this._directionLock!=="y"&&this._hTracker&&(o=this._sx,this._speedX=d,q=o+d,this._doSnapBackX=false,q>0||q<this._maxX)){if(this.options.directionLock&&this._directionLock==="x"&&(s=this._getAncestorByDirection("x")))return this._setScrollPosition(q>0?0:this._maxX,r),this._propagateDragMove(s,a,b,c,p),false;q=o+d/2;this._doSnapBackX=true}if(this._directionLock!=="x"&&this._vTracker&&this._vTrackerShow&&(n=this._sy,this._speedY=l,r=n+l,this._doSnapBackY=false,
r>-this.options.nextLoadingBarHeight||r<this._maxY)){if(this.options.directionLock&&this._directionLock==="y"&&(s=this._getAncestorByDirection("y")))return this._setScrollPosition(q,r>0?0:this._maxY),this._propagateDragMove(s,a,b,c,p),false;r=n+l/2;this._doSnapBackY=true}if(this.options.pagingEnabled&&(m==="x"||m==="y"))this._doSnapBackX||this._doSnapBackY?this._pageDelta=0:(o=m==="x"?q:r,d=m==="x"?d:l,this._pagePos=d<0?this._initPagePos-this._pageSize:this._initPagePos,this._pagePos-=this._initPagePos%
this._pageSize,l=this._pagePos,this._pageDelta=l>o&&d<0?this._pageSize:l<o&&d>0?-this._pageSize:0);if(this._didDrag==false){if(this.timerID)clearTimeout(this.timerID),this.timerID=0;d=new e.Event("vmousecancel");d.originalEvent=a.originalEvent;d.pageX=a.pageX;d.pageY=a.pageY;this._$clickEle.trigger(d);this._$clip.trigger("ev_dragstart",[this,this.getScrollPosition()])}else this._$clip.trigger("ev_dragmove",[this,this.getScrollPosition()]),this._optimizeChangeVisiblility(this.getScrollPosition().y);
if(this.options.nextLoadingBarHeight>0||this.oldNextLoadingBarHeight){if(r>0){if(!this._toggleRefresh)this._toggleRefresh=true,this.oldNextLoadingBarHeight=this.options.nextLoadingBarHeight,this.options.nextLoadingBarHeight=0,this._$clip.trigger("ev_change",[this,"refresh-pulldown"])}else if(this._toggleRefresh)this._toggleRefresh=false,this.options.nextLoadingBarHeight=this.oldNextLoadingBarHeight,this.oldNextLoadingBarHeight=0,this._$clip.trigger("ev_change",[this,"refresh-pushup"]);a=this._getClipHeight();
d=this._getViewHeight();if(d>a+this.options.nextLoadingBarHeight)if(this._toggleMore){if(d-a>-r)this._toggleMore=false,this._$clip.trigger("ev_change",[this,"more-pushdown"])}else if(d-a<-r)this._toggleMore=true,this._$clip.trigger("ev_change",[this,"more-pullup"])}this._didDrag=true;this._lastX=b;this._lastY=c;this._setScrollPosition(q,r);this._showScrollBars();return false}},_handleMomentumScroll:function(){var a=false,b=0,c=0,d=this.getScrollMax(),f=true,e=this._vTracker;e&&this._vTrackerShow&&
(e.update(),c=e.getPosition(),a=!e.done(),f=-c<0||-c>d.y);if(e=this._hTracker)e.update(),b=e.getPosition(),a=a||!e.done(),f=f&&(-b<0||-b>d.x);this.options.bounceOff&&f&&(a=false);this._setScrollPosition(b,c);this._$clip.trigger("ev_scrollupdate",[this,{x:-b,y:-c}]);this._optimizeChangeVisiblility(this.getScrollPosition().y);if(a)this._timerID=setTimeout(this._timerCB,this._timerInterval);else{if(this._toggleRefresh)this._toggleRefresh=false,this.options.nextLoadingBarHeight=this.oldNextLoadingBarHeight,
this.oldNextLoadingBarHeight=0,this._$clip.trigger("ev_change",[this,"refresh-release"]);if(this._toggleMore)this._toggleMore=false,this._$clip.trigger("ev_change",[this,"more-release"]);this._stopMScroll()}},scrollTo:function(a,b,c){this._stopMScroll();var d=this._getViewHeight(),l=this._getClipHeight();if(!c)return d-l-this.options.nextLoadingBarHeight>0&&b<-(d-l-this.options.nextLoadingBarHeight)&&(b=-(d-l-this.options.nextLoadingBarHeight)),this._setScrollPosition(-a,-(this.options.nextLoadingBarHeight-
b));d-l-this.options.nextLoadingBarHeight>0&&b>d-l-this.options.nextLoadingBarHeight&&(b=d-l-this.options.nextLoadingBarHeight);b+=this.options.nextLoadingBarHeight;var a=-a,b=-b,m=this,o=f(),n=e.easing.easeOutQuad,q=this._sx,p=this._sy,s=a-q,r=b-p,t=function(){var d=f()-o;d>=c?(m._timerID=0,m._setScrollPosition(a,b)):(d=n(d/c,d,0,1,c),m._setScrollPosition(q+s*d,p+r*d),m._timerID=setTimeout(t,m._timerInterval))};this._timerID=setTimeout(t,this._timerInterval);return this},getScrollPosition:function(){return{x:parseInt(-this._sx,
10),y:parseInt(-(this._sy+this.options.nextLoadingBarHeight),10)}},getScrollMax:function(){return{x:parseInt(this._getViewWidth()-this._getClipWidth(),10),y:parseInt(this._getViewHeight()-this._getClipHeight(),10)}},setScrollBodyWidth:function(a){this._$view.css("min-width",a);return this},refresh:function(){e.davinci.dvcBase.prototype.refresh.call(this);this.optimizeInit();return this},_handleDragStop:function(b){if(this.enable()!=false){var c=this._lastMove,d=f(),c=c&&d-c<=this.options.moveIntervalThreshold,
d=this._getViewHeight(),k=this._getClipHeight(),l=this.getScrollPosition().y;if(d-k-this.options.nextLoadingBarHeight>0){if(l<0||l>d-k-this.options.nextLoadingBarHeight)this._doSnapBackY=true}else if(l!=0)this._doSnapBackY=true;d=this._hTracker&&this._hTrackerShow&&this._speedX&&c?this._speedX:this._doSnapBackX?1:0;k=this._vTracker&&this._vTrackerShow&&this._speedY&&c?this._speedY:this._doSnapBackY?1:0;c=this.options.direction;this.options.pagingEnabled&&(c==="x"||c==="y")&&!this._doSnapBackX&&!this._doSnapBackY?
(d=this._sx,k=this._sy,c==="x"?d=-this._pagePos+this._pageDelta:k=-this._pagePos+this._pageDelta,this.scrollTo(d,k,this.options.snapbackDuration)):d||k?this._startMScroll(d,k):this._hideScrollBars();this._disableTracking();if(!this._didDrag&&this.options.delayedClickEnabled&&this._$clickEle.length){if(this.timerID)clearTimeout(this.timerID),this.timerID=0;c=new e.Event("vmouseup");c.originalEvent=b.originalEvent;c.pageX=b.pageX;c.pageY=b.pageY;this._$clickEle.hasClass("dvc-switch")?e(a).trigger(c):
this._$clickEle.trigger(c);this.options.eventType=="touch"&&this._$clickEle.trigger("vclick")}this._$clip.trigger("ev_dragstop",[this,this.getScrollPosition()]);return false}},_enableTracking:function(){e(a).bind(this._dragMoveEvt,this._dragMoveCB);e(a).bind(this._dragStopEvt,this._dragStopCB)},_disableTracking:function(){e(a).unbind(this._dragMoveEvt,this._dragMoveCB);e(a).unbind(this._dragStopEvt,this._dragStopCB)},_showScrollBars:function(){this._$vScrollBar&&this._vTrackerShow&&this._$vScrollBar.addClass("ui-scrollbar-visible");
this._$hScrollBar&&this._hTrackerShow&&this._$hScrollBar.addClass("ui-scrollbar-visible")},_hideScrollBars:function(){this._$vScrollBar&&this._vTrackerShow&&this._$vScrollBar.removeClass("ui-scrollbar-visible");this._$hScrollBar&&this._hTrackerShow&&this._$hScrollBar.removeClass("ui-scrollbar-visible")}});e.extend(c.prototype,{start:function(a,b,c,d,e){this.state=b!=0?a<d||a>e?2:0:3;this.pos=a;this.speed=b;this.duration=this.state==2?this.options.snapbackDuration:c;this.minPos=d;this.maxPos=e;this.fromPos=
this.state==2?this.pos:0;this.toPos=this.state==2?this.pos<this.minPos?this.minPos:this.maxPos:0;this.startTime=f()},reset:function(){this.state=3;this.duration=this.maxPos=this.minPos=this.speed=this.pos=0},update:function(){var a=this.state;if(a==3)return this.pos;var b=this.duration,c=f()-this.startTime,c=c>b?b:c;if(a==0||a==1){var d=this.speed*(1-e.easing[this.easing](c/b,c,0,1,b)),l=this.pos+d,m=a==0&&(l<this.minPos||l>this.maxPos);m&&(l=l<this.minPos?this.minPos:this.maxPos);this.pos=l;if(a==
1){if(c>=b)this.state=2,this.fromPos=this.pos,this.toPos=l<this.minPos?this.minPos:this.maxPos,this.duration=this.options.snapbackDuration,this.startTime=f()}else if(a==0)if(m)this.state=1,this.speed=d/2,this.duration=this.options.overshootDuration,this.startTime=f();else if(c>=b)this.state=3}else if(a==2)c>=b?(this.pos=this.toPos,this.state=3):this.pos=this.fromPos+(this.toPos-this.fromPos)*e.easing[this.easing](c/b,c,0,1,b);return this.pos},done:function(){return this.state==3},getPosition:function(){return this.pos}})})(jQuery,
window,document);
(function(e,d){e.widget("davinci.dvcPicker",e.davinci.dvcScrollview,{options:{showScrollBars:false,direction:"y",type:"none",initSelector:":jqmData(role='dvcPicker')"},classes:{CLS_WIDGET:"dvc-picker",CLS_PICKER_FRAME:"dvc-picker-frame",CLS_PICKER_FRAME_BASE:"dvc-picker-frame-base",CLS_PICKER_SPLIT:"dvc-picker-split",CLS_PICKER_BORDER_BOTH:"dvc-picker-border-both",CLS_PICKER_BORDER_LEFT:"dvc-picker-border-left",CLS_PICKER_BORDER_RIGHT:"dvc-picker-border-right",CLS_PICKER_BAR:"dvc-picker-bar",CLS_PICKER_BAR_BODY:"dvc-picker-bar-body"},
_getBorderHeight:function(){var a=this.$pickerFrameBase,b=parseInt(a.css("border-top-width"),10),a=parseInt(a.css("border-bottom-width"),10);return b+a},_getClipHeight:function(){return this._$clip.height()-this._getBorderHeight()},_getViewHeight:function(){return this._$view.outerHeight(true)},_initWidget:function(){var a=this.element,b=this.options,c=this.classes;e.davinci.dvcScrollview.prototype._initWidget.call(this);if(!b.theme)b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);
c.CLS_THEME=c.CLS_WIDGET+"-"+b.theme;a.addClass(c.CLS_WIDGET+" "+c.CLS_THEME)},_initVars:function(){e.davinci.dvcScrollview.prototype._initVars.call(this);this._index=-1},_appendChildElements:function(){var a=this.element,b=this.options,c=this.classes,d=e("<div class='"+c.CLS_PICKER_FRAME+"'></div>"),g=e("<div class='"+c.CLS_PICKER_FRAME_BASE+"'><ul class='"+c.CLS_SCROLLVIEW_VIEW+"'></ul></div>"),h=e("<div class='"+c.CLS_PICKER_SPLIT+"'></div>");switch(b.type){case "left":g.addClass(c.CLS_PICKER_BORDER_LEFT);
break;case "both":g.addClass(c.CLS_PICKER_BORDER_BOTH);break;case "right":g.addClass(c.CLS_PICKER_BORDER_RIGHT)}this.$pickerFrameBase=g;d.append(g);d.append(h);b=e("<div class='"+c.CLS_PICKER_BAR_BODY+"'><div class='"+c.CLS_PICKER_BAR+"'></div></div>");a.append(d);a.append(b);this._$view=this._$clip.find("."+c.CLS_SCROLLVIEW_VIEW);this._addAttrDontSaveNDontFocus(a.find("*"))},_empty:function(){this.element.empty()},refresh:function(){e.davinci.dvcScrollview.prototype.refresh.call(this);var a=this.$pickerFrameBase.find("ul"),
b=(this.element.height()-this.itemHeight-this._getBorderHeight())/2;a.css({"padding-top":b+"px","padding-bottom":b+"px"});a=this.getIndex();a>=0&&this.setIndex(a)},_handleMomentumScroll:function(){var a=false,b=0,c=this._vTracker;c&&(c.update(),b=c.getPosition(),a=!c.done());this._setScrollPosition(0,b);this._$clip.trigger("ev_scrollupdate",[this,{x:0,y:-b}]);a?this._timerID=setTimeout(this._timerCB,this._timerInterval):this._pixelCorrection(b)},items:function(a){var b=this;if(a!=d){var c=this.element.find("ul");
if(a.constructor==String)e(a).appendTo(c),this._items=[],c.children().each(function(){b._items.push(this.innerHTML)});else if(a.constructor==Array){var f=[];this._items=a;for(var g=0;g<a.length;g++)f.push("<li>"+a[g]+"</li>");c.append(f.join(""))}else return console.log("error"),this;if(!this.itemHeight)this.itemHeight=c.children().eq(0).height();this.refresh();return this}else return this._items},selectedItem:function(){return this._items[this._index]},clear:function(){this.element.find("ul").children().remove();
this.scrollTo(0,0);this.itemHeight=0;this._items=[];return this},getCount:function(){return!this._items?-1:this._items.length},_handleDragStop:function(a){var b=this._lastMove,c=(new Date).getTime(),b=b&&c-b<=this.options.moveIntervalThreshold,c=this._getViewHeight(),d=this._getClipHeight(),g=this.getScrollPosition().y;if(c-d-this.options.nextLoadingBarHeight>0){if(g<0||g>c-d-this.options.nextLoadingBarHeight)this._doSnapBackY=true}else if(g!=0)this._doSnapBackY=true;c=this._hTracker&&this._speedX&&
b?this._speedX:this._doSnapBackX?1:0;d=this._vTracker&&this._speedY&&b?this._speedY:this._doSnapBackY?1:0;b=this.options.direction;this.options.pagingEnabled&&(b==="x"||b==="y")&&!this._doSnapBackX&&!this._doSnapBackY?(c=this._sx,d=this._sy,b==="x"?c=-this._pagePos+this._pageDelta:d=-this._pagePos+this._pageDelta,this.scrollTo(c,d,this.options.snapbackDuration)):c||d?this._startMScroll(c,d):(d=this._sy,this._pixelCorrection(d,a));this._disableTracking();if(!this._didDrag&&this.options.delayedClickEnabled&&
this._$clickEle.length){if(this.timerID)clearTimeout(this.timerID),this.timerID=0;if(this.sendVMoustdown==true)b=new e.Event("vmouseup"),b.originalEvent=a.originalEvent,b.pageX=a.pageX,b.pageY=a.pageY,this._$clickEle.trigger(b),this.options.eventType=="touch"&&this._$clickEle.trigger("vclick")}this._$clip.trigger("ev_dragstop",[this,this.getScrollPosition()]);return false},_pixelCorrection:function(a,b){var c=this.options,f=this.element;if(this.itemHeight){var e=this.itemHeight,a=-a,h=parseInt(a/
e);a%e>e/2&&h++;a=h*e;if(this.getScrollPosition().y==a)if(b!=d){for(var j=f[0],k=0;j.offsetParent.nodeName!="BODY";)k+=j.offsetTop,j=j.offsetParent;/dvc-popup/.test(j.className)&&(k+=j.offsetTop);j=parseInt(this.$pickerFrameBase.css("border-top-width"),10);h+=Math.floor((this._lastY-k-j)/e)-1;k=this.getCount();h<0?h=0:h>k-1&&(h=k-1);this._index=h;this.scrollTo(0,h*e,c.snapbackDuration)}else this._index=h,this.scrollTo(0,a,c.overshootDuration);else this._index=h,this.scrollTo(0,a,c.overshootDuration);
f.trigger("ev_change",[this,h])}},getIndex:function(){return this._index},setIndex:function(a){if(this.itemHeight)return this.scrollTo(0,-(a*this.itemHeight),0),a=Math.max(a,0),this._index=a=Math.min(a,this._items.length),this}})})(jQuery);
(function(e){e.widget("davinci.dvcCarousel",e.davinci.dvcScrollview,{options:{showScrollBars:false,pagingEnabled:true,infinite:false,direction:"x",indicatorVisible:false,indicatorSize:40,pageGap:0,initSelector:":jqmData(role='dvcCarousel')"},classes:{CLS_WIDGET:"dvc-carousel",CLS_CAROUSEL_PAGE:"dvc-carousel-page",CLS_CAROUSEL_DYNAMIC_PAGE:"dvc-carousel-dynamic-page"},_initWidget:function(){this.element.addClass(this.classes.CLS_WIDGET)},_appendChildElements:function(){var d=this.element,a=this.options;
this._designDefault(d.jqmData("role").slice(3));var b=e("<div></div>");b.attr("waper_focus","false");b.attr("waper_dontsave","true");d.append(b);b.dvcCarouselIndicator({direction:a.direction,size:a.indicatorSize});this.indicator=b.data("dvcCarouselIndicator");this.indicator.setCount(5);a.indicatorVisible?this.indicator.visible(true):this.indicator.visible(false);this._addAttrDontSaveNDontFocus(b.find("*"))},_initVars:function(){},_empty:function(){this.element.empty()},add:function(d,a){var b=this.classes;
this.totalPages++;var c=e("<div class='"+b.CLS_CAROUSEL_PAGE+"'>");c.attr("page-index",this.totalPages);if(typeof d=="string")e(d).appendTo(c);else if(d instanceof e)a&&d.addClass(b.CLS_CAROUSEL_DYNAMIC_PAGE),c.append(d);else{console.log("addPage Error");return}this._$view.append(c);return this},getCount:function(){return this.totalPages},getIndex:function(){return this.nowPage},_triggerEvent:function(d,a,b){if(this.sentPage!=a){var c=this.sentPage;this.sentPage=a;this.indicator.setIndex(this.getIndex());
if(!b)b="",b=this.totalPages,b=this.options.infinite?c==b&&a==1?"next":c==1&&a==b?"prev":c>a?"prev":"next":c>a?"prev":"next",this.element.trigger("ev_change",[this,d,a,b])}},next:function(d){var a=this.options.snapbackDuration,b=this.nowPage+1,c=this.totalPages;if(this.options.infinite)c<b&&(b=1);else if(c<b)return;this.setIndex(b,a,d)},prev:function(d){var a=this.options.snapbackDuration,b=this.nowPage-1,c=this.totalPages;if(this.options.infinite)1>b&&(b=c);else if(1>b)return;this.setIndex(b,a,d)},
refresh:function(){e.davinci.dvcBase.prototype.refresh.call(this);return this},setIndex:function(d,a,b){var c=this,f=this.options,g,h;c._$view.children("."+this.classes.CLS_CAROUSEL_PAGE).each(function(a){var b=e(this);if(parseInt(b.attr("page-index"))==d)return g=e(this),h=a,false});g||console.log("pageContainer is not found.");if(f.infinite==false)c.nowPage=d,this._setCurPage(d,a),this._triggerEvent(g,d,b);else{var j=this.totalPages;Math.ceil(j/2);c.nowPage=d;d=h+1;this._setCurPage(d,a);a?(this.element.unbind(".carousel"),
this.element.bind("ysScrollTo.carousel",function(){f.infinite&&j>=3&&c._infiniteAdjust(d,j)&&c._triggerEvent(g,c.nowPage,b);e(this).unbind(".carousel")})):f.infinite&&j>=3&&c._infiniteAdjust(d,j)&&c._triggerEvent(g,c.nowPage,b)}return this},_setCurPage:function(d,a){var b=this.element;this.options.direction=="y"?(b=b.height()*(d-1),this.scrollTo(0,a?b:-b,a)):(b=b.width()*(d-1),this.scrollTo(a?b:-b,0,a));return this},clear:function(){var d=this.classes;this._$view.children().find(":jqmData(role='page')").not("."+
d.CLS_CAROUSEL_DYNAMIC_PAGE).appendTo(e("body"));this._$view.children().remove();this.totalPages=0;this.nowPage=-1;this.scrollTo(0,0);this.refresh();return this},_changePageElement:function(d,a){for(var b,c,f=this._$view,e=1;e<=Math.abs(a-d);e++)b=f.children(":first"),c=f.children(":last"),a-d>0?b.before(c):a-d<0&&c.after(b)},_infiniteAdjust:function(d,a){var b=this.element,c=this.options,f=Math.ceil(a/2);return d!=f?(c.direction=="y"?(b=b.height()*(f-1),this._setScrollPosition(0,-b)):(b=b.width()*
(f-1),this._setScrollPosition(-b,0)),this._changePageElement(d,f),true):false},_handleDragStop:function(d){var a=this;this.element.unbind(".carousel");this.element.bind("ysScrollTo.carousel",function(b,c){a._slideCallback(c);e(this).unbind(".carousel")});e.davinci.dvcScrollview.prototype._handleDragStop.call(this,d)},_handleMomentumScroll:function(){var d=false,a=0,b=0,c=this._vTracker;c&&(c.update(),b=c.getPosition(),d=!c.done());if(c=this._hTracker)c.update(),a=c.getPosition(),d=d||!c.done();this._setScrollPosition(a,
b);this._$clip.trigger("ev_scrollupdate",[this,{x:-a,y:-b}]);d?this._timerID=setTimeout(this._timerCB,this._timerInterval):(this.element.triggerHandler("ysScrollTo",{x:a,y:b}),this._stopMScroll())},scrollTo:function(d,a,b){this._stopMScroll();var c=this._getViewHeight(),f=this._getClipHeight();if(b){c-f>0&&a>c-f&&(a=c-f);var d=-d,a=-a,g=this,h=(new Date).getTime(),j=e.easing.easeOutQuad,k=this._sx,l=this._sy,m=d-k,o=a-l,n=function(){var c=(new Date).getTime()-h;c>=b?(g._timerID=0,g._setScrollPosition(d,
a),g.element.triggerHandler("ysScrollTo",{x:d,y:a})):(c=j(c/b,c,0,1,b),g._setScrollPosition(k+m*c,l+o*c),g._timerID=setTimeout(n,g._timerInterval))};this._timerID=setTimeout(n,this._timerInterval)}else c-f>0&&a<-(c-f)&&(a=-(c-f)),this._setScrollPosition(d,a),this.element.triggerHandler("ysScrollTo",{x:d,y:a})},_slideCallback:function(d){var a=this.element,b=this.options,c=this.classes,f=a.width(),a=a.height(),f=d=b.direction=="y"?-parseInt(d.y/a)+1:-parseInt(d.x/f)+1,a=this.totalPages,c=this._$view.children("."+
c.CLS_CAROUSEL_PAGE).eq(f-1);b.infinite&&a>=3&&(this._infiniteAdjust(f,a),d=parseInt(c.attr("page-index")));this.nowPage=d;this._triggerEvent(c,d)}});e.widget("davinci.dvcCarouselIndicator",e.davinci.dvcBase,{options:{gap:10,direction:"x",size:40},classes:{CLS_WIDGET:"dvc-carousel-indicator",CLS_CAROUSEL_INDICATOR_ON:"dvc-carousel-indicator-on",CLS_CAROUSEL_INDICATOR_ITEM:"dvc-carousel-indicator-item",CLS_CAROUSEL_INDICATOR_X:"dvc-carousel-indicator-x",CLS_CAROUSEL_INDICATOR_Y:"dvc-carousel-indicator-y"},
_create:function(){var d=this.element,a=this.options,b=this.classes;if(!a.theme)a.theme=e.davinci.getInheritedTheme(d);a.theme=e.davinci._changeThemeName(a.theme);b.CLS_THEME=b.CLS_WIDGET+"-"+a.theme;d.addClass(b.CLS_WIDGET+" "+b.CLS_THEME);this.totalPage=0;this.nowPage=1;this.refresh()},setCount:function(d){if(!(d<0))return this.totalPage=d,this.refresh(),this},setIndex:function(d){var a=this.element,b=this.classes;if(!(this.totalpage<=0))return this.nowPage=d,a.find("."+b.CLS_CAROUSEL_INDICATOR_ON).removeClass(b.CLS_CAROUSEL_INDICATOR_ON),
a.find("."+b.CLS_CAROUSEL_INDICATOR_ITEM).eq(d-1).addClass(b.CLS_CAROUSEL_INDICATOR_ON),this},clear:function(){this.setIndex(1);this.setCount(0);return this},refresh:function(){e.davinci.dvcBase.prototype.refresh.call(this);var d=this.element,a=this.options,b=this.classes;d.find("."+b.CLS_CAROUSEL_INDICATOR_ITEM).remove();if(!(this.totalPage<=0)){a.direction=="x"?(d.addClass(b.CLS_CAROUSEL_INDICATOR_X).removeClass(b.CLS_CAROUSEL_INDICATOR_Y),d.height(a.size)):(d.addClass(b.CLS_CAROUSEL_INDICATOR_Y).removeClass(b.CLS_CAROUSEL_INDICATOR_X),
d.width(a.size));for(var a=e("<div class='"+b.CLS_CAROUSEL_INDICATOR_ITEM+"'></div>"),c=0;c<this.totalPage;c++){var f=a.clone().appendTo(d);this.nowPage==c+1&&f.addClass(b.CLS_CAROUSEL_INDICATOR_ON)}return this}}})})(jQuery);
(function(e,d){e.widget("davinci.dvcLayoutview",e.davinci.dvcBase,{options:{type:"none",checked:false,groupName:"",eventNames:"ev_click,ev_change,ev_keyup,ev_swipeleft,ev_swiperight,ev_focus,ev_blur".split(","),initSelector:":jqmData(role='dvcLayoutview')"},classes:{CLS_WIDGET:"dvc-layoutview",CLS_LAYOUTVIEW_UP:"dvc-layoutview-up",CLS_LAYOUTVIEW_DOWN:"dvc-layoutview-down",CLS_LAYOUTVIEW_NONE:"dvc-layoutview-none",CLS_LAYOUTVIEW_LINK:"dvc-layoutview-link",CLS_LAYOUTVIEW_LINK_ICON:"dvc-layoutview-link-icon",
CLS_LAYOUTVIEW_BTN:"dvc-layoutview-button",CLS_LAYOUTVIEW_CHK:"dvc-layoutview-checkbox",CLS_LAYOUTVIEW_CHK_ICON:"dvc-layoutview-checkbox-icon",CLS_LAYOUTVIEW_RDO:"dvc-layoutview-radio",CLS_LAYOUTVIEW_CHKRDO:"dvc-layoutview-checkboxradio"},_initType:function(){var a=this.element,b=this.classes;switch(this.options.type){case "link":a.addClass(b.CLS_LAYOUTVIEW_LINK);break;case "button":a.addClass(b.CLS_LAYOUTVIEW_BTN);break;case "checkbox":a.addClass(b.CLS_LAYOUTVIEW_CHK);break;case "radio":a.addClass(b.CLS_LAYOUTVIEW_RDO);
break;case "checkboxradio":a.addClass(b.CLS_LAYOUTVIEW_CHKRDO);break;default:a.addClass(b.CLS_LAYOUTVIEW_NONE).removeClass(b.CLS_LAYOUTVIEW_UP)}},_initWidget:function(){var a=this.element,b=this.options,c=this.classes;if(!b.theme)b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);c.CLS_THEME=c.CLS_WIDGET+"-"+b.theme;a.children().length==0?a.addClass(c.CLS_WIDGET+" "+c.CLS_THEME):(a.addClass(c.CLS_WIDGET+" "+c.CLS_LAYOUTVIEW_UP+" "+c.CLS_THEME),this._initType());this._findScrollview()},
_appendChildElements:function(){var a=this.element,b=this.options,c=this.classes;if(a.children().length==0)this._designDefault(a.jqmData("role").slice(3));else{switch(b.type){case "link":var d=e("<div class='"+c.CLS_LAYOUTVIEW_LINK_ICON+"'></div>");d.appendTo(a);break;case "checkbox":case "checkboxradio":var g=e("<div class='"+c.CLS_LAYOUTVIEW_CHK_ICON+"'></div>");g.appendTo(a);this.$checkbox=g}d&&this._addAttrDontSaveNDontFocus(d);g&&this._addAttrDontSaveNDontFocus(g);a.find("div:jqmData(role^='dvc')").each(function(){var a=
e(this),b=a.jqmData("role");this.id||a.attr("subid");if(b){if(a.data(b))return true;a[b]()}})}},_empty:function(){var a=this.classes;this.element.children("."+a.CLS_LAYOUTVIEW_LINK_ICON+", ."+a.CLS_LAYOUTVIEW_CHK_ICON).remove()},_designRefresh:function(){var a=this.element;e.davinci.dvcBase.prototype._designRefresh.call(this);a.find("div:jqmData(role^='dvc')").each(function(){var a=e(this),c=a.jqmData("role");(a=a.data(c))&&a._changeTheme()})},toggle:function(){this.checked(!this.checked())},_checked:function(a){var b=
this.element,c=this.options,d=this.classes;c.checked=a;c.type=="checkbox"||c.type=="checkboxradio"?c.checked?b.addClass(d.CLS_BASE_CHECKED):b.removeClass(d.CLS_BASE_CHECKED):c.type=="radio"&&(c.checked?b.addClass(d.CLS_BASE_CHECKED):b.removeClass(d.CLS_BASE_CHECKED))},checked:function(a){var b=this.element,c=this.options;if(a!=d){if(c.type=="radio"||c.type=="checkboxradio"){if(c.checked==false){var f=null;b.parents().each(function(){if(this.id)return f=e(this),false});f&&f.find(":jqmData(group-name="+
c.groupName+")").each(function(){if(this!==b[0]){var a=e(this),c=a.jqmData("role");a.data(c)._checked(false)}});this._checked(true)}}else this._checked(a);return this}else return c.checked},visible:function(a){var b=this.options;e.davinci.dvcBase.prototype.visible.call(this,a);if(a!=d)this.scrollview&&this.scrollview.refresh();else return b.visible},refresh:function(){var a=this.options;e.davinci.dvcBase.prototype.refresh.call(this);(a.type=="checkbox"||a.type=="radio"||a.type=="checkboxradio")&&
this._checked(a.checked);return this}})})(jQuery);
(function(e,d){e.widget("davinci.dvcListitem",e.davinci.dvcBase,{options:{type:"none",eventNames:"ev_click,ev_change,ev_keyup,ev_swipeleft,ev_swiperight,ev_focus,ev_blur".split(","),initSelector:":jqmData(role='dvcListitem')"},classes:{CLS_WIDGET:"dvc-listitem",CLS_LISTITEM_NONE:"dvc-listitem-none",CLS_LISTITEM_LINK:"dvc-listitem-link",CLS_LISTITEM_LINK_ICON:"dvc-listitem-link-icon",CLS_LISTITEM_BTN:"dvc-listitem-button",CLS_LISTITEM_CHK:"dvc-listitem-checkbox",CLS_LISTITEM_CHK_ICON:"dvc-listitem-checkbox-icon",
CLS_LISTITEM_RDO:"dvc-listitem-radio",CLS_LISTITEM_CHKRDO:"dvc-listitem-checkboxradio",CLS_LISTITEM_ITEM_DESIGN:"dvc-listitem-item-design",CLS_LISTITEM_ITEM_UP_DESIGN:"dvc-listitem-item-up-design",CLS_LISTITEM_ITEM_INDEXABLE_DESIGN:"dvc-listitem-item-indexable-design",CLS_LISTITEM_ITEM:"dvc-listitem-item",CLS_LISTITEM_ITEM_UP:"dvc-listitem-item-up",CLS_LISTITEM_ITEM_DOWN:"dvc-listitem-item-down",CLS_LISTITEM_ITEM_INDEXABLE:"dvc-listitem-item-indexable",CLS_LISTITEM_ITEMS:"dvc-listitem-items"},_initType:function(){var a=
this.element,b=this.classes;switch(this.options.type){case "none":a.addClass(b.CLS_LISTITEM_NONE);break;case "link":a.addClass(b.CLS_LISTITEM_LINK);break;case "button":a.addClass(b.CLS_LISTITEM_BTN);break;case "checkbox":a.addClass(b.CLS_LISTITEM_CHK);break;case "radio":a.addClass(b.CLS_LISTITEM_RDO);break;case "checkboxradio":a.addClass(b.CLS_LISTITEM_CHKRDO)}},_initWidget:function(){var a=this.element,b=this.options,c=this.classes;if(!b.theme)b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);
c.CLS_THEME=c.CLS_WIDGET+"-"+b.theme;a.addClass(c.CLS_WIDGET+" "+c.CLS_THEME);this._items=[];this._initType();this._findScrollview()},_appendChildElements:function(){var a=this.element,b=this.options,c=this.classes,d=a.find("."+c.CLS_LISTITEM_ITEM),g=e("<div class='"+c.CLS_LISTITEM_ITEMS+"'></div>");this.$designItem=d;this.$items=g;a.find("[id]").not("[subid]").each(function(){this.outerHTML=this.outerHTML.replace(/\sid/g," subid")});if(d.length==0)d="<div class='"+c.CLS_LISTITEM_ITEM+" "+c.CLS_LISTITEM_ITEM_INDEXABLE+
" "+c.CLS_THEME+" "+c.CLS_LISTITEM_ITEM_UP+"'></div>",g=a.children("*"),g.length?(g.wrapAll(d),this.$designItem=d=a.children("."+c.CLS_LISTITEM_ITEM)):(a.append(d),this.$designItem=a.find("."+c.CLS_LISTITEM_ITEM));this.$designItem.attr("waper_focus","false").attr("waper_savechildrenonly","true");if(this.$designItem.children().length==0)this.$designItem.append(e("<div class='"+c.CLS_DESIGN_DEFAULT+" "+c.CLS_LISTITEM_ITEM_INDEXABLE+"' waper_focus='false' waper_dontsave='true' style='font-family:Tahoma; font-size:12px;' >"+
a.jqmData("role").slice(3)+"</div>"));else switch(this.$designItem.children("."+c.CLS_DESIGN_DEFAULT).remove(),b.type){case "link":a=e("<div class='"+c.CLS_LISTITEM_LINK_ICON+"'></div>");this._addAttrDontSaveNDontFocus(a);a.appendTo(this.$designItem);break;case "checkbox":case "checkboxradio":a=e("<div class='"+c.CLS_LISTITEM_CHK_ICON+"'></div>"),this._addAttrDontSaveNDontFocus(a),a.appendTo(this.$designItem),this.$checkbox=a}},update:function(a,b){var c=this.element,f=this.classes;b==d&&(b=0);for(var g=
0;g<a.length;++g){var h=a[g],j=c.find("."+f.CLS_LISTITEM_ITEM_INDEXABLE).eq(b);if(j.length==0)return;this._items[b]=h;b++;j.find("div:jqmData(role^='dvc')").each(function(){var a=e(this).jqmData("role");if(a){var b=e(this),c=b.attr("subid"),b=b.data(a);h[c]&&(a=="dvcImage"?b.src(h[c]):a=="dvcLabel"||a=="dvcButton"||a=="dvcImageButton"||a=="dvcTextfield"?b.text(h[c]):a=="dvcRadioButton"||a=="dvcCheckbox"||a=="dvcSwitch"?b.checked(h[c]):a=="dvcProgress"||a=="dvcSlider"?b.value(h[c]):h.userClass?b.element.addClass(h.userClass):
h.userData&&b.element.data("userData",h.userData))}})}this.scrollview&&this.scrollview.refresh()},add:function(a,b){var c=this.element,f=this.classes,g=this.$designItem[0].outerHTML,g=g.replace(/-design/g,""),g=e(g),h;if(b!=d){var j,k;h=a.length;for(j=0,k=b;j<h;j++,k++)this._items.splice(k,0,a[j])}else this._items=this._items.concat(a);for(j=0;j<a.length;++j){var l=a[j];typeof l=="string"?(l=l.replace(/\sid/g," subid"),h=e(l)):(h=g.clone(),l.userClass&&h.addClass(l.userClass),l.userData&&h.data("userData",
l.userData));b!=d?(k=c.find("."+f.CLS_LISTITEM_ITEM_INDEXABLE).eq(b),k.length==0?this.$items.append(h):h.insertBefore(k),b++):this.$items.append(h);h.find("div:jqmData(role^='dvc')").each(function(){var a=e(this).jqmData("role");if(a){var b=e(this),c=b.attr("subid"),d={};if(l[c])if(a=="dvcImage")d.src=l[c];else if(a=="dvcLabel"||a=="dvcButton"||a=="dvcImageButton"||a=="dvcTextfield")d.text=l[c];else if(a=="dvcRadioButton"||a=="dvcCheckbox"||a=="dvcSwitch")d.checked=l[c];else if(a=="dvcProgress"||
a=="dvcSlider")d.value=l[c];if(b.data(a))return true;b[a](d)}})}this.scrollview&&this.scrollview.refresh();return this},remove:function(a){var b=this.element,c=this.classes;this._items.splice(a,1);b.find("."+c.CLS_LISTITEM_ITEM_INDEXABLE).eq(a).remove();this.scrollview&&(this.scrollview.scrollTo(0,0),this.scrollview.refresh());return this},clear:function(){var a=this.element,b=this.classes;this._items=[];a.find("."+b.CLS_LISTITEM_ITEMS).children().remove();this.scrollview&&(this.scrollview.scrollTo(0,
0),this.scrollview.refresh());return this},items:function(a){return arguments.length?(this.clear(),this.add(a),this):this._items},getCount:function(){return this.element.find("."+this.classes.CLS_LISTITEM_ITEM_INDEXABLE).length},_empty:function(){var a=this.classes;this.element.find("."+a.CLS_LISTITEM_LINK_ICON+", ."+a.CLS_LISTITEM_CHK_ICON).remove()},_designRefresh:function(){var a=this.element;e.davinci.dvcBase.prototype._designRefresh.call(this);a.find("div:jqmData(role^='dvc')").each(function(){var a=
e(this),c=a.jqmData("role");(a=a.data(c))&&a._changeTheme()})},toggle:function(a){this.checked(a,!this.checked(a))},visible:function(a){var b=this.options;e.davinci.dvcBase.prototype.visible.call(this,a);if(a!=d)this.scrollview&&this.scrollview.refresh();else return b.visible},refresh:function(){this.enable(-1,this.enable(-1));this.visible(this.visible());return this},enable:function(a,b){var c=this.element,d=this.classes;if(arguments.length==2)a<0?e.davinci.dvcBase.prototype.enable.call(this,b):
(c=c.find("."+d.CLS_LISTITEM_ITEM_INDEXABLE).eq(a),b?c.removeClass(d.CLS_BASE_DISABLED):c.addClass(d.CLS_BASE_DISABLED));else return a<0?e.davinci.dvcBase.prototype.enable.call(this):(c=c.find("."+d.CLS_LISTITEM_ITEM_INDEXABLE).eq(a),!c.hasClass(d.CLS_BASE_DISABLED));return this},checked:function(a,b){var c=this.element,d=this.classes;if(arguments.length==2)return this.options.type=="checkboxradio"||this.options.type=="radio"?c.find("."+d.CLS_LISTITEM_ITEM_INDEXABLE).each(function(b){b==a?e(this).addClass(d.CLS_BASE_CHECKED):
e(this).removeClass(d.CLS_BASE_CHECKED)}):this.options.type=="checkbox"&&(c=c.find("."+d.CLS_LISTITEM_ITEM_INDEXABLE).eq(a),b?c.addClass(d.CLS_BASE_CHECKED):c.removeClass(d.CLS_BASE_CHECKED)),this;else{c=c.find("."+d.CLS_LISTITEM_ITEM_INDEXABLE).eq(a);if(c.length)switch(this.options.type){case "checkboxradio":case "radio":case "checkbox":return c.hasClass(d.CLS_BASE_CHECKED)}return false}},userData:function(a,b){var c=this.element.find("."+this.classes.CLS_LISTITEM_ITEM_INDEXABLE).eq(a);return arguments.length==
2?(c.data("userData",b),this):c.data("userData")}})})(jQuery);
(function(e){e.widget("davinci.dvcCollapseview",e.davinci.dvcBase,{options:{collapsed:false,initSelector:":jqmData(role='dvcCollapseview')"},classes:{CLS_WIDGET:"dvc-collapseview",CLS_COLLAPSEVIEW_COLLAPSED:"dvc-collapseview-collapsed"},_initWidget:function(){this.element.addClass(this.classes.CLS_WIDGET);this._findScrollview()},_appendChildElements:function(){var d=this.element;d.addClass("dvc-collapseview dvc-collapseview-corner-bottom");d.append(e('<div  waper_focus="false" waper_dontsave="true" class="dvc-collapseview-bottom">Collapseview</div>'))},
_empty:function(){},_designRefresh:function(){var d=this.element;e.davinci.dvcBase.prototype._designRefresh.call(this);d.find("div:jqmData(role^='dvc')").each(function(){var a=e(this),b=a.jqmData("role");(a=a.data(b))&&a._changeTheme()})},collapsed:function(d,a,b){var c=this.element,f=this.options,e=this.classes;if(arguments.length){f.collapsed=d;var h=function(){b&&b();d?c.addClass(e.CLS_COLLAPSEVIEW_COLLAPSED):c.removeClass(e.CLS_COLLAPSEVIEW_COLLAPSED)};d?a?c.slideUp(a,function(){h()}):(c.hide(),
h()):a?c.slideDown(a,function(){h()}):(c.show(),h());this.scrollview&&this.scrollview.refresh();return this}else return f.collapsed},refresh:function(){var d=this.options;e.davinci.dvcBase.prototype.refresh.call(this);this.collapsed(d.collapsed)}})})(jQuery);
(function(e,d){e.widget("davinci.dvcDivision",e.davinci.dvcBase,{options:{eventNames:["ev_divisioninit"],initSelector:":jqmData(role='dvcDivision')"},classes:{CLS_WIDGET:"dvc-division"},_initWidget:function(){this.element.addClass(this.classes.CLS_WIDGET);this._findScrollview()},_appendChildElements:function(){this._designDefault(this.element.jqmData("role").slice(3))},_init:function(){var a=this.element;e.davinci.dvcBase.prototype._init.call(this);a.trigger("ev_divisioninit",this)},html:function(a){var b=
this.element;if(arguments.length)b.html(a),b.find("link,style").remove();else return a=b.html();this.scrollview&&this.scrollview.refresh()},visible:function(a){var b=this.options;e.davinci.dvcBase.prototype.visible.call(this,a);if(a!=d)this.scrollview&&this.scrollview.refresh();else return b.visible},clear:function(){this.html("");if(this.scrollview===d&&!this._findScrollview())this.scrollview=0;this.scrollview&&(this.scrollview.scrollTo(0,0),this.scrollview.refresh())}})})(jQuery);
(function(e){e.widget("davinci.dvcGrid",e.davinci.dvcBase,{options:{initSelector:":jqmData(role='dvcGrid')"},classes:{CLS_WIDGET:"dvc-grid",CLS_GRID_ITEM:"dvc-grid-item"},_initWidget:function(){this.element.addClass(this.classes.CLS_WIDGET)},_appendChildElements:function(){var d=this.element,a=this.options;a.itemCount=parseInt(d.attr("data-item-count"),10)||2;var b=d.find(".dvc-grid-item"),c=b.length;if(a.itemCount<c)for(i=c;i>a.itemCount;i--)b.eq(i-1).remove();else if(a.itemCount>c){a=a.itemCount-
c;b=e('<div data-role="GridItem" class="dvc-grid-item"></div>');for(i=0;i<a;i++)b.clone().appendTo(d)}},_empty:function(){},_designRefresh:function(){var d=this.element;e.davinci.dvcBase.prototype._designRefresh.call(this);d.find("div:jqmData(role^='dvc')").each(function(){var a=e(this),b=a.jqmData("role");(a=a.data(b))&&a._changeTheme()})},refresh:function(){var d=this.element.find("."+this.classes.CLS_GRID_ITEM),a=d.length,b=100/a,c=b.toString();d.each(function(d){var g=(d*b).toString()+"%";d==
a-1?e(this).css({left:g,right:"0px"}):e(this).css({left:g,width:c+"%"})})}})})(jQuery);
(function(e,d){var a=null;e.widget("davinci.dvcTreeview",e.davinci.dvcBase,{options:{data:null,treeType:"basic",iconWidth:"23",eventNames:["ev_click","ev_change","ev_ecclick"],initSelector:":jqmData(role='dvcTreeview')"},classes:{CLS_WIDGET:"dvc-treeview",CLS_TREEVIEW_NODE_BODY:"dvc-treeview-node-body",CLS_TREEVIEW_NODE_NAME_BACK:"dvc-treeview-node-name-back",CLS_TREEVIEW_SELECTED_NODE:"dvc-treeview-selected-node",CLS_TREEVIEW_LINE_GROUP:"dvc-treeview-line-group"},_initWidget:function(){this.element.addClass(this.classes.CLS_WIDGET);
this._findScrollview()},_appendChildElements:function(){var a=this.element,c=e("<div class='"+this.classes.CLS_TREEVIEW_NODE_BODY+"' style='position:relative;'></div>");c.attr("waper_focus","false").attr("waper_dontsave","true");a.prepend(c)},refresh:function(){e.davinci.dvcBase.prototype.refresh.call(this);a=this;setTimeout(this._drawDesignTreeview,10);return this},_drawDesignTreeview:function(){var b=a.element;a.removeAll();var c=[];c.push({id:"001",text:"node 1",isexpand:true,hasChildren:true,
childnodes:[{id:"002",text:"node 1-1"}]});c.push({id:"010",text:"node 2"});var d=[];d.push({id:"id1",text:"root",selected:"false",isexpand:true,childnodes:c});a.element.width()>0?(a._drawTreeview(d),a._addAttrDontSaveNDontFocus(b.find("*"))):setTimeout(a._drawDesignTreeview,10)},setIconWidth:function(a){var c=this.options;c.iconWidth=a;this._drawTreeview(c.data);return this},_drawTreeview:function(a){var c=this.element,d=a.length,g=[0],h=[];this.options.data=a;this.removeAll();h.push("<ul class='dvc-treeview-node-container'>");
for(var j=c.css("width"),k=0;k<d;k++){var l=false;g[0]=k;k+1==d&&(l=true);this._drawLi(parseInt(j.replace("px",""),10),a[k],h,0,""+g[0],l)}h.push("</ul>");a=e(h.join(""));c.prepend(a);return this},_drawLi:function(a,c,f,e,h,j){var k=this.options,l="",m=false,o="dvc-treeview-nohaschild-icon",n="dvc-treeview-middle-line",q=0;j&&(l=n=" ");f.push("<li id='"+c.id+"' deep='"+e+"' path='"+h+"' class='"+l+"'>");f.push("<div class='dvc-treeview-node-background dvc-treeview-li-back-style'>");f.push("<span class='dvc-treeview-line-group'>");
for(var l=h.indexOf(".")?this._isLastParent(h):[0],p=0;p<e;p++){var s="";l[p]&&(s="visibility:hidden;");f.push("<span class='dvc-treeview-line-icon dvc-treeview-basic-line' style='"+s+"'></span>");q++}j?f.push("<span class='dvc-treeview-line-icon dvc-treeview-last-line' style=''></span>"):f.push("<span class='dvc-treeview-line-icon "+n+"' style=''></span>");q++;c.childnodes!=d||c.hasChildren?m=true:(f.push("<span class='dvc-treeview-line-icon dvc-treeview-horizontal-line'></span>"),q++);f.push("</span>");
m&&(n="dvc-treeview-open-icon",o="dvc-treeview-haschild-icon",c.isexpand||(n="dvc-treeview-close-icon"),f.push("<span class='dvc-treeview-expend-icon "+n+"'></span>"),q++);h=="0"&&(o="dvc-treeview-root-icon");if(k.treeType=="depticon"||k.treeType=="all")f.push("<span class='"+o+"'></span>"),q++;o=" ";c.selected&&(o=" dvc-treeview-selected-node");n="";n=k.treeType=="check"||k.treeType=="all"?"width:"+(a-23*q-25)+"px;":"width:"+(a-23*q-5)+"px;";n.indexOf("-")>=0&&(n="width:"+q+"px;");f.push("<span class='dvc-treeview-node-name-back "+
o+"' style='"+n+"'><span class='dvc-treeview-node-name'>"+c.text+"</span></span>");(k.treeType=="check"||k.treeType=="all")&&f.push("<span class='dvc-treeview-ischeck-back'><span class='dvc-treeview-ischeck-icon dvc-treeview-check-up'></span></span>");f.push("</div>");if(m&&c.childnodes!=d){k=c.childnodes.length;m=c.childnodes;q="";h=(""+h).split(".");j&&(q="background-image:none;");h.push(0);c.isexpand||(q+="display:none;");f.push("<ul style='"+q+"' >");e++;for(c=0;c<k;c++)j=false,h[h.length-1]=
c,c==k-1&&(j=true),this._drawLi(a,m[c],f,e,h.join("."),j);f.push("</ul>")}f.push("</li>")},_isLastParent:function(a){for(var c=[],d=this.options.data,a=a.split("."),e=a.length,h=0;h<e;h++){var j=a[h],k=0;h==0?(k=d.length-1,d=d[j]):(k=d.childnodes.length-1,d=d.childnodes[j]);c.push(k==j?true:false)}return c},addNode:function(a,c,d){var e=this.options;a?(d||(d="after"),this._setItems(a,c,d),this._drawTreeview(e.data)):this._drawTreeview(c);return this},removeNode:function(a,c){var d=this.options;this._removeItems(a.attr("path"),
c);this._drawTreeview(d.data);return this},removeAll:function(){e(this.element).find(".dvc-treeview-node-container").remove();return this},getSelectedNode:function(a){var c=this.classes,c=e(this.element).find("."+c.CLS_TREEVIEW_SELECTED_NODE).parent().parent();return c[0]?(c[0].nodeName=="DIV"&&(c=c.parent()),a=="id"?c.length?c.id:null:a=="path"?c.length?c.attr("path"):null:c.length?c:null):null},getCheckedNodes:function(a){var c=e(this.element).find(".dvc-treeview-checked").parent().parent().parent(),
d=[],g=c.length;if(a=="data"){for(a=0;a<g;a++)d.push(this.getItems(c.attr("path")));return d}else return g?c:null},getItems:function(a){for(var c=this.options.data,a=a.split("."),d=a.length,e=0;e<d;e++)c=e==0?c[a[e]]:c.childnodes[a[e]];return c},_removeItems:function(a,c){for(var f=this.options.data,e=a.split("."),h=e.length,j=0;j<h;j++)if(j==h-1){var k=e[j];if(j==0)f.splice(k,1);else{var l=f.childnodes[k];f.childnodes.splice(k,1);if(c&&l.childnodes!=d)f.childnodes=this._atJoinArray(f.childnodes,
l.childnodes,k);if(!f.childnodes.length)f.childnodes=null,f.isexpand=false}}else f=j==0?f[e[j]]:f.childnodes[e[j]]},_setItems:function(a,c,d){for(var e=this.options.data,a=a.attr("path").split("."),h=a.length,j=0;j<h;j++)if(j==h-1){var k=a[j];j==0?d=="after"?this.options.data=e.concat(c):d=="child"?e[a[j]].childnodes=c:this.options.data=c.concat(e):d=="child"?e[a[j]].childnodes=c:e.childnodes=this._atJoinArray(e.childnodes,c,k,d=="after"?true:false)}else e=j==0?e[a[j]]:e.childnodes[a[j]]},_atJoinArray:function(a,
c,d,e){var h=a.length,j=[],d=parseInt(d,10);return h>d+1?((d=e?d+1:d)&&(j=a.slice(0,d)),j=j.concat(c),j=j.concat(a.slice(d,h))):a.concat(c)}})})(jQuery);
(function(e,d){e.widget("davinci.dvcPagebox",e.davinci.dvcBase,{options:{pageId:"",initSelector:":jqmData(role='dvcPagebox')"},defaults:{transition:"none",reverse:false,changeHash:true,fromHashChange:false,pageContainer:d,fromPage:d,allowSamePageTransition:false},classes:{CLS_WIDGET:"dvc-pagebox",CLS_PAGEBOX_ITEM:"dvc-pagebox-item",CLS_PAGEBOX_ACTIVEPAGE:"dvc-pagebox-activepage"},isPageTransitioning:false,_initWidget:function(){this.element.addClass(this.classes.CLS_WIDGET)},_appendChildElements:function(){this._designDefault(this.element.jqmData("role").slice(3))},
_initialize:function(){var a=this.options,b=this.classes;this.pageContainer=this.element.find(">."+b.CLS_PAGEBOX_ITEM);a.pageId.length?(a=a.pageId,a[0]!="#"&&(a="#"+a),a=e(a),this.pageContainer.append(a),a.addClass(b.CLS_PAGEBOX_ACTIVEPAGE),this._enhancePage(a),this.$activePage=a):this._createEmptyPage()},_createEmptyPage:function(){var a=e("<div data-"+e.mobile.ns+"role='page' class='"+this.classes.CLS_PAGEBOX_ACTIVEPAGE+"'></div>");this.pageContainer.append(a);this._enhancePage(a);this.$activePage=
a},_checkPageId:function(a){var b="";return b=a[0]=="#"?a:"#"+a},_enhancePage:function(a){a.page();a.css("min-height",0)},_reFocus:function(a){var b=a.find(".ui-title:eq(0)");b.length?b.focus():a.focus()},_releasePageTransitionLock:function(){this.isPageTransitioning=false},_noneTransitionHandler:function(a,b,c,d){var g=this.classes;d&&d.removeClass(g.CLS_PAGEBOX_ACTIVEPAGE);c.addClass(g.CLS_PAGEBOX_ACTIVEPAGE);return e.Deferred().resolve(a,b,c,d).promise()},_css3TransitionHandler:function(a,b,c,
d){var g=this.classes,h=new e.Deferred,j=b?" reverse":"",k="ui-mobile-viewport-transitioning viewport-"+a;c.animationComplete(function(){c.add(d).removeClass("out in reverse "+a);d&&d[0]!==c[0]&&d.removeClass(g.CLS_PAGEBOX_ACTIVEPAGE);c.parent().removeClass(k);h.resolve(a,b,c,d)});c.parent().addClass(k);d&&d.addClass(a+" out"+j);c.addClass(g.CLS_PAGEBOX_ACTIVEPAGE+" "+a+" in"+j);return h.promise()},_transitionPages:function(a,b,c,d){b&&b.data("page")._trigger("beforehide",null,{nextPage:a});a.data("page")._trigger("beforeshow",
null,{prevPage:b||e("")});var g={},g=c=="none"?this._noneTransitionHandler(c,d,a,b):this._css3TransitionHandler(c,d,a,b);g.done(function(){b&&b.data("page")._trigger("hide",null,{nextPage:a});a.data("page")._trigger("show",null,{prevPage:b||e("")})});return g},changePage:function(a,b){var c=this,f=this.classes;if(!c.isPageTransitioning){var g=c._checkPageId(a),h=e(g);if(h.length!=0){b=b||{};if(h.length){var j=h.jqmData("transition");if(j&&!b.transition)b.transition=j}if(e.davinci.getOSName()=="Android")b.transition=
"none";if(c.pageContainer.find(g).length==0){var g=d,k=h.closest("."+f.CLS_WIDGET).first();k&&(g=k.data("dvcPagebox"));j=h.hasClass(f.CLS_PAGEBOX_ACTIVEPAGE);c.pageContainer.prepend(h);if(g)if(k=k.find(":jqmData(role='page')"),k.length>0){if(j)j=k.first(),j.addClass(f.CLS_PAGEBOX_ACTIVEPAGE),g.$activePage=j}else g._createEmptyPage()}f=e.extend({},c.defaults,b);f.pageContainer=f.pageContainer||c.pageContainer;f.fromPage=f.fromPage||c.$activePage;(g=f.fromPage)&&g[0]===h[0]&&!f.allowSamePageTransition?
c.isPageTransitioning=false:(c._enhancePage(h),c.$activePage=h,c._transitionPages(h,g,f.transition,f.reverse).done(function(){c._releasePageTransitionLock()}))}}},getActivePage:function(){var a=this.$activePage;return a&&a.length?a.data("page"):null}})})(jQuery);
(function(e,d){e.davinci.popup={};e.davinci.popup.zIndex=3E3;e.davinci.popup.open=function(a,b){a[0]=="#"&&(a=a.replace("#",""));var c=e("#"+a).data("dvcPopup");if(c)var d=c.element;else{b.pageId[0]=="#"&&b.pageId.replace("#","");d=e("#"+b.pageId);if(d.length==0)return;c=d.jqmData("theme")||"a";d=e("<div data-"+e.mobile.ns+"role='dvcPopup'></div>");d[0].id=a;d.jqmData("theme",c);e("body").append(d);d.dvcPopup();c=d.data("dvcPopup")}c.open(b);return c};e.davinci.popup.close=function(a){a[0]=="#"&&
(a=a.replace("#",""));(a=e("#"+a).data("dvcPopup"))&&a.close()};e.davinci.popup.isShown=function(a){a[0]=="#"&&(a=a.replace("#",""));return(a=e("#"+a).data("dvcPopup"))?a.isShown():false};e.davinci.popup.reposition=function(a,b){a[0]=="#"&&(a=a.replace("#",""));var c=e("#"+a).data("dvcPopup");if(c)return c.reposition(b)};e.davinci.popup.adjustPopupPos=function(a,b,c,d){for(var e=0,h=0,j=a[0],k=j.clientWidth,l=j.offsetHeight,a=parseInt(a.css("border-left-width"));j;)e+=j.offsetLeft,h+=j.offsetTop,
j=j.offsetParent;e=e+(k+a)/2-b/2;j=0;d=="top"?h+=l+16:h-=c+l;j=(b-30)/2;e<10&&(j-=10-e,e=10);return{left:e,top:h,width:b,height:c,anchorPos:j,type:d}};e.widget("davinci.dvcPopup",e.davinci.dvcPagebox,{options:{modal:false,transition:"pop",overlay:0,onbeforeshow:d,onshow:d,onbeforehide:d,onhide:d},classes:{CLS_WIDGET:"dvc-popup",CLS_POPUP_OVERLAY:"dvc-popup-overlay",CLS_POPUP_ANCHOR:"dvc-popup-anchor",CLS_POPUP_ANCHOR_LEFT:"dvc-popup-anchor-left",CLS_POPUP_ANCHOR_TOP:"dvc-popup-anchor-top",CLS_POPUP_ANCHOR_RIGHT:"dvc-popup-anchor-right",
CLS_POPUP_ANCHOR_BOTTOM:"dvc-popup-anchor-bottom"},_create:function(){var a=this.element,b=this.options,c=this.classes;if(!b.theme)b.theme=e.davinci.getInheritedTheme(a);b.theme=e.davinci._changeThemeName(b.theme);c.CLS_THEME=c.CLS_WIDGET+"-"+b.theme;a.addClass(c.CLS_WIDGET+" "+c.CLS_THEME);this.pageContainer=e("<div class='"+c.CLS_PAGEBOX_ITEM+"'></div>");this.anchor=e("<div class='"+c.CLS_POPUP_ANCHOR+"'></div>");a.append(this.pageContainer);a.append(this.anchor);this._isShown=false},isShown:function(){return this._isShown},
reposition:function(a){var b=this.element,c=this.options;if(c.anchor&&c.anchor.pos){if(a.anchorPos<0)a.anchorPos=0;c.anchor.pos=a.anchorPos;switch(c.anchor.type){case "left":this.anchor.css("bottom",c.anchor.pos);break;case "top":this.anchor.css("left",c.anchor.pos);break;case "right":this.anchor.css("top",c.anchor.pos);break;case "bottom":this.anchor.css("right",c.anchor.pos)}}b.css({left:a.left,top:a.top,width:a.width,height:a.height})},open:function(a){var b=this.element,c=this,d=this.classes,
g=e.extend(this.options,a,true);if(g.pageId&&!c._isShown){g.pageId[0]=="#"&&g.pageId.replace("#","");var h=e("#"+g.pageId);if(h.length!=0){e.davinci.popup.zIndex+=2;g.css&&b.css(g.css);c.anchor.removeClass(d.CLS_POPUP_ANCHOR_LEFT+" "+d.CLS_POPUP_ANCHOR_TOP+" "+d.CLS_POPUP_ANCHOR_RIGHT+" "+d.CLS_POPUP_ANCHOR_BOTTOM);if(g.anchor&&g.anchor.type){if(g.anchor.pos<0)g.anchor.pos=0;switch(g.anchor.type){case "left":c.anchor.addClass(d.CLS_POPUP_ANCHOR_LEFT);c.anchor.css("bottom",g.anchor.pos);break;case "top":c.anchor.addClass(d.CLS_POPUP_ANCHOR_TOP);
c.anchor.css("left",g.anchor.pos);break;case "right":c.anchor.addClass(d.CLS_POPUP_ANCHOR_RIGHT);c.anchor.css("top",g.anchor.pos);break;case "bottom":c.anchor.addClass(d.CLS_POPUP_ANCHOR_BOTTOM),c.anchor.css("right",g.anchor.pos)}}if(!g.overlay)g.overlay=0;a=e("<div></div>").css({height:"100%",width:"100%",position:"absolute",left:0,top:0,"z-index":e.davinci.popup.zIndex-1,opacity:g.overlay/100});b.css("z-index",e.davinci.popup.zIndex);g.modal?a.css("cursor","wait"):g.overlay>0?a.bind("vclick",function(){c.close()}):
a=false;c.obj=a?a.addClass(d.CLS_POPUP_OVERLAY).prependTo("body"):false;var j,k=h.closest(".dvc-pagebox");k.length&&(j=k.data("dvcPagebox"));a=h.hasClass(c.activePageClass);c.pageContainer.append(h);if(j)if(k=k.find(":jqmData(role='page')"),k.length){if(a)a=k.first(),a.addClass(c.activePageClass),j.activePage=a}else j._createEmptyPage();h.addClass(d.CLS_PAGEBOX_ACTIVEPAGE);c._enhancePage(h);c.activePage=h;if(g.onbeforeshow)g.onbeforeshow();e._fnFindActivePagesInPagebox(h).each(function(){e._fnSubpageEventGenerate(this,
"ev_pagebeforeshow")});var l=h.data("page");h._pageTrigger("ev_pagebeforeshow",[l]);b.show();var m=function(){e._fnFindActivePagesInPagebox(h).each(function(){e._fnSubpageEventGenerate(this,"ev_pageshow")});h._pageTrigger("ev_pageshow",[l]);if(g.onshow)g.onshow()};c._isShown=true;g.transition!="none"?(b.animationComplete(function(){m()}),b.addClass(g.transition+" in")):m()}}},close:function(){var a=this.element,b=this,c=this.options,d=this.classes;if(b._isShown!=false){if(c.onbeforehide)c.onbeforehide();
var g=b.pageContainer.find(">."+d.CLS_PAGEBOX_ACTIVEPAGE);e._fnFindActivePagesInPagebox(g).each(function(){e._fnSubpageEventGenerate(this,"ev_pagebeforehide")});var h=g.data("page");g._pageTrigger("ev_pagebeforehide",[h]);var j=function(){c.transition!="none"&&a.removeClass("out in reverse "+c.transition);b.obj&&b.obj.remove();a.hide();g.removeClass(d.CLS_PAGEBOX_ACTIVEPAGE);e._fnFindActivePagesInPagebox(g).each(function(){e._fnSubpageEventGenerate(this,"ev_pagehide")});g._pageTrigger("ev_pagehide",
[h]);e.davinci.popup.zIndex-=2;if(c.onhide)c.onhide()};b._isShown=false;c.transition!="none"?(a.animationComplete(function(){j()}),a.removeClass("in").addClass(c.transition+" out reverse")):j()}}})})(jQuery);
(function(e,d){e.widget("davinci.dvcDataSource",e.davinci.dvcBase,{options:{bindonload:false,autouibind:true,showloadingmsg:false,proxy:"ajax",sourcetype:"json",url:"",method:"GET",query:"",timeout:2E3,key:"",action:"",value:"",schedule:0,eventNames:["ev_load","ev_error","ev_store","ev_apply","ev_complete"]},classes:{CLS_WIDGET:"dvc-datasource"},data:function(a){if(arguments.length===0)return this.jsonObject;else this.jsonObject=a;return this},apply:function(){var a=this.element;if(typeof ko!=="undefined"){var b=
{};b[this._widgetId]=this.jsonObject;try{ko.applyBindings(b,this.element[0].parentNode)}catch(c){this._error({code:1001,name:"DataBindingError",message:"Knockout.js applybindings run error."});return}}a.trigger("ev_complete",this);return this},_create:function(){var a=this,b=this.options,c=this.classes,d;for(d in b)(function(){var c=d;a[c]=function(d){return arguments.length===0?b[c]:(b[c]=d,a)}})();a._widgetId=a.element[0].id;a.element.addClass(c.CLS_WIDGET)},_success:function(a){var b=this.options,
c=this.element;if(b.sourcetype==="xml")try{a=e.xml2json(a)}catch(f){this._error({code:1002,name:"XmlParsingError",message:"Xml2JSON Parsing Error."});return}if(a==null||a==="")this._error({code:1003,name:"NullData",message:"Received Data is empty."});else if(this.data(a),this._loadingShowAndHide(false),a=c.triggerHandler("ev_load",this),a===d||a)this.data(this.jsonObject),b.autouibind&&((b=c.triggerHandler("ev_apply",this))||b===d)&&this.apply()},_error:function(a){this.element.trigger("ev_error",
{datasource:this,error:a});this._loadingShowAndHide(false)},load:function(){this._run();return this},store:function(){},_run:function(){},_request:function(){var a=this.options,b=this;a.url!==d&&(e.ajaxSetup({error:function(a,d){b._error({code:a.status,name:"HTTPError",message:d==="parsererror"?"Requested JSON parse failed.":d==="timeout"?"Time out error.":d==="abort"?"Ajax request aborted.":a.status===0?"Not connect. Verify Network.":a.status==404?"Requested page not found. [404]":a.status==500?
"Internal Server Error [500].":"Uncaught Error. "+a.responseText})}}),e.ajax({async:false,type:a.method||"GET",url:a.url,data:a.query||{},dataType:a.proxy==="jsonp"?"jsonp":a.sourcetype,timeout:a.timeout,success:function(a){b._success(a)}}))},_storage:function(){var a=this.options,b=this.element;if(this._setStorage())try{a.action==="load"?this._success(this.webStorage[a.key]):a.action==="store"&&(a.key===d||a.value===d?this._error({code:1006,name:"StoreError",message:"Key value undefined or Data value undefined."}):
(this.webStorage.setItem(a.key,JSON.stringify(a.value)),this.data(JSON.parse(this.webStorage[a.key])),b.trigger("ev_store",this)))}catch(c){this._error({code:1007,name:"WebStorageException",message:c.name+" , "+c.message})}else this._error({code:1005,name:"StorageNotSupport",message:a.proxy+" is not support."})},_setStorage:function(){var a=this.options;if("localStorage"in window&&window.localStorage!==null&&"sessionStorage"in window&&window.sessionStorage!==null){if(a.proxy==="localStorage")this.webStorage=
window.localStorage;else if(a.proxy==="sessionStorage")this.webStorage=window.sessionStorage;return true}else return false},_loadingShowAndHide:function(){},_startSchedule:function(){var a=this;a._runSchedule=setInterval(function(){a._run()},this.options.schedule)},_isStorage:function(){return this.options.proxy==="localStorage"||this.options.proxy==="sessionStorage"},_isAjax:function(){return this.options.proxy==="ajax"||this.options.proxy==="jsonp"}})})(jQuery);
(function(e,d){var a=new function(){var a=[],c=function(c,d){a.push(arguments);if(!a.timer)a.timer=setTimeout(f,10)},f=function(){if(typeof ko!=="undefined"&&ko.bindingHandlers){a.timer=d;c=function(a,b){var c,d,f=function(a){var b=Array.prototype.slice.call(arguments),f=b.pop();if(a){var g;g=a;var h=null,l=e(g).jqmData("role");l&&(h=e(g).data(l));(g=h)&&f in c?(b[0]=g,c[f].apply(null,b)):d&&f in d&&d[f].apply(null,b)}else console.error("element is undefined or null")};ko.bindingHandlers[a]=new function(a,
b){this.init=function(){var e=Array.prototype.slice.call(arguments);e.push("init");c=a;d=b;f.apply(null,e)};this.update=function(){var e=Array.prototype.slice.call(arguments);e.push("update");c=a;d=b;f.apply(null,e)}}(b,ko.bindingHandlers[a])};for(;a.length>0;)c.apply(null,a.shift());(function(){ko.bindingProvider.prototype._parseBindingsString=ko.bindingProvider.prototype.parseBindingsString;ko.bindingProvider.prototype.parseBindingsString=function(a,b){try{return this._parseBindingsString(a,b)}catch(c){}}})()}};
this.add=function(a,b){c(a,b)};this.has=function(a,b){return typeof a!=d&&b in a?true:false};this.createJsonFromDesign=function(a,b){if(typeof b!=="undefined"){for(var c=e(a).find(".dvc-listitem-item-design"),d=[],f,m=0;m<b.length;m++){f={};source=b[m];for(key in source)c.find("div:jqmData(role^='dvc')").each(function(){if(e(this).jqmData("role")){var a=e(this),c=a.attr("data-field");if(c){try{with(b[m])result=eval(c)}catch(d){console.warn("dvcDataBinding caught unmatched field : "+c)}b&&(f[a.attr("subid")]=
result)}}});f.userData=source;d.push(f)}return d}}};e.davinci.dataBindings=a;a.add("enable",{update:function(a,c){var d=ko.utils.unwrapObservable(c());a.enable(d)}});a.add("visible",{update:function(a,c){var d=ko.utils.unwrapObservable(c());a.visible(d)}});a.add("log",{update:function(a,c){console.log(ko.utils.unwrapObservable(c()))}});a.add("warn",{update:function(a,c){console.warn(ko.utils.unwrapObservable(c()))}});a.add("error",{update:function(a,c){console.error(ko.utils.unwrapObservable(c()))}});
a.add("javascript",{update:function(a,c){var d=ko.utils.unwrapObservable(c());switch(typeof d){case "function":d.call();break;case "string":eval(d)}}});a.add("text",{update:function(b,c){if(a.has(b,"text")){var d=ko.utils.unwrapObservable(c());b.text(d)}}});a.add("checked",{update:function(a,c){var d=ko.utils.unwrapObservable(c());a.checked(d)}});a.add("toggle",{update:function(a,c){ko.utils.unwrapObservable(c())&&a.toggle()}});a.add("src",{update:function(a,c){var d=ko.utils.unwrapObservable(c());
d&&a.src(d)}});a.add("type",{update:function(a,c){var d=ko.utils.unwrapObservable(c());d&&a.type(d)}});a.add("refresh",{update:function(a,c){ko.utils.unwrapObservable(c())&&a.refresh()}});a.add("textalign",{update:function(a,c){var d=ko.utils.unwrapObservable(c());d&&a.textAlign(d)}});a.add("min",{update:function(a,c){var d=ko.utils.unwrapObservable(c());d&&a.min(d)}});a.add("max",{update:function(a,c){var d=ko.utils.unwrapObservable(c());d&&a.max(d)}});a.add("value",{update:function(a,c){var d=ko.utils.unwrapObservable(c());
d&&a.value(d)}});a.add("focus",{update:function(a,c){ko.utils.unwrapObservable(c())&&a.focus()}});a.add("play",{update:function(a,c){ko.utils.unwrapObservable(c())&&a.play()}});a.add("pause",{update:function(a,c){ko.utils.unwrapObservable(c())&&a.pause()}});a.add("clear",{update:function(a,c){ko.utils.unwrapObservable(c())&&a.clear()}});a.add("append",{update:function(b,c){var d=ko.utils.unwrapObservable(c());(d=a.createJsonFromDesign(b.element,d))&&b.add(d)}});a.add("prepend",{update:function(b,
c){var d=ko.utils.unwrapObservable(c());if((d=a.createJsonFromDesign(b.element,d))&&b.widgetName=="dvcListitem"){var e=b.element.outerHeight();b.add(d,0);d=b.element.outerHeight()-e;b.scrollview.scrollTo(0,-d)}}});a.add("items",{update:function(b,c){var d=ko.utils.unwrapObservable(c());(d=a.createJsonFromDesign(b.element,d))&&b.items(d)}});a.add("load",{update:function(a,c){ko.utils.unwrapObservable(c())&&a.load()}});a.add("query",{update:function(a,c){var d=ko.utils.unwrapObservable(c());a.query(d)}})})(jQuery);
(function(e){e.fn._pageTrigger=function(d,a){this[0].id&&this.trigger(d,a)};e.fn._eventRegs=function(d){for(var a=this,b=function(b){var c=b.split("_");if(c.length==2){var d=a.attr(c[0]+"-on"+c[1]);if(d)if(c=d.split("."),c.length==1)typeof window[d]=="function"?a.live(b,function(a,c,e,f,h){a=window[d](a,c,e,f,h);return b==="ev_load"||b==="ev_apply"?a:false}):console.log(d+" function not found.");else{for(var e=window,f=0;f<c.length-1;f++)if(e=e[c[f]],!e)return;typeof e[c[f]]=="function"?a.live(b,
function(a,b,d,g,j){e[c[f]].call(e,a,b,d,g,j);return false}):console.log(d+" function not found.")}else(/ev_page\w+/.test(b)||b=="ev_orientationchange"||b=="ev_back")&&a.live(b,function(){return false})}},c=d.length,e=0;e<c;e++)b(d[e])};e._fnFindActivePagesInPagebox=function(d){var a=d[0].id;return d.find(".dvc-pagebox-activepage").filter(function(){var b=e(this);return b.parent().closest(".ui-page")[0].id==a&&b.parent().parent().hasClass("dvc-pagebox")?true:false})};e._fnSubpageEventGenerate=function(d,
a){var b=e(d),c=b.data("page");if(c){if(a=="ev_orientationchange"){var f=e.event.special.orientationchange.orientation();b._pageTrigger(a,[c,f])}else b._pageTrigger(a,[c]);e._fnFindActivePagesInPagebox(b).each(function(){e._fnSubpageEventGenerate(this,a)})}};e._fnPageInitialize=function(d){d.find("div:jqmData(role^='dvc')").filter(function(){return true}).each(function(){var a=e(this),c=a.jqmData("role");this.id||a.attr("subid");if(c){if(a.data(c))return true;a[c]()}});var a="ev_pageinit,ev_pagebeforehide,ev_pagehide,ev_pagebeforeshow,ev_pageshow,ev_orientationchange,ev_back".split(",");
d[0].id&&d._eventRegs(a)};e(window).one("pagecontainercreate",function(){var d=e.davinci.getDeviceType(),a=e.davinci.getOSName(),b=e("body");switch(d){case "Desktop":b.addClass("dvc-desktop");break;case "Tablet":b.addClass("dvc-tablet");break;case "Phone":b.addClass("dvc-phone")}switch(a){case "Android":b.addClass("dvc-android");break;case "iOS":b.addClass("dvc-ios")}});e(".ui-page").live("pageinit",function(){var d=e(this);e._fnPageInitialize(d);var a=d.data("page");d._pageTrigger("ev_pageinit",
[a]);return false});e(".ui-page").live("pagebeforeshow",function(){var d=e(this);e._fnFindActivePagesInPagebox(d).each(function(){e._fnSubpageEventGenerate(this,"ev_pagebeforeshow")});var a=d.data("page");d._pageTrigger("ev_pagebeforeshow",[a]);return false});e(".ui-page").live("pageshow",function(){var d=e(this);e._fnFindActivePagesInPagebox(d).each(function(){e._fnSubpageEventGenerate(this,"ev_pageshow")});var a=d.data("page");d._pageTrigger("ev_pageshow",[a]);return false});e(".ui-page").live("pagebeforehide",
function(){var d=e(this);e._fnFindActivePagesInPagebox(d).each(function(){e._fnSubpageEventGenerate(this,"ev_pagebeforehide")});var a=d.data("page");d._pageTrigger("ev_pagebeforehide",[a]);return false});e(".ui-page").live("pagehide",function(){var d=e(this);e._fnFindActivePagesInPagebox(d).each(function(){e._fnSubpageEventGenerate(this,"ev_pagehide")});var a=d.data("page");d._pageTrigger("ev_pagehide",[a]);return false})})(jQuery);
